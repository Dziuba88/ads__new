$.get("img/sprite.svg",function(data){var div=document.createElement("div");div.hidden=!0,div.innerHTML=(new XMLSerializer).serializeToString(data.documentElement),document.body.insertBefore(div,document.body.childNodes[0])}),$(document).ready(function(){setTimeout(function(){$("body").removeClass("loading"),$(".inxy-preloader").fadeOut("1000"),$(".inxy-page").fadeIn("1000")},500)}),function($){"use strict";function getParent($this){var $parent,selector=$this.attr("data-target");return selector||(selector=(selector=$this.attr("href"))&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")),($parent=selector&&$(selector))&&$parent.length?$parent:$this.parent()}function clearMenus(e){e&&3===e.which||($(backdrop).remove(),$(toggle).each(function(){var $this=$(this),$parent=getParent($this),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&(e&&"click"==e.type&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target)||($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||($this.attr("aria-expanded","false"),$parent.removeClass("open").trigger($.Event("hidden.bs.dropdown",relatedTarget)))))}))}var old,backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.7",Dropdown.prototype.toggle=function(e){var $parent,isActive,relatedTarget,$this=$(this);if(!$this.is(".disabled, :disabled")){if($parent=getParent($this),isActive=$parent.hasClass("open"),clearMenus(),!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",clearMenus),relatedTarget={relatedTarget:this},$parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true"),$parent.toggleClass("open").trigger($.Event("shown.bs.dropdown",relatedTarget))}return!1}},Dropdown.prototype.keydown=function(e){var $this,$parent,isActive,desc,$items,index;if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)&&($this=$(this),e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled"))){if($parent=getParent($this),!(isActive=$parent.hasClass("open"))&&27!=e.which||isActive&&27==e.which)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");desc=" li:not(.disabled):visible a",($items=$parent.find(".dropdown-menu"+desc)).length&&(index=$items.index(e.target),38==e.which&&index>0&&index--,40==e.which&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus"))}},old=$.fn.dropdown,$.fn.dropdown=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})},$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",".dropdown-menu",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",Dropdown.prototype.keydown)}(jQuery),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory(require("jquery")):factory(jQuery)}(function(jQuery){"use strict";var anilasttime,ClsMutationObserver,now,_globaloptions,browserdetected,getBrowserDetection,NiceScrollClass,ScrollMomentumClass2D,_scrollTop,_scrollLeft,NiceScrollArray,domfocus=!1,mousefocus=!1,tabindexcounter=0,ascrailcounter=2e3,globalmaxzindex=0,$=jQuery,_doc=document,_win=window,$window=$(_win),delegatevents=[],setAnimationFrame=_win.requestAnimationFrame||_win.webkitRequestAnimationFrame||_win.mozRequestAnimationFrame||!1,clearAnimationFrame=_win.cancelAnimationFrame||_win.webkitCancelAnimationFrame||_win.mozCancelAnimationFrame||!1;setAnimationFrame?_win.cancelAnimationFrame||(clearAnimationFrame=function(id){}):(anilasttime=0,setAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-anilasttime)),id=_win.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return anilasttime=currTime+timeToCall,id},clearAnimationFrame=function(id){_win.clearTimeout(id)}),ClsMutationObserver=_win.MutationObserver||_win.WebKitMutationObserver||!1,now=Date.now||function(){return(new Date).getTime()},_globaloptions={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var scripts=_doc.currentScript||function(){var s=_doc.getElementsByTagName("script");return!!s.length&&s[s.length-1]}(),path=scripts?scripts.src.split("?")[0]:"";return path.split("/").length>0?path.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},browserdetected=!1,getBrowserDetection=function(){if(browserdetected)return browserdetected;var _el=_doc.createElement("DIV"),_style=_el.style,_agent=navigator.userAgent,_platform=navigator.platform,d={};return d.haspointerlock="pointerLockElement"in _doc||"webkitPointerLockElement"in _doc||"mozPointerLockElement"in _doc,d.isopera="opera"in _win,d.isopera12=d.isopera&&"getUserMedia"in navigator,d.isoperamini="[object OperaMini]"==={}.toString.call(_win.operamini),d.isie="all"in _doc&&"attachEvent"in _el&&!d.isopera,d.isieold=d.isie&&!("msInterpolationMode"in _style),d.isie7=d.isie&&!d.isieold&&(!("documentMode"in _doc)||7===_doc.documentMode),d.isie8=d.isie&&"documentMode"in _doc&&8===_doc.documentMode,d.isie9=d.isie&&"performance"in _win&&9===_doc.documentMode,d.isie10=d.isie&&"performance"in _win&&10===_doc.documentMode,d.isie11="msRequestFullscreen"in _el&&_doc.documentMode>=11,d.ismsedge="msCredentials"in _win,d.ismozilla="MozAppearance"in _style,d.iswebkit=!d.ismsedge&&"WebkitAppearance"in _style,d.ischrome=d.iswebkit&&"chrome"in _win,d.ischrome38=d.ischrome&&"touchAction"in _style,d.ischrome22=!d.ischrome38&&d.ischrome&&d.haspointerlock,d.ischrome26=!d.ischrome38&&d.ischrome&&"transition"in _style,d.cantouch="ontouchstart"in _doc.documentElement||"ontouchstart"in _win,d.hasw3ctouch=(_win.PointerEvent||!1)&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),d.hasmstouch=!d.hasw3ctouch&&(_win.MSPointerEvent||!1),d.ismac=/^mac$/i.test(_platform),d.isios=d.cantouch&&/iphone|ipad|ipod/i.test(_platform),d.isios4=d.isios&&!("seal"in Object),d.isios7=d.isios&&"webkitHidden"in _doc,d.isios8=d.isios&&"hidden"in _doc,d.isios10=d.isios&&_win.Proxy,d.isandroid=/android/i.test(_agent),d.haseventlistener="addEventListener"in _el,d.trstyle=!1,d.hastransform=!1,d.hastranslate3d=!1,d.transitionstyle=!1,d.hastransition=!1,d.transitionend=!1,d.trstyle="transform",d.hastransform="transform"in _style||function(){var a,c,check=["msTransform","webkitTransform","MozTransform","OTransform"];for(a=0,c=check.length;c>a;a++)if(void 0!==_style[check[a]]){d.trstyle=check[a];break}d.hastransform=!!d.trstyle}(),d.hastransform&&(_style[d.trstyle]="translate3d(1px,2px,3px)",d.hastranslate3d=/translate3d/.test(_style[d.trstyle])),d.transitionstyle="transition",d.prefixstyle="",d.transitionend="transitionend",d.hastransition="transition"in _style||function(){var check,prefix,evs,a,c;for(d.transitionend=!1,prefix=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],evs=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],a=0,c=(check=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"]).length;c>a;a++)if(check[a]in _style){d.transitionstyle=check[a],d.prefixstyle=prefix[a],d.transitionend=evs[a];break}d.ischrome26&&(d.prefixstyle=prefix[1]),d.hastransition=d.transitionstyle}(),d.cursorgrabvalue=function(){var a,l,p,lst=["grab","-webkit-grab","-moz-grab"];for((d.ischrome&&!d.ischrome38||d.isie)&&(lst=[]),a=0,l=lst.length;l>a;a++)if(p=lst[a],_style.cursor=p,_style.cursor==p)return p;return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),d.hasmousecapture="setCapture"in _el,d.hasMutationObserver=!1!==ClsMutationObserver,_el=null,browserdetected=d,d},NiceScrollClass=function(myopt,me){function getMatrixValues(){var tr=self.doc.css(cap.trstyle);return!(!tr||"matrix"!=tr.substr(0,6))&&tr.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function getZIndex(){var zi,dom=self.win;if("zIndex"in dom)return dom.zIndex();for(;dom.length>0;){if(9==dom[0].nodeType)return!1;if(zi=dom.css("zIndex"),!isNaN(zi)&&0!==zi)return parseInt(zi);dom=dom.parent()}return!1}function getWidthToPixel(dom,prop,chkheight){var brd,wd=dom.css(prop),px=parseFloat(wd);return isNaN(px)?(px=_convertBorderWidth[wd]||0,brd=3==px?chkheight?self.win.outerHeight()-self.win.innerHeight():self.win.outerWidth()-self.win.innerWidth():1,self.isie8&&px&&(px+=1),brd?px:0):px}function _modernWheelEvent(dom,name,fn,bubble){self._bind(dom,name,function(e){var event={original:e=e||_win.event,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!0}};return"mousewheel"==name?(e.wheelDeltaX&&(event.deltaX=-.025*e.wheelDeltaX),e.wheelDeltaY&&(event.deltaY=-.025*e.wheelDeltaY),!event.deltaY&&!event.deltaX&&(event.deltaY=-.025*e.wheelDelta)):event.deltaY=e.detail,fn.call(dom,event)},bubble)}function doScrollRelative(px,py,chkscroll,iswheel){var gap,dx,ny,dy;if(self.scrollrunning||(self.newscrolly=self.getScrollTop(),self.newscrollx=self.getScrollLeft(),scrolltmr=now()),gap=now()-scrolltmr,scrolltmr=now(),gap>350?scrollspd=1:scrollspd+=(2-scrollspd)/10,px=px*scrollspd|0,py=py*scrollspd|0,px){if(iswheel)if(0>px){if(self.getScrollLeft()>=self.page.maxw)return!0}else if(0>=self.getScrollLeft())return!0;scrolldirx!==(dx=px>0?1:-1)&&(self.scrollmom&&self.scrollmom.stop(),self.newscrollx=self.getScrollLeft(),scrolldirx=dx),self.lastdeltax-=px}if(py){if(function(){var top=self.getScrollTop();if(0>py){if(top>=self.page.maxh)return!0}else if(0>=top)return!0}()){if(opt.nativeparentscrolling&&chkscroll&&!self.ispage&&!self.zoomactive)return!0;ny=self.view.h>>1,self.newscrolly<-ny?(self.newscrolly=-ny,py=-1):self.newscrolly>self.page.maxh+ny?(self.newscrolly=self.page.maxh+ny,py=1):py=0}scrolldiry!==(dy=py>0?1:-1)&&(self.scrollmom&&self.scrollmom.stop(),self.newscrolly=self.getScrollTop(),scrolldiry=dy),self.lastdeltay-=py}(py||px)&&self.synched("relativexy",function(){var dtx,dty=self.lastdeltay+self.newscrolly;self.lastdeltay=0,dtx=self.lastdeltax+self.newscrollx,self.lastdeltax=0,self.rail.drag||self.doScrollPos(dtx,dty)})}function execScrollWheel(e,hr,chkscroll){var px,py;return!(chkscroll||!hasparentscrollingphase)||(0===e.deltaMode?(px=-e.deltaX*(opt.mousescrollstep/54)|0,py=-e.deltaY*(opt.mousescrollstep/54)|0):1===e.deltaMode&&(px=-e.deltaX*opt.mousescrollstep*50/80|0,py=-e.deltaY*opt.mousescrollstep*50/80|0),hr&&opt.oneaxismousemode&&0===px&&py&&(px=py,py=0,chkscroll&&(0>px?self.getScrollLeft()>=self.page.maxw:0>=self.getScrollLeft())&&(py=px,px=0)),self.isrtlmode&&(px=-px),doScrollRelative(px,py,chkscroll,!0)?void(chkscroll&&(hasparentscrollingphase=!0)):(hasparentscrollingphase=!1,e.stopImmediatePropagation(),e.preventDefault()))}var $body,opt,a,target,writingMode,cap,BezierClass,cxscrollleft,_convertBorderWidth,hlazyresize,passiveSupported,options,scrolldiry,scrolldirx,scrolltmr,scrollspd,hasparentscrollingphase,lasttransitionstyle,self=this;if(this.version="3.7.6",this.name="nicescroll",this.me=me,$body=$("body"),opt=this.opt={doc:$body,win:!1},$.extend(opt,_globaloptions),opt.snapbackspeed=80,myopt)for(a in opt)void 0!==myopt[a]&&(opt[a]=myopt[a]);if(opt.disablemutationobserver&&(ClsMutationObserver=!1),this.doc=opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(opt.win?opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==opt.win,this.win=opt.win||(this.ispage?$window:this.doc),this.docscroll=this.ispage&&!this.haswrapper?$window:this.win,this.body=$body,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==opt.rtlmode?"horizontal-tb"==(writingMode=(target=this.win[0]==_win?this.body:this.win).css("writing-mode")||target.css("-webkit-writing-mode")||target.css("-ms-writing-mode")||target.css("-moz-writing-mode"))||"lr-tb"==writingMode||""===writingMode?(this.isrtlmode="rtl"==target.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==writingMode||"tb"==writingMode||"tb-rl"==writingMode||"rl-tb"==writingMode,this.isvertical="vertical-rl"==writingMode||"tb"==writingMode||"tb-rl"==writingMode):(this.isrtlmode=!0===opt.rtlmode,this.isvertical=!1),this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==opt.scrollbarid)this.id=opt.scrollbarid;else do{this.id="ascrail"+ascrailcounter++}while(_doc.getElementById(this.id));if(this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=opt.overflowx,this.overflowy=opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=getBrowserDetection(),cap=$.extend({},this.detected),this.canhwscroll=cap.hastransform&&opt.hwacceleration,this.ishwscroll=this.canhwscroll&&self.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(cap.iswebkit||cap.isie||cap.isie11):this.hasreversehr=!(cap.iswebkit||cap.isie&&!cap.isie10&&!cap.isie11):this.hasreversehr=!1,this.istouchcapable=!1,cap.cantouch||!cap.hasw3ctouch&&!cap.hasmstouch?!cap.cantouch||cap.isios||cap.isandroid||!cap.iswebkit&&!cap.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,opt.enablemouselockapi||(cap.hasmousecapture=!1,cap.haspointerlock=!1),this.debounced=function(name,fn,tm){self&&(self.delaylist[name]||!1||(self.delaylist[name]={h:setAnimationFrame(function(){self.delaylist[name].fn.call(self),self.delaylist[name]=!1},tm)},fn.call(self)),self.delaylist[name].fn=fn)},this.synched=function(name,fn){self.synclist[name]?self.synclist[name]=fn:(self.synclist[name]=fn,setAnimationFrame(function(){self&&(self.synclist[name]&&self.synclist[name].call(self),self.synclist[name]=null)}))},this.unsynched=function(name){self.synclist[name]&&(self.synclist[name]=!1)},this.css=function(el,pars){for(var n in pars)self.saved.css.push([el,n,el.css(n)]),el.css(n,pars[n])},this.scrollTop=function(val){return void 0===val?self.getScrollTop():self.setScrollTop(val)},this.scrollLeft=function(val){return void 0===val?self.getScrollLeft():self.setScrollLeft(val)},BezierClass=function(st,ed,spd,p1,p2,p3,p4){this.st=st,this.ed=ed,this.spd=spd,this.p1=p1||0,this.p2=p2||1,this.p3=p3||0,this.p4=p4||1,this.ts=now(),this.df=ed-st},BezierClass.prototype={B2:function(t){return 3*(1-t)*(1-t)*t},B3:function(t){return 3*(1-t)*t*t},B4:function(t){return t*t*t},getPos:function(){return(now()-this.ts)/this.spd},getNow:function(){var pc=(now()-this.ts)/this.spd,bz=this.B2(pc)+this.B3(pc)+this.B4(pc);return 1>pc?this.st+this.df*bz|0:this.ed},update:function(ed,spd){return this.st=this.getNow(),this.ed=ed,this.spd=spd,this.ts=now(),this.df=this.ed-this.st,this}},this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},cap.hastranslate3d&&cap.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(last){if(!last){var mtx=getMatrixValues();if(mtx)return 16==mtx.length?-mtx[13]:-mtx[5];if(self.timerscroll&&self.timerscroll.bz)return self.timerscroll.bz.getNow()}return self.doc.translate.y},this.getScrollLeft=function(last){if(!last){var mtx=getMatrixValues();if(mtx)return 16==mtx.length?-mtx[12]:-mtx[4];if(self.timerscroll&&self.timerscroll.bh)return self.timerscroll.bh.getNow()}return self.doc.translate.x},this.notifyScrollEvent=function(el){var e=_doc.createEvent("UIEvents");e.initUIEvent("scroll",!1,!1,_win,1),e.niceevent=!0,el.dispatchEvent(e)},cxscrollleft=this.isrtlmode?1:-1,cap.hastranslate3d&&opt.enabletranslate3d?(this.setScrollTop=function(val,silent){self.doc.translate.y=val,self.doc.translate.ty=-1*val+"px",self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0)"),silent||self.notifyScrollEvent(self.win[0])},this.setScrollLeft=function(val,silent){self.doc.translate.x=val,self.doc.translate.tx=val*cxscrollleft+"px",self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0)"),silent||self.notifyScrollEvent(self.win[0])}):(this.setScrollTop=function(val,silent){self.doc.translate.y=val,self.doc.translate.ty=-1*val+"px",self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")"),silent||self.notifyScrollEvent(self.win[0])},this.setScrollLeft=function(val,silent){self.doc.translate.x=val,self.doc.translate.tx=val*cxscrollleft+"px",self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")"),silent||self.notifyScrollEvent(self.win[0])})):(this.getScrollTop=function(){return self.docscroll.scrollTop()},this.setScrollTop=function(val){self.docscroll.scrollTop(val)},this.getScrollLeft=function(){return self.hasreversehr?self.detected.ismozilla?self.page.maxw-Math.abs(self.docscroll.scrollLeft()):self.page.maxw-self.docscroll.scrollLeft():self.docscroll.scrollLeft()},this.setScrollLeft=function(val){return setTimeout(function(){if(self)return self.hasreversehr&&(val=self.detected.ismozilla?-(self.page.maxw-val):self.page.maxw-val),self.docscroll.scrollLeft(val)},1)}),this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,id){if(!e)return!1;for(var el=e.target||e.srcElement||e||!1;el&&el.id!=id;)el=el.parentNode||!1;return!1!==el},_convertBorderWidth={thin:1,medium:3,thick:5},this.getDocumentScrollOffset=function(){return{top:_win.pageYOffset||_doc.documentElement.scrollTop,left:_win.pageXOffset||_doc.documentElement.scrollLeft}},this.getOffset=function(){var ofs,scrl,ww,vp;return self.isfixed?(ofs=self.win.offset(),scrl=self.getDocumentScrollOffset(),ofs.top-=scrl.top,ofs.left-=scrl.left,ofs):(ww=self.win.offset(),self.viewport?(vp=self.viewport.offset(),{top:ww.top-vp.top,left:ww.left-vp.left}):ww)},this.updateScrollBar=function(len){var pos,off,wpos,y,x;self.ishwscroll?(self.rail.css({height:self.win.innerHeight()-(opt.railpadding.top+opt.railpadding.bottom)}),self.railh&&self.railh.css({width:self.win.innerWidth()-(opt.railpadding.left+opt.railpadding.right)})):((pos={top:(wpos=self.getOffset()).top,left:wpos.left-(opt.railpadding.left+opt.railpadding.right)}).top+=getWidthToPixel(self.win,"border-top-width",!0),pos.left+=self.rail.align?self.win.outerWidth()-getWidthToPixel(self.win,"border-right-width")-self.rail.width:getWidthToPixel(self.win,"border-left-width"),(off=opt.railoffset)&&(off.top&&(pos.top+=off.top),off.left&&(pos.left+=off.left)),self.railslocked||self.rail.css({top:pos.top,left:pos.left,height:(len?len.h:self.win.innerHeight())-(opt.railpadding.top+opt.railpadding.bottom)}),self.zoom&&self.zoom.css({top:pos.top+1,left:1==self.rail.align?pos.left-20:pos.left+self.rail.width+4}),self.railh&&!self.railslocked&&(pos={top:wpos.top,left:wpos.left},(off=opt.railhoffset)&&(off.top&&(pos.top+=off.top),off.left&&(pos.left+=off.left)),y=self.railh.align?pos.top+getWidthToPixel(self.win,"border-top-width",!0)+self.win.innerHeight()-self.railh.height:pos.top+getWidthToPixel(self.win,"border-top-width",!0),x=pos.left+getWidthToPixel(self.win,"border-left-width"),self.railh.css({top:y-(opt.railpadding.top+opt.railpadding.bottom),left:x,width:self.railh.width})))},this.doRailClick=function(e,dbl,hr){var fn,pg,cur,pos;self.railslocked||(self.cancelEvent(e),"pageY"in e||(e.pageX=e.clientX+_doc.documentElement.scrollLeft,e.pageY=e.clientY+_doc.documentElement.scrollTop),dbl?(fn=hr?self.doScrollLeft:self.doScrollTop,cur=hr?(e.pageX-self.railh.offset().left-self.cursorwidth/2)*self.scrollratio.x:(e.pageY-self.rail.offset().top-self.cursorheight/2)*self.scrollratio.y,self.unsynched("relativexy"),fn(0|cur)):(fn=hr?self.doScrollLeftBy:self.doScrollBy,cur=hr?self.scroll.x:self.scroll.y,pos=hr?e.pageX-self.railh.offset().left:e.pageY-self.rail.offset().top,pg=hr?self.view.w:self.view.h,fn(pos>cur?-pg:pg)))},self.newscrolly=self.newscrollx=0,self.hasanimationframe="requestAnimationFrame"in _win,self.hascancelanimationframe="cancelAnimationFrame"in _win,self.hasborderbox=!1,this.init=function(){var _scrollyhidden,cont,cursor,rail,v,a,kp,n,zoom,railh,bd,rlpos,moveneedoffset,locktollerance,checkSelectionScroll,tmp,ww,_dom,oniframeload;if(self.saved.css=[],cap.isoperamini)return!0;if(cap.isandroid&&!("hidden"in _doc))return!0;if(opt.emulatetouch=opt.emulatetouch||opt.touchbehavior,self.hasborderbox=_win.getComputedStyle&&"border-box"===_win.getComputedStyle(_doc.body)["box-sizing"],_scrollyhidden={"overflow-y":"hidden"},(cap.isie11||cap.isie10)&&(_scrollyhidden["-ms-overflow-style"]="none"),self.ishwscroll&&(this.doc.css(cap.transitionstyle,cap.prefixstyle+"transform 0ms ease-out"),cap.transitionend&&self.bind(self.doc,cap.transitionend,self.onScrollTransitionEnd,!1)),self.zindex="auto",self.ispage||"auto"!=opt.zindex?self.zindex=opt.zindex:self.zindex=getZIndex()||"auto",!self.ispage&&"auto"!=self.zindex&&self.zindex>globalmaxzindex&&(globalmaxzindex=self.zindex),self.isie&&0===self.zindex&&"auto"==opt.zindex&&(self.zindex="auto"),!self.ispage||!cap.isieold){cont=self.docscroll,self.ispage&&(cont=self.haswrapper?self.win:self.doc),self.css(cont,_scrollyhidden),self.ispage&&(cap.isie11||cap.isie)&&self.css($("html"),_scrollyhidden),!cap.isios||self.ispage||self.haswrapper||self.css($body,{"-webkit-overflow-scrolling":"touch"}),(cursor=$(_doc.createElement("div"))).css({position:"relative",top:0,float:"right",width:opt.cursorwidth,height:0,"background-color":opt.cursorcolor,border:opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":opt.cursorborderradius,"-moz-border-radius":opt.cursorborderradius,"border-radius":opt.cursorborderradius}),cursor.addClass("nicescroll-cursors"),self.cursor=cursor,(rail=$(_doc.createElement("div"))).attr("id",self.id),rail.addClass("nicescroll-rails nicescroll-rails-vr"),kp=["left","right","top","bottom"];for(n in kp)a=kp[n],(v=opt.railpadding[a]||0)&&rail.css("padding-"+a,v+"px");rail.append(cursor),rail.width=Math.max(parseFloat(opt.cursorwidth),cursor.outerWidth()),rail.css({width:rail.width+"px",zIndex:self.zindex,background:opt.background,cursor:"default"}),rail.visibility=!0,rail.scrollable=!0,rail.align="left"==opt.railalign?0:1,self.rail=rail,self.rail.drag=!1,zoom=!1,!opt.boxzoom||self.ispage||cap.isieold||(zoom=_doc.createElement("div"),self.bind(zoom,"click",self.doZoom),self.bind(zoom,"mouseenter",function(){self.zoom.css("opacity",opt.cursoropacitymax)}),self.bind(zoom,"mouseleave",function(){self.zoom.css("opacity",opt.cursoropacitymin)}),self.zoom=$(zoom),self.zoom.css({cursor:"pointer",zIndex:self.zindex,backgroundImage:"url("+opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),opt.dblclickzoom&&self.bind(self.win,"dblclick",self.doZoom),cap.cantouch&&opt.gesturezoom&&(self.ongesturezoom=function(e){return e.scale>1.5&&self.doZoomIn(e),.8>e.scale&&self.doZoomOut(e),self.cancelEvent(e)},self.bind(self.win,"gestureend",self.ongesturezoom))),self.railh=!1,opt.horizrailenabled&&(self.css(cont,{overflowX:"hidden"}),(cursor=$(_doc.createElement("div"))).css({position:"absolute",top:0,height:opt.cursorwidth,width:0,backgroundColor:opt.cursorcolor,border:opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":opt.cursorborderradius,"-moz-border-radius":opt.cursorborderradius,"border-radius":opt.cursorborderradius}),cap.isieold&&cursor.css("overflow","hidden"),cursor.addClass("nicescroll-cursors"),self.cursorh=cursor,(railh=$(_doc.createElement("div"))).attr("id",self.id+"-hr"),railh.addClass("nicescroll-rails nicescroll-rails-hr"),railh.height=Math.max(parseFloat(opt.cursorwidth),cursor.outerHeight()),railh.css({height:railh.height+"px",zIndex:self.zindex,background:opt.background}),railh.append(cursor),railh.visibility=!0,railh.scrollable=!0,railh.align="top"==opt.railvalign?0:1,self.railh=railh,self.railh.drag=!1),self.ispage?(rail.css({position:"fixed",top:0,height:"100%"}),rail.css(rail.align?{right:0}:{left:0}),self.body.append(rail),self.railh&&(railh.css({position:"fixed",left:0,width:"100%"}),railh.css(railh.align?{bottom:0}:{top:0}),self.body.append(railh))):(self.ishwscroll?("static"==self.win.css("position")&&self.css(self.win,{position:"relative"}),bd="HTML"==self.win[0].nodeName?self.body:self.win,$(bd).scrollTop(0).scrollLeft(0),self.zoom&&(self.zoom.css({position:"absolute",top:1,right:0,"margin-right":rail.width+4}),bd.append(self.zoom)),rail.css({position:"absolute",top:0}),rail.css(rail.align?{right:0}:{left:0}),bd.append(rail),railh&&(railh.css({position:"absolute",left:0,bottom:0}),railh.css(railh.align?{bottom:0}:{top:0}),bd.append(railh))):(self.isfixed="fixed"==self.win.css("position"),rlpos=self.isfixed?"fixed":"absolute",self.isfixed||(self.viewport=self.getViewport(self.win[0])),self.viewport&&(self.body=self.viewport,/fixed|absolute/.test(self.viewport.css("position"))||self.css(self.viewport,{position:"relative"})),rail.css({position:rlpos}),self.zoom&&self.zoom.css({position:rlpos}),self.updateScrollBar(),self.body.append(rail),self.zoom&&self.body.append(self.zoom),self.railh&&(railh.css({position:rlpos}),self.body.append(railh))),cap.isios&&self.css(self.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),opt.disableoutline&&(cap.isie&&self.win.attr("hideFocus","true"),cap.iswebkit&&self.win.css("outline","none"))),!1===opt.autohidemode?(self.autohidedom=!1,self.rail.css({opacity:opt.cursoropacitymax}),self.railh&&self.railh.css({opacity:opt.cursoropacitymax})):!0===opt.autohidemode||"leave"===opt.autohidemode?(self.autohidedom=$().add(self.rail),cap.isie8&&(self.autohidedom=self.autohidedom.add(self.cursor)),self.railh&&(self.autohidedom=self.autohidedom.add(self.railh)),self.railh&&cap.isie8&&(self.autohidedom=self.autohidedom.add(self.cursorh))):"scroll"==opt.autohidemode?(self.autohidedom=$().add(self.rail),self.railh&&(self.autohidedom=self.autohidedom.add(self.railh))):"cursor"==opt.autohidemode?(self.autohidedom=$().add(self.cursor),self.railh&&(self.autohidedom=self.autohidedom.add(self.cursorh))):"hidden"==opt.autohidemode&&(self.autohidedom=!1,self.hide(),self.railslocked=!1),(cap.cantouch||self.istouchcapable||opt.emulatetouch||cap.hasmstouch)&&(self.scrollmom=new ScrollMomentumClass2D(self),null,self.ontouchstart=function(e){var tg,ismouse,le,view,page,maxh,maxw,wp;if(self.locked)return!1;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;if(self.hasmoving=!1,self.scrollmom.timer&&(self.triggerScrollEnd(),self.scrollmom.stop()),!self.railslocked){if((tg=self.getTarget(e))&&(/INPUT/i.test(tg.nodeName)&&/range/i.test(tg.type)))return self.stopPropagation(e);if(ismouse="mousedown"===e.type,!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),self.forcescreen&&(le=e,(e={original:e.original?e.original:e}).clientX=le.screenX,e.clientY=le.screenY),self.rail.drag={x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,st:self.getScrollTop(),sl:self.getScrollLeft(),pt:2,dl:!1,tg:tg},self.ispage||!opt.directionlockdeadzone?self.rail.drag.dl="f":(view={w:$window.width(),h:$window.height()},maxh=(page=self.getContentSize()).h-view.h,maxw=page.w-view.w,self.rail.scrollable&&!self.railh.scrollable?self.rail.drag.ck=maxh>0&&"v":!self.rail.scrollable&&self.railh.scrollable?self.rail.drag.ck=maxw>0&&"h":self.rail.drag.ck=!1),opt.emulatetouch&&self.isiframe&&cap.isie&&(wp=self.win.position(),self.rail.drag.x+=wp.left,self.rail.drag.y+=wp.top),self.hasmoving=!1,self.lastmouseup=!1,self.scrollmom.reset(e.clientX,e.clientY),tg&&ismouse){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(tg.nodeName))return cap.hasmousecapture&&tg.setCapture(),opt.emulatetouch?(tg.onclick&&!tg._onclick&&(tg._onclick=tg.onclick,tg.onclick=function(e){if(self.hasmoving)return!1;tg._onclick.call(this,e)}),self.cancelEvent(e)):self.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr("type"))&&(self.preventclick={tg:tg,click:!1})}}},self.ontouchend=function(e){if(!self.rail.drag)return!0;if(2==self.rail.drag.pt){if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!1;self.rail.drag=!1;var ismouse="mouseup"===e.type;if(self.hasmoving&&(self.scrollmom.doMomentum(),self.lastmouseup=!0,self.hideCursor(),cap.hasmousecapture&&_doc.releaseCapture(),ismouse))return self.cancelEvent(e)}else if(1==self.rail.drag.pt)return self.onmouseup(e)},moveneedoffset=opt.emulatetouch&&self.isiframe&&!cap.hasmousecapture,locktollerance=.3*opt.directionlockdeadzone|0,self.ontouchmove=function(e,byiframe){var ofy,ofx,wp,fy,my,fx,mx,ny,nx,ay,ax,dz;if(!self.rail.drag)return!0;if(e.targetTouches&&opt.preventmultitouchscrolling&&e.targetTouches.length>1)return!0;if(e.pointerType&&("mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))return!0;if(2==self.rail.drag.pt){if("changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),ofx=ofy=0,moveneedoffset&&!byiframe&&(ofx=-(wp=self.win.position()).left,ofy=-wp.top),fy=e.clientY+ofy,my=fy-self.rail.drag.y,fx=e.clientX+ofx,mx=fx-self.rail.drag.x,ny=self.rail.drag.st-my,self.ishwscroll&&opt.bouncescroll)0>ny?ny=Math.round(ny/2):ny>self.page.maxh&&(ny=self.page.maxh+Math.round((ny-self.page.maxh)/2));else if(0>ny?(ny=0,fy=0):ny>self.page.maxh&&(ny=self.page.maxh,fy=0),0===fy&&!self.hasmoving)return self.ispage||(self.rail.drag=!1),!0;if(nx=self.getScrollLeft(),self.railh&&self.railh.scrollable&&(nx=self.isrtlmode?mx-self.rail.drag.sl:self.rail.drag.sl-mx,self.ishwscroll&&opt.bouncescroll?0>nx?nx=Math.round(nx/2):nx>self.page.maxw&&(nx=self.page.maxw+Math.round((nx-self.page.maxw)/2)):(0>nx&&(nx=0,fx=0),nx>self.page.maxw&&(nx=self.page.maxw,fx=0))),!self.hasmoving){if(self.rail.drag.y===e.clientY&&self.rail.drag.x===e.clientX)return self.cancelEvent(e);if(ay=Math.abs(my),ax=Math.abs(mx),dz=opt.directionlockdeadzone,self.rail.drag.ck?"v"==self.rail.drag.ck?ax>dz&&locktollerance>=ay?self.rail.drag=!1:ay>dz&&(self.rail.drag.dl="v"):"h"==self.rail.drag.ck&&(ay>dz&&locktollerance>=ax?self.rail.drag=!1:ax>dz&&(self.rail.drag.dl="h")):ay>dz&&ax>dz?self.rail.drag.dl="f":ay>dz?self.rail.drag.dl=ax>locktollerance?"f":"v":ax>dz&&(self.rail.drag.dl=ay>locktollerance?"f":"h"),!self.rail.drag.dl)return self.cancelEvent(e);self.triggerScrollStart(e.clientX,e.clientY,0,0,0),self.hasmoving=!0}return self.preventclick&&!self.preventclick.click&&(self.preventclick.click=self.preventclick.tg.onclick||!1,self.preventclick.tg.onclick=self.onpreventclick),self.rail.drag.dl&&("v"==self.rail.drag.dl?nx=self.rail.drag.sl:"h"==self.rail.drag.dl&&(ny=self.rail.drag.st)),self.synched("touchmove",function(){self.rail.drag&&2==self.rail.drag.pt&&(self.prepareTransition&&self.resetTransition(),self.rail.scrollable&&self.setScrollTop(ny),self.scrollmom.update(fx,fy),self.railh&&self.railh.scrollable?(self.setScrollLeft(nx),self.showCursor(ny,nx)):self.showCursor(ny),cap.isie10&&_doc.selection.clear())}),self.cancelEvent(e)}return 1==self.rail.drag.pt?self.onmousemove(e):void 0},self.ontouchstartCursor=function(e,hronly){if(!self.rail.drag||3==self.rail.drag.pt){if(self.locked)return self.cancelEvent(e);self.cancelScroll(),self.rail.drag={x:e.touches[0].clientX,y:e.touches[0].clientY,sx:self.scroll.x,sy:self.scroll.y,pt:3,hr:!!hronly};var tg=self.getTarget(e);return!self.ispage&&cap.hasmousecapture&&tg.setCapture(),self.isiframe&&!cap.hasmousecapture&&(self.saved.csspointerevents=self.doc.css("pointer-events"),self.css(self.doc,{"pointer-events":"none"})),self.cancelEvent(e)}},self.ontouchendCursor=function(e){if(self.rail.drag){if(cap.hasmousecapture&&_doc.releaseCapture(),self.isiframe&&!cap.hasmousecapture&&self.doc.css("pointer-events",self.saved.csspointerevents),3!=self.rail.drag.pt)return;return self.rail.drag=!1,self.cancelEvent(e)}},self.ontouchmoveCursor=function(e){var mw,my;if(self.rail.drag){if(3!=self.rail.drag.pt)return;return self.cursorfreezed=!0,self.rail.drag.hr?(self.scroll.x=self.rail.drag.sx+(e.touches[0].clientX-self.rail.drag.x),0>self.scroll.x&&(self.scroll.x=0),mw=self.scrollvaluemaxw,self.scroll.x>mw&&(self.scroll.x=mw)):(self.scroll.y=self.rail.drag.sy+(e.touches[0].clientY-self.rail.drag.y),0>self.scroll.y&&(self.scroll.y=0),my=self.scrollvaluemax,self.scroll.y>my&&(self.scroll.y=my)),self.synched("touchmove",function(){self.rail.drag&&3==self.rail.drag.pt&&(self.showCursor(),self.rail.drag.hr?self.doScrollLeft(Math.round(self.scroll.x*self.scrollratio.x),opt.cursordragspeed):self.doScrollTop(Math.round(self.scroll.y*self.scrollratio.y),opt.cursordragspeed))}),self.cancelEvent(e)}}),self.onmousedown=function(e,hronly){if(!self.rail.drag||1==self.rail.drag.pt){if(self.railslocked)return self.cancelEvent(e);self.cancelScroll(),self.rail.drag={x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,pt:1,hr:hronly||!1};var tg=self.getTarget(e);return cap.hasmousecapture&&tg.setCapture(),self.isiframe&&!cap.hasmousecapture&&(self.saved.csspointerevents=self.doc.css("pointer-events"),self.css(self.doc,{"pointer-events":"none"})),self.hasmoving=!1,self.cancelEvent(e)}},self.onmouseup=function(e){if(self.rail.drag)return 1!=self.rail.drag.pt||(cap.hasmousecapture&&_doc.releaseCapture(),self.isiframe&&!cap.hasmousecapture&&self.doc.css("pointer-events",self.saved.csspointerevents),self.rail.drag=!1,self.cursorfreezed=!1,self.hasmoving&&self.triggerScrollEnd(),self.cancelEvent(e))},self.onmousemove=function(e){var mw,my;if(self.rail.drag){if(1!==self.rail.drag.pt)return;return cap.ischrome&&0===e.which?self.onmouseup(e):(self.cursorfreezed=!0,self.hasmoving||self.triggerScrollStart(e.clientX,e.clientY,0,0,0),self.hasmoving=!0,self.rail.drag.hr?(self.scroll.x=self.rail.drag.sx+(e.clientX-self.rail.drag.x),0>self.scroll.x&&(self.scroll.x=0),mw=self.scrollvaluemaxw,self.scroll.x>mw&&(self.scroll.x=mw)):(self.scroll.y=self.rail.drag.sy+(e.clientY-self.rail.drag.y),0>self.scroll.y&&(self.scroll.y=0),my=self.scrollvaluemax,self.scroll.y>my&&(self.scroll.y=my)),self.synched("mousemove",function(){self.cursorfreezed&&(self.showCursor(),self.rail.drag.hr?self.scrollLeft(Math.round(self.scroll.x*self.scrollratio.x)):self.scrollTop(Math.round(self.scroll.y*self.scrollratio.y)))}),self.cancelEvent(e))}self.checkarea=0},cap.cantouch||opt.emulatetouch?(self.onpreventclick=function(e){if(self.preventclick)return self.preventclick.tg.onclick=self.preventclick.click,self.preventclick=!1,self.cancelEvent(e)},self.onclick=!cap.isios&&function(e){return!self.lastmouseup||(self.lastmouseup=!1,self.cancelEvent(e))},opt.grabcursorenabled&&cap.cursorgrabvalue&&(self.css(self.ispage?self.doc:self.win,{cursor:cap.cursorgrabvalue}),self.css(self.rail,{cursor:cap.cursorgrabvalue}))):(checkSelectionScroll=function(e){var ww,df,rt;self.selectiondrag&&(e&&(ww=self.win.outerHeight(),(df=e.pageY-self.selectiondrag.top)>0&&ww>df&&(df=0),ww>df||(df-=ww),self.selectiondrag.df=df),0!==self.selectiondrag.df&&(rt=-2*self.selectiondrag.df/6|0,self.doScrollBy(rt),self.debounced("doselectionscroll",function(){checkSelectionScroll()},50)))},self.hasTextSelected="getSelection"in _doc?function(){return _doc.getSelection().rangeCount>0}:"selection"in _doc?function(){return"None"!=_doc.selection.type}:function(){return!1},self.onselectionstart=function(e){self.ispage||(self.selectiondrag=self.win.offset())},self.onselectionend=function(e){self.selectiondrag=!1},self.onselectiondrag=function(e){self.selectiondrag&&self.hasTextSelected()&&self.debounced("selectionscroll",function(){checkSelectionScroll(e)},250)}),cap.hasw3ctouch?(self.css(self.ispage?$("html"):self.win,{"touch-action":"none"}),self.css(self.rail,{"touch-action":"none"}),self.css(self.cursor,{"touch-action":"none"}),self.bind(self.win,"pointerdown",self.ontouchstart),self.bind(_doc,"pointerup",self.ontouchend),self.delegate(_doc,"pointermove",self.ontouchmove)):cap.hasmstouch?(self.css(self.ispage?$("html"):self.win,{"-ms-touch-action":"none"}),self.css(self.rail,{"-ms-touch-action":"none"}),self.css(self.cursor,{"-ms-touch-action":"none"}),self.bind(self.win,"MSPointerDown",self.ontouchstart),self.bind(_doc,"MSPointerUp",self.ontouchend),self.delegate(_doc,"MSPointerMove",self.ontouchmove),self.bind(self.cursor,"MSGestureHold",function(e){e.preventDefault()}),self.bind(self.cursor,"contextmenu",function(e){e.preventDefault()})):cap.cantouch&&(self.bind(self.win,"touchstart",self.ontouchstart,!1,!0),self.bind(_doc,"touchend",self.ontouchend,!1,!0),self.bind(_doc,"touchcancel",self.ontouchend,!1,!0),self.delegate(_doc,"touchmove",self.ontouchmove,!1,!0)),opt.emulatetouch&&(self.bind(self.win,"mousedown",self.ontouchstart,!1,!0),self.bind(_doc,"mouseup",self.ontouchend,!1,!0),self.bind(_doc,"mousemove",self.ontouchmove,!1,!0)),(opt.cursordragontouch||!cap.cantouch&&!opt.emulatetouch)&&(self.rail.css({cursor:"default"}),self.railh&&self.railh.css({cursor:"default"}),self.jqbind(self.rail,"mouseenter",function(){if(!self.ispage&&!self.win.is(":visible"))return!1;self.canshowonmouseevent&&self.showCursor(),self.rail.active=!0}),self.jqbind(self.rail,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}),opt.sensitiverail&&(self.bind(self.rail,"click",function(e){self.doRailClick(e,!1,!1)}),self.bind(self.rail,"dblclick",function(e){self.doRailClick(e,!0,!1)}),self.bind(self.cursor,"click",function(e){self.cancelEvent(e)}),self.bind(self.cursor,"dblclick",function(e){self.cancelEvent(e)})),self.railh&&(self.jqbind(self.railh,"mouseenter",function(){if(!self.ispage&&!self.win.is(":visible"))return!1;self.canshowonmouseevent&&self.showCursor(),self.rail.active=!0}),self.jqbind(self.railh,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}),opt.sensitiverail&&(self.bind(self.railh,"click",function(e){self.doRailClick(e,!1,!0)}),self.bind(self.railh,"dblclick",function(e){self.doRailClick(e,!0,!0)}),self.bind(self.cursorh,"click",function(e){self.cancelEvent(e)}),self.bind(self.cursorh,"dblclick",function(e){self.cancelEvent(e)})))),opt.cursordragontouch&&(this.istouchcapable||cap.cantouch)&&(self.bind(self.cursor,"touchstart",self.ontouchstartCursor),self.bind(self.cursor,"touchmove",self.ontouchmoveCursor),self.bind(self.cursor,"touchend",self.ontouchendCursor),self.cursorh&&self.bind(self.cursorh,"touchstart",function(e){self.ontouchstartCursor(e,!0)}),self.cursorh&&self.bind(self.cursorh,"touchmove",self.ontouchmoveCursor),self.cursorh&&self.bind(self.cursorh,"touchend",self.ontouchendCursor)),opt.emulatetouch||cap.isandroid||cap.isios?(self.bind(cap.hasmousecapture?self.win:_doc,"mouseup",self.ontouchend),self.onclick&&self.bind(_doc,"click",self.onclick),opt.cursordragontouch?(self.bind(self.cursor,"mousedown",self.onmousedown),self.bind(self.cursor,"mouseup",self.onmouseup),self.cursorh&&self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,!0)}),self.cursorh&&self.bind(self.cursorh,"mouseup",self.onmouseup)):(self.bind(self.rail,"mousedown",function(e){e.preventDefault()}),self.railh&&self.bind(self.railh,"mousedown",function(e){e.preventDefault()}))):(self.bind(cap.hasmousecapture?self.win:_doc,"mouseup",self.onmouseup),self.bind(_doc,"mousemove",self.onmousemove),self.onclick&&self.bind(_doc,"click",self.onclick),self.bind(self.cursor,"mousedown",self.onmousedown),self.bind(self.cursor,"mouseup",self.onmouseup),self.railh&&(self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,!0)}),self.bind(self.cursorh,"mouseup",self.onmouseup)),!self.ispage&&opt.enablescrollonselection&&(self.bind(self.win[0],"mousedown",self.onselectionstart),self.bind(_doc,"mouseup",self.onselectionend),self.bind(self.cursor,"mouseup",self.onselectionend),self.cursorh&&self.bind(self.cursorh,"mouseup",self.onselectionend),self.bind(_doc,"mousemove",self.onselectiondrag)),self.zoom&&(self.jqbind(self.zoom,"mouseenter",function(){self.canshowonmouseevent&&self.showCursor(),self.rail.active=!0}),self.jqbind(self.zoom,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}))),opt.enablemousewheel&&(self.isiframe||self.mousewheel(cap.isie&&self.ispage?_doc:self.win,self.onmousewheel),self.mousewheel(self.rail,self.onmousewheel),self.railh&&self.mousewheel(self.railh,self.onmousewheelhr)),self.ispage||cap.cantouch||/HTML|^BODY/.test(self.win[0].nodeName)||(self.win.attr("tabindex")||self.win.attr({tabindex:++tabindexcounter}),self.bind(self.win,"focus",function(e){domfocus=self.getTarget(e).id||self.getTarget(e)||!1,self.hasfocus=!0,self.canshowonmouseevent&&self.noticeCursor()}),self.bind(self.win,"blur",function(e){domfocus=!1,self.hasfocus=!1}),self.bind(self.win,"mouseenter",function(e){mousefocus=self.getTarget(e).id||self.getTarget(e)||!1,self.hasmousefocus=!0,self.canshowonmouseevent&&self.noticeCursor()}),self.bind(self.win,"mouseleave",function(e){mousefocus=!1,self.hasmousefocus=!1,self.rail.drag||self.hideCursor()})),self.onkeypress=function(e){var tg,key,ctrl,shift,ret;if(self.railslocked&&0===self.page.maxh)return!0;if(e=e||_win.event,(tg=self.getTarget(e))&&/INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)&&(!(tg.getAttribute("type")||tg.type||!1)||!/submit|button|cancel/i.tp))return!0;if($(tg).attr("contenteditable"))return!0;if(self.hasfocus||self.hasmousefocus&&!domfocus||self.ispage&&!domfocus&&!mousefocus){if(key=e.keyCode,self.railslocked&&27!=key)return self.cancelEvent(e);switch(ctrl=e.ctrlKey||!1,shift=e.shiftKey||!1,ret=!1,key){case 38:case 63233:self.doScrollBy(72),ret=!0;break;case 40:case 63235:self.doScrollBy(-72),ret=!0;break;case 37:case 63232:self.railh&&(ctrl?self.doScrollLeft(0):self.doScrollLeftBy(72),ret=!0);break;case 39:case 63234:self.railh&&(ctrl?self.doScrollLeft(self.page.maxw):self.doScrollLeftBy(-72),ret=!0);break;case 33:case 63276:self.doScrollBy(self.view.h),ret=!0;break;case 34:case 63277:self.doScrollBy(-self.view.h),ret=!0;break;case 36:case 63273:self.railh&&ctrl?self.doScrollPos(0,0):self.doScrollTo(0),ret=!0;break;case 35:case 63275:self.railh&&ctrl?self.doScrollPos(self.page.maxw,self.page.maxh):self.doScrollTo(self.page.maxh),ret=!0;break;case 32:opt.spacebarenabled&&(shift?self.doScrollBy(self.view.h):self.doScrollBy(-self.view.h),ret=!0);break;case 27:self.zoomactive&&(self.doZoom(),ret=!0)}if(ret)return self.cancelEvent(e)}},opt.enablekeyboard&&self.bind(_doc,cap.isopera&&!cap.isopera12?"keypress":"keydown",self.onkeypress),self.bind(_doc,"keydown",function(e){(e.ctrlKey||!1)&&(self.wheelprevented=!0)}),self.bind(_doc,"keyup",function(e){e.ctrlKey||!1||(self.wheelprevented=!1)}),self.bind(_win,"blur",function(e){self.wheelprevented=!1}),self.bind(_win,"resize",self.onscreenresize),self.bind(_win,"orientationchange",self.onscreenresize),self.bind(_win,"load",self.lazyResize),!cap.ischrome||self.ispage||self.haswrapper||(tmp=self.win.attr("style"),ww=parseFloat(self.win.css("width"))+1,self.win.css("width",ww),self.synched("chromefix",function(){self.win.attr("style",tmp)})),self.onAttributeChange=function(e){self.lazyResize(self.isieold?250:30)},opt.enableobserver&&(self.isie11||!1===ClsMutationObserver||(self.observerbody=new ClsMutationObserver(function(mutations){if(mutations.forEach(function(mut){if("attributes"==mut.type)return $body.hasClass("modal-open")&&$body.hasClass("modal-dialog")&&!$.contains($(".modal-dialog")[0],self.doc[0])?self.hide():self.show()}),self.me.clientWidth!=self.page.width||self.me.clientHeight!=self.page.height)return self.lazyResize(30)}),self.observerbody.observe(_doc.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),self.ispage||self.haswrapper||(_dom=self.win[0],!1!==ClsMutationObserver?(self.observer=new ClsMutationObserver(function(mutations){mutations.forEach(self.onAttributeChange)}),self.observer.observe(_dom,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),self.observerremover=new ClsMutationObserver(function(mutations){mutations.forEach(function(mo){if(mo.removedNodes.length>0)for(var dd in mo.removedNodes)if(self&&mo.removedNodes[dd]===_dom)return self.remove()})}),self.observerremover.observe(_dom.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(self.bind(_dom,cap.isie&&!cap.isie9?"propertychange":"DOMAttrModified",self.onAttributeChange),cap.isie9&&_dom.attachEvent("onpropertychange",self.onAttributeChange),self.bind(_dom,"DOMNodeRemoved",function(e){e.target===_dom&&self.remove()})))),!self.ispage&&opt.boxzoom&&self.bind(_win,"resize",self.resizeZoom),self.istextarea&&(self.bind(self.win,"keydown",self.lazyResize),self.bind(self.win,"mouseup",self.lazyResize)),self.lazyResize(30)}"IFRAME"==this.doc[0].nodeName&&(oniframeload=function(){var doc,hh;self.iframexd=!1;try{(doc="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(e){self.iframexd=!0,doc=!1}if(self.iframexd)return"console"in _win&&console.log("NiceScroll error: policy restriced iframe"),!0;self.forcescreen=!0,self.isiframe&&(self.iframe={doc:$(doc),html:self.doc.contents().find("html")[0],body:self.doc.contents().find("body")[0]},self.getContentSize=function(){return{w:Math.max(self.iframe.html.scrollWidth,self.iframe.body.scrollWidth),h:Math.max(self.iframe.html.scrollHeight,self.iframe.body.scrollHeight)}},self.docscroll=$(self.iframe.body)),cap.isios||!opt.iframeautoresize||self.isiframe||(self.win.scrollTop(0),self.doc.height(""),hh=Math.max(doc.getElementsByTagName("html")[0].scrollHeight,doc.body.scrollHeight),self.doc.height(hh)),self.lazyResize(30),self.css($(self.iframe.body),_scrollyhidden),cap.isios&&self.haswrapper&&self.css($(doc.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?self.bind(this.contentWindow,"scroll",self.onscroll):self.bind(doc,"scroll",self.onscroll),opt.enablemousewheel&&self.mousewheel(doc,self.onmousewheel),opt.enablekeyboard&&self.bind(doc,cap.isopera?"keypress":"keydown",self.onkeypress),cap.cantouch?(self.bind(doc,"touchstart",self.ontouchstart),self.bind(doc,"touchmove",self.ontouchmove)):opt.emulatetouch&&(self.bind(doc,"mousedown",self.ontouchstart),self.bind(doc,"mousemove",function(e){return self.ontouchmove(e,!0)}),opt.grabcursorenabled&&cap.cursorgrabvalue&&self.css($(doc.body),{cursor:cap.cursorgrabvalue})),self.bind(doc,"mouseup",self.ontouchend),self.zoom&&(opt.dblclickzoom&&self.bind(doc,"dblclick",self.doZoom),self.ongesturezoom&&self.bind(doc,"gestureend",self.ongesturezoom))},this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){oniframeload.call(self.doc[0],!1)},500),self.bind(this.doc,"load",oniframeload))},this.showCursor=function(py,px){if(self.cursortimeout&&(clearTimeout(self.cursortimeout),self.cursortimeout=0),self.rail){if(self.autohidedom&&(self.autohidedom.stop().css({opacity:opt.cursoropacitymax}),self.cursoractive=!0),self.rail.drag&&1==self.rail.drag.pt||(void 0!==py&&!1!==py&&(self.scroll.y=py/self.scrollratio.y|0),void 0!==px&&(self.scroll.x=px/self.scrollratio.x|0)),self.cursor.css({height:self.cursorheight,top:self.scroll.y}),self.cursorh){var lx=self.hasreversehr?self.scrollvaluemaxw-self.scroll.x:self.scroll.x;self.cursorh.css({width:self.cursorwidth,left:!self.rail.align&&self.rail.visibility?lx+self.rail.width:lx}),self.cursoractive=!0}self.zoom&&self.zoom.stop().css({opacity:opt.cursoropacitymax})}},this.hideCursor=function(tm){self.cursortimeout||self.rail&&self.autohidedom&&(self.hasmousefocus&&"leave"===opt.autohidemode||(self.cursortimeout=setTimeout(function(){self.rail.active&&self.showonmouseevent||(self.autohidedom.stop().animate({opacity:opt.cursoropacitymin}),self.zoom&&self.zoom.stop().animate({opacity:opt.cursoropacitymin}),self.cursoractive=!1),self.cursortimeout=0},tm||opt.hidecursordelay)))},this.noticeCursor=function(tm,py,px){self.showCursor(py,px),self.rail.active||self.hideCursor(tm)},this.getContentSize=self.ispage?function(){return{w:Math.max(_doc.body.scrollWidth,_doc.documentElement.scrollWidth),h:Math.max(_doc.body.scrollHeight,_doc.documentElement.scrollHeight)}}:self.haswrapper?function(){return{w:self.doc[0].offsetWidth,h:self.doc[0].offsetHeight}}:function(){return{w:self.docscroll[0].scrollWidth,h:self.docscroll[0].scrollHeight}},this.onResize=function(e,page){var premaxh,premaxw,previewh,previeww,pos,lst;if(!self||!self.win)return!1;if(premaxh=self.page.maxh,premaxw=self.page.maxw,previewh=self.view.h,previeww=self.view.w,self.view={w:self.ispage?self.win.width():self.win[0].clientWidth,h:self.ispage?self.win.height():self.win[0].clientHeight},self.page=page||self.getContentSize(),self.page.maxh=Math.max(0,self.page.h-self.view.h),self.page.maxw=Math.max(0,self.page.w-self.view.w),self.page.maxh==premaxh&&self.page.maxw==premaxw&&self.view.w==previeww&&self.view.h==previewh){if(self.ispage)return self;if(pos=self.win.offset(),self.lastposition&&(lst=self.lastposition).top==pos.top&&lst.left==pos.left)return self;self.lastposition=pos}return 0===self.page.maxh?(self.hideRail(),self.scrollvaluemax=0,self.scroll.y=0,self.scrollratio.y=0,self.cursorheight=0,self.setScrollTop(0),self.rail&&(self.rail.scrollable=!1)):(self.page.maxh-=opt.railpadding.top+opt.railpadding.bottom,self.rail.scrollable=!0),0===self.page.maxw?(self.hideRailHr(),self.scrollvaluemaxw=0,self.scroll.x=0,self.scrollratio.x=0,self.cursorwidth=0,self.setScrollLeft(0),self.railh&&(self.railh.scrollable=!1)):(self.page.maxw-=opt.railpadding.left+opt.railpadding.right,self.railh&&(self.railh.scrollable=opt.horizrailenabled)),self.railslocked=self.locked||0===self.page.maxh&&0===self.page.maxw,self.railslocked?(self.ispage||self.updateScrollBar(self.view),!1):(self.hidden||(self.rail.visibility||self.showRail(),self.railh&&!self.railh.visibility&&self.showRailHr()),self.istextarea&&self.win.css("resize")&&"none"!=self.win.css("resize")&&(self.view.h-=20),self.cursorheight=Math.min(self.view.h,Math.round(self.view.h*(self.view.h/self.page.h))),self.cursorheight=opt.cursorfixedheight?opt.cursorfixedheight:Math.max(opt.cursorminheight,self.cursorheight),self.cursorwidth=Math.min(self.view.w,Math.round(self.view.w*(self.view.w/self.page.w))),self.cursorwidth=opt.cursorfixedheight?opt.cursorfixedheight:Math.max(opt.cursorminheight,self.cursorwidth),self.scrollvaluemax=self.view.h-self.cursorheight-(opt.railpadding.top+opt.railpadding.bottom),self.hasborderbox||(self.scrollvaluemax-=self.cursor[0].offsetHeight-self.cursor[0].clientHeight),self.railh&&(self.railh.width=self.page.maxh>0?self.view.w-self.rail.width:self.view.w,self.scrollvaluemaxw=self.railh.width-self.cursorwidth-(opt.railpadding.left+opt.railpadding.right)),self.ispage||self.updateScrollBar(self.view),self.scrollratio={x:self.page.maxw/self.scrollvaluemaxw,y:self.page.maxh/self.scrollvaluemax},self.getScrollTop()>self.page.maxh?self.doScrollTop(self.page.maxh):(self.scroll.y=self.getScrollTop()/self.scrollratio.y|0,self.scroll.x=self.getScrollLeft()/self.scrollratio.x|0,self.cursoractive&&self.noticeCursor()),self.scroll.y&&0===self.getScrollTop()&&self.doScrollTo(self.scroll.y*self.scrollratio.y|0),self)},this.resize=self.onResize,hlazyresize=0,this.onscreenresize=function(e){clearTimeout(hlazyresize);var hiderails=!self.ispage&&!self.haswrapper;hiderails&&self.hideRails(),hlazyresize=setTimeout(function(){self&&(hiderails&&self.showRails(),self.resize()),hlazyresize=0},120)},this.lazyResize=function(tm){return clearTimeout(hlazyresize),tm=isNaN(tm)?240:tm,hlazyresize=setTimeout(function(){self&&self.resize(),hlazyresize=0},tm),self},this.jqbind=function(dom,name,fn){self.events.push({e:dom,n:name,f:fn,q:!0}),$(dom).on(name,fn)},this.mousewheel=function(dom,fn,bubble){var wname,el="jquery"in dom?dom[0]:dom;"onwheel"in _doc.createElement("div")?self._bind(el,"wheel",fn,bubble||!1):(_modernWheelEvent(el,wname=void 0!==_doc.onmousewheel?"mousewheel":"DOMMouseScroll",fn,bubble||!1),"DOMMouseScroll"==wname&&_modernWheelEvent(el,"MozMousePixelScroll",fn,bubble||!1))},passiveSupported=!1,cap.haseventlistener){try{options=Object.defineProperty({},"passive",{get:function(){passiveSupported=!0}}),_win.addEventListener("test",null,options)}catch(err){}this.stopPropagation=function(e){return!!e&&((e=e.original?e.original:e).stopPropagation(),!1)},this.cancelEvent=function(e){return e.cancelable&&e.preventDefault(),e.stopImmediatePropagation(),e.preventManipulation&&e.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},_win.constructor.prototype.addEventListener=_doc.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(type,listener,useCapture){this.attachEvent("on"+type,listener)},_win.constructor.prototype.removeEventListener=_doc.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(type,listener,useCapture){this.detachEvent("on"+type,listener)},this.cancelEvent=function(e){return(e=e||_win.event)&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1),!1},this.stopPropagation=function(e){return(e=e||_win.event)&&(e.cancelBubble=!0),!1};this.delegate=function(dom,name,fn,bubble,active){var de=delegatevents[name]||!1;de||(de={a:[],l:[],f:function(e){var a,lst=de.l,r=!1;for(a=lst.length-1;a>=0;a--)if(!1===(r=lst[a].call(e.target,e)))return!1;return r}},self.bind(dom,name,de.f,bubble,active),delegatevents[name]=de),self.ispage?(de.a=[self.id].concat(de.a),de.l=[fn].concat(de.l)):(de.a.push(self.id),de.l.push(fn))},this.undelegate=function(dom,name,fn,bubble,active){var a,l,de=delegatevents[name]||!1;if(de&&de.l)for(a=0,l=de.l.length;l>a;a++)de.a[a]===self.id&&(de.a.splice(a),de.l.splice(a),0===de.a.length&&(self._unbind(dom,name,de.l.f),delegatevents[name]=null))},this.bind=function(dom,name,fn,bubble,active){var el="jquery"in dom?dom[0]:dom;self._bind(el,name,fn,bubble||!1,active||!1)},this._bind=function(el,name,fn,bubble,active){self.events.push({e:el,n:name,f:fn,b:bubble,q:!1}),passiveSupported&&active?el.addEventListener(name,fn,{passive:!1,capture:bubble}):el.addEventListener(name,fn,bubble||!1)},this._unbind=function(el,name,fn,bub){delegatevents[name]?self.undelegate(el,name,fn,bub):el.removeEventListener(name,fn,bub)},this.unbindAll=function(){var a,r;for(a=0;a<self.events.length;a++)(r=self.events[a]).q?r.e.unbind(r.n,r.f):self._unbind(r.e,r.n,r.f,r.b)},this.showRails=function(){return self.showRail().showRailHr()},this.showRail=function(){return 0===self.page.maxh||!self.ispage&&"none"==self.win.css("display")||(self.rail.visibility=!0,self.rail.css("display","block")),self},this.showRailHr=function(){return self.railh&&(0===self.page.maxw||!self.ispage&&"none"==self.win.css("display")||(self.railh.visibility=!0,self.railh.css("display","block"))),self},this.hideRails=function(){return self.hideRail().hideRailHr()},this.hideRail=function(){return self.rail.visibility=!1,self.rail.css("display","none"),self},this.hideRailHr=function(){return self.railh&&(self.railh.visibility=!1,self.railh.css("display","none")),self},this.show=function(){return self.hidden=!1,self.railslocked=!1,self.showRails()},this.hide=function(){return self.hidden=!0,self.railslocked=!0,self.hideRails()},this.toggle=function(){return self.hidden?self.show():self.hide()},this.remove=function(){var n,a,d,lst,i;self.stop(),self.cursortimeout&&clearTimeout(self.cursortimeout);for(n in self.delaylist)self.delaylist[n]&&clearAnimationFrame(self.delaylist[n].h);for(self.doZoomOut(),self.unbindAll(),cap.isie9&&self.win[0].detachEvent("onpropertychange",self.onAttributeChange),!1!==self.observer&&self.observer.disconnect(),!1!==self.observerremover&&self.observerremover.disconnect(),!1!==self.observerbody&&self.observerbody.disconnect(),self.events=null,self.cursor&&self.cursor.remove(),self.cursorh&&self.cursorh.remove(),self.rail&&self.rail.remove(),self.railh&&self.railh.remove(),self.zoom&&self.zoom.remove(),a=0;a<self.saved.css.length;a++)(d=self.saved.css[a])[0].css(d[1],void 0===d[2]?"":d[2]);self.saved=!1,self.me.data("__nicescroll",""),(lst=$.nicescroll).each(function(i){if(this&&this.id===self.id){delete lst[i];for(var b=++i;b<lst.length;b++,i++)lst[i]=lst[b];lst.length--,lst.length&&delete lst[lst.length]}});for(i in self)self[i]=null,delete self[i];self=null},this.scrollstart=function(fn){return this.onscrollstart=fn,self},this.scrollend=function(fn){return this.onscrollend=fn,self},this.scrollcancel=function(fn){return this.onscrollcancel=fn,self},this.zoomin=function(fn){return this.onzoomin=fn,self},this.zoomout=function(fn){return this.onzoomout=fn,self},this.isScrollable=function(e){var dd,ov,dom=e.target?e.target:e;if("OPTION"==dom.nodeName)return!0;for(;dom&&1==dom.nodeType&&dom!==this.me[0]&&!/^BODY|HTML/.test(dom.nodeName);){if(dd=$(dom),ov=dd.css("overflowY")||dd.css("overflowX")||dd.css("overflow")||"",/scroll|auto/.test(ov))return dom.clientHeight!=dom.scrollHeight;dom=!!dom.parentNode&&dom.parentNode}return!1},this.getViewport=function(me){for(var dd,ov,dom=!(!me||!me.parentNode)&&me.parentNode;dom&&1==dom.nodeType&&!/^BODY|HTML/.test(dom.nodeName);){if(dd=$(dom),/fixed|absolute/.test(dd.css("position")))return dd;if(ov=dd.css("overflowY")||dd.css("overflowX")||dd.css("overflow")||"",/scroll|auto/.test(ov)&&dom.clientHeight!=dom.scrollHeight)return dd;if(dd.getNiceScroll().length>0)return dd;dom=!!dom.parentNode&&dom.parentNode}return!1},this.triggerScrollStart=function(cx,cy,rx,ry,ms){if(self.onscrollstart){var info={type:"scrollstart",current:{x:cx,y:cy},request:{x:rx,y:ry},end:{x:self.newscrollx,y:self.newscrolly},speed:ms};self.onscrollstart.call(self,info)}},this.triggerScrollEnd=function(){var px,py,info;self.onscrollend&&(info={type:"scrollend",current:{x:px=self.getScrollLeft(),y:py=self.getScrollTop()},end:{x:px,y:py}},self.onscrollend.call(self,info))},scrolldiry=0,scrolldirx=0,scrolltmr=0,scrollspd=1,hasparentscrollingphase=!1,this.onmousewheel=function(e){var nw,chk,ret;return!self.wheelprevented&&!self.locked&&(self.railslocked?(self.debounced("checkunlock",self.resize,250),!1):self.rail.drag?self.cancelEvent(e):("auto"===opt.oneaxismousemode&&0!==e.deltaX&&(opt.oneaxismousemode=!1),opt.oneaxismousemode&&0===e.deltaX&&!self.rail.scrollable?!self.railh||!self.railh.scrollable||self.onmousewheelhr(e):(nw=now(),chk=!1,opt.preservenativescrolling&&self.checkarea+600<nw&&(self.nativescrollingarea=self.isScrollable(e),chk=!0),self.checkarea=nw,!!self.nativescrollingarea||((ret=execScrollWheel(e,!1,chk))&&(self.checkarea=0),ret))))},this.onmousewheelhr=function(e){var nw,chk;if(!self.wheelprevented)return!(!self.railslocked&&self.railh.scrollable)||(self.rail.drag?self.cancelEvent(e):(nw=now(),chk=!1,opt.preservenativescrolling&&self.checkarea+600<nw&&(self.nativescrollingarea=self.isScrollable(e),chk=!0),self.checkarea=nw,!!self.nativescrollingarea||(self.railslocked?self.cancelEvent(e):execScrollWheel(e,!0,chk))))},this.stop=function(){return self.cancelScroll(),self.scrollmon&&self.scrollmon.stop(),self.cursorfreezed=!1,self.scroll.y=Math.round(self.getScrollTop()*(1/self.scrollratio.y)),self.noticeCursor(),self},this.getTransitionSpeed=function(dif){return 80+dif/72*opt.scrollspeed|0},opt.smoothscroll?self.ishwscroll&&cap.hastransition&&opt.usetransition&&opt.smoothscroll?(lasttransitionstyle="",this.resetTransition=function(){lasttransitionstyle="",self.doc.css(cap.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(dif,istime){var ex=istime?dif:self.getTransitionSpeed(dif),trans=ex+"ms";return lasttransitionstyle!==trans&&(lasttransitionstyle=trans,self.doc.css(cap.prefixstyle+"transition-duration",trans)),ex},this.doScrollLeft=function(x,spd){var y=self.scrollrunning?self.newscrolly:self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.scrollrunning?self.newscrollx:self.getScrollLeft();self.doScrollPos(x,y,spd)},this.cursorupdate={running:!1,start:function(){var loop,m=this;m.running||(m.running=!0,setAnimationFrame(loop=function(){m.running&&setAnimationFrame(loop),self.showCursor(self.getScrollTop(),self.getScrollLeft()),self.notifyScrollEvent(self.win[0])}))},stop:function(){this.running=!1}},this.doScrollPos=function(x,y,spd){var top,lft,dst,dd,ms,py=self.getScrollTop(),px=self.getScrollLeft();if((0>(self.newscrolly-py)*(y-py)||0>(self.newscrollx-px)*(x-px))&&self.cancelScroll(),opt.bouncescroll?(0>y?y=y/2|0:y>self.page.maxh&&(y=self.page.maxh+(y-self.page.maxh)/2|0),0>x?x=x/2|0:x>self.page.maxw&&(x=self.page.maxw+(x-self.page.maxw)/2|0)):(0>y?y=0:y>self.page.maxh&&(y=self.page.maxh),0>x?x=0:x>self.page.maxw&&(x=self.page.maxw)),self.scrollrunning&&x==self.newscrollx&&y==self.newscrolly)return!1;self.newscrolly=y,self.newscrollx=x,top=self.getScrollTop(),lft=self.getScrollLeft(),(dst={}).x=x-lft,dst.y=y-top,dd=0|Math.sqrt(dst.x*dst.x+dst.y*dst.y),ms=self.prepareTransition(dd),self.scrollrunning||(self.scrollrunning=!0,self.triggerScrollStart(lft,top,x,y,ms),self.cursorupdate.start()),self.scrollendtrapped=!0,cap.transitionend||(self.scrollendtrapped&&clearTimeout(self.scrollendtrapped),self.scrollendtrapped=setTimeout(self.onScrollTransitionEnd,ms)),self.setScrollTop(self.newscrolly),self.setScrollLeft(self.newscrollx)},this.cancelScroll=function(){var py,px;return!self.scrollendtrapped||(py=self.getScrollTop(),px=self.getScrollLeft(),self.scrollrunning=!1,cap.transitionend||clearTimeout(cap.transitionend),self.scrollendtrapped=!1,self.resetTransition(),self.setScrollTop(py),self.railh&&self.setScrollLeft(px),self.timerscroll&&self.timerscroll.tm&&clearInterval(self.timerscroll.tm),self.timerscroll=!1,self.cursorfreezed=!1,self.cursorupdate.stop(),self.showCursor(py,px),self)},this.onScrollTransitionEnd=function(){var py,px;if(self.scrollendtrapped){if(py=self.getScrollTop(),px=self.getScrollLeft(),0>py?py=0:py>self.page.maxh&&(py=self.page.maxh),0>px?px=0:px>self.page.maxw&&(px=self.page.maxw),py!=self.newscrolly||px!=self.newscrollx)return self.doScrollPos(px,py,opt.snapbackspeed);self.scrollrunning&&self.triggerScrollEnd(),self.scrollrunning=!1,self.scrollendtrapped=!1,self.resetTransition(),self.timerscroll=!1,self.setScrollTop(py),self.railh&&self.setScrollLeft(px),self.cursorupdate.stop(),self.noticeCursor(!1,py,px),self.cursorfreezed=!1}}):(this.doScrollLeft=function(x,spd){var y=self.scrollrunning?self.newscrolly:self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.scrollrunning?self.newscrollx:self.getScrollLeft();self.doScrollPos(x,y,spd)},this.doScrollPos=function(x,y,spd){var clipped,dd,ms,p3,loop,py=self.getScrollTop(),px=self.getScrollLeft();if((0>(self.newscrolly-py)*(y-py)||0>(self.newscrollx-px)*(x-px))&&self.cancelScroll(),clipped=!1,self.bouncescroll&&self.rail.visibility||(0>y?(y=0,clipped=!0):y>self.page.maxh&&(y=self.page.maxh,clipped=!0)),self.bouncescroll&&self.railh.visibility||(0>x?(x=0,clipped=!0):x>self.page.maxw&&(x=self.page.maxw,clipped=!0)),self.scrollrunning&&self.newscrolly===y&&self.newscrollx===x)return!0;self.newscrolly=y,self.newscrollx=x,self.dst={},self.dst.x=x-px,self.dst.y=y-py,self.dst.px=px,self.dst.py=py,dd=0|Math.sqrt(self.dst.x*self.dst.x+self.dst.y*self.dst.y),ms=self.getTransitionSpeed(dd),self.bzscroll={},p3=clipped?1:.58,self.bzscroll.x=new BezierClass(px,self.newscrollx,ms,0,0,p3,1),self.bzscroll.y=new BezierClass(py,self.newscrolly,ms,0,0,p3,1),now(),loop=function(){if(self.scrollrunning){var x=self.bzscroll.y.getPos();self.setScrollLeft(self.bzscroll.x.getNow()),self.setScrollTop(self.bzscroll.y.getNow()),x>1?(self.scrollrunning=!1,self.timer=0,self.triggerScrollEnd()):self.timer=setAnimationFrame(loop)}},self.scrollrunning||(self.triggerScrollStart(px,py,x,y,ms),self.scrollrunning=!0,self.timer=setAnimationFrame(loop))},this.cancelScroll=function(){return self.timer&&clearAnimationFrame(self.timer),self.timer=0,self.bzscroll=!1,self.scrollrunning=!1,self}):(this.doScrollLeft=function(x,spd){var y=self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.getScrollLeft();self.doScrollPos(x,y,spd)},this.doScrollPos=function(x,y,spd){var ny,nx=x>self.page.maxw?self.page.maxw:x;0>nx&&(nx=0),0>(ny=y>self.page.maxh?self.page.maxh:y)&&(ny=0),self.synched("scroll",function(){self.setScrollTop(ny),self.setScrollLeft(nx)})},this.cancelScroll=function(){}),this.doScrollBy=function(stp,relative){doScrollRelative(0,stp)},this.doScrollLeftBy=function(stp,relative){doScrollRelative(stp,0)},this.doScrollTo=function(pos,relative){var ny=relative?Math.round(pos*self.scrollratio.y):pos;0>ny?ny=0:ny>self.page.maxh&&(ny=self.page.maxh),self.cursorfreezed=!1,self.doScrollTop(pos)},this.checkContentSize=function(){var pg=self.getContentSize();pg.h==self.page.h&&pg.w==self.page.w||self.resize(!1,pg)},self.onscroll=function(e){self.rail.drag||self.cursorfreezed||self.synched("scroll",function(){self.scroll.y=Math.round(self.getScrollTop()/self.scrollratio.y),self.railh&&(self.scroll.x=Math.round(self.getScrollLeft()/self.scrollratio.x)),self.noticeCursor()})},self.bind(self.docscroll,"scroll",self.onscroll),this.doZoomIn=function(e){var lst,win,a,pp,bkg;if(!self.zoomactive){self.zoomactive=!0,self.zoomrestore={style:{}},lst=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],win=self.win[0].style;for(a in lst)pp=lst[a],self.zoomrestore.style[pp]=void 0!==win[pp]?win[pp]:"";return self.zoomrestore.style.width=self.win.css("width"),self.zoomrestore.style.height=self.win.css("height"),self.zoomrestore.padding={w:self.win.outerWidth()-self.win.width(),h:self.win.outerHeight()-self.win.height()},cap.isios4&&(self.zoomrestore.scrollTop=$window.scrollTop(),$window.scrollTop(0)),self.win.css({position:cap.isios4?"absolute":"fixed",top:0,left:0,zIndex:globalmaxzindex+100,margin:0}),(""===(bkg=self.win.css("backgroundColor"))||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(bkg))&&self.win.css("backgroundColor","#fff"),self.rail.css({zIndex:globalmaxzindex+101}),self.zoom.css({zIndex:globalmaxzindex+102}),self.zoom.css("backgroundPosition","0 -18px"),self.resizeZoom(),self.onzoomin&&self.onzoomin.call(self),self.cancelEvent(e)}},this.doZoomOut=function(e){if(self.zoomactive)return self.zoomactive=!1,self.win.css("margin",""),self.win.css(self.zoomrestore.style),cap.isios4&&$window.scrollTop(self.zoomrestore.scrollTop),self.rail.css({"z-index":self.zindex}),self.zoom.css({"z-index":self.zindex}),self.zoomrestore=!1,self.zoom.css("backgroundPosition","0 0"),self.onResize(),self.onzoomout&&self.onzoomout.call(self),self.cancelEvent(e)},this.doZoom=function(e){return self.zoomactive?self.doZoomOut(e):self.doZoomIn(e)},this.resizeZoom=function(){if(self.zoomactive){var py=self.getScrollTop();self.win.css({width:$window.width()-self.zoomrestore.padding.w+"px",height:$window.height()-self.zoomrestore.padding.h+"px"}),self.onResize(),self.setScrollTop(Math.min(self.page.maxh,py))}},this.init(),$.nicescroll.push(this)},ScrollMomentumClass2D=function(nc){var self=this;this.nc=nc,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(px,py){self.stop(),self.steptime=0,self.lasttime=now(),self.speedx=0,self.speedy=0,self.lastx=px,self.lasty=py,self.lastscrollx=-1,self.lastscrolly=-1},this.update=function(px,py){var dy,dx,newy,newx,tm=now();self.steptime=tm-self.lasttime,self.lasttime=tm,dy=py-self.lasty,dx=px-self.lastx,newy=self.nc.getScrollTop()+dy,newx=self.nc.getScrollLeft()+dx,self.snapx=0>newx||newx>self.nc.page.maxw,self.snapy=0>newy||newy>self.nc.page.maxh,self.speedx=dx,self.speedy=dy,self.lastx=px,self.lasty=py},this.stop=function(){self.nc.unsynched("domomentum2d"),self.timer&&clearTimeout(self.timer),self.timer=0,self.lastscrollx=-1,self.lastscrolly=-1},this.doSnapy=function(nx,ny){var snap=!1;0>ny?(ny=0,snap=!0):ny>self.nc.page.maxh&&(ny=self.nc.page.maxh,snap=!0),0>nx?(nx=0,snap=!0):nx>self.nc.page.maxw&&(nx=self.nc.page.maxw,snap=!0),snap?self.nc.doScrollPos(nx,ny,self.nc.opt.snapbackspeed):self.nc.triggerScrollEnd()},this.doMomentum=function(gp){var chk,sy,sx,tm,xm,nx,ny,onscroll,t=now(),l=gp?t+gp:self.lasttime,sl=self.nc.getScrollLeft(),st=self.nc.getScrollTop(),pageh=self.nc.page.maxh,pagew=self.nc.page.maxw;self.speedx=pagew>0?Math.min(60,self.speedx):0,self.speedy=pageh>0?Math.min(60,self.speedy):0,chk=l&&60>=t-l,(0>st||st>pageh||0>sl||sl>pagew)&&(chk=!1),sy=!(!self.speedy||!chk)&&self.speedy,sx=!(!self.speedx||!chk)&&self.speedx,sy||sx?((tm=Math.max(16,self.steptime))>50&&(xm=tm/50,self.speedx*=xm,self.speedy*=xm,tm=50),self.demulxy=0,self.lastscrollx=self.nc.getScrollLeft(),self.chkx=self.lastscrollx,self.lastscrolly=self.nc.getScrollTop(),self.chky=self.lastscrolly,nx=self.lastscrollx,ny=self.lastscrolly,(onscroll=function(){var df=now()-t>600?.04:.02;self.speedx&&(nx=Math.floor(self.lastscrollx-self.speedx*(1-self.demulxy)),self.lastscrollx=nx,(0>nx||nx>pagew)&&(df=.1)),self.speedy&&(ny=Math.floor(self.lastscrolly-self.speedy*(1-self.demulxy)),self.lastscrolly=ny,(0>ny||ny>pageh)&&(df=.1)),self.demulxy=Math.min(1,self.demulxy+df),self.nc.synched("domomentum2d",function(){self.speedx&&(self.nc.getScrollLeft(),self.chkx=nx,self.nc.setScrollLeft(nx)),self.speedy&&(self.nc.getScrollTop(),self.chky=ny,self.nc.setScrollTop(ny)),self.timer||(self.nc.hideCursor(),self.doSnapy(nx,ny))}),1>self.demulxy?self.timer=setTimeout(onscroll,tm):(self.stop(),self.nc.hideCursor(),self.doSnapy(nx,ny))})()):self.doSnapy(self.nc.getScrollLeft(),self.nc.getScrollTop())}},_scrollTop=jQuery.fn.scrollTop,jQuery.cssHooks.pageYOffset={get:function(elem,computed,extra){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.getScrollTop():_scrollTop.call(elem)},set:function(elem,value){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.setScrollTop(parseInt(value)):_scrollTop.call(elem,value),this}},jQuery.fn.scrollTop=function(value){if(void 0===value){var nice=!!this[0]&&($.data(this[0],"__nicescroll")||!1);return nice&&nice.ishwscroll?nice.getScrollTop():_scrollTop.call(this)}return this.each(function(){var nice=$.data(this,"__nicescroll")||!1;nice&&nice.ishwscroll?nice.setScrollTop(parseInt(value)):_scrollTop.call($(this),value)})},_scrollLeft=jQuery.fn.scrollLeft,$.cssHooks.pageXOffset={get:function(elem,computed,extra){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.getScrollLeft():_scrollLeft.call(elem)},set:function(elem,value){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.setScrollLeft(parseInt(value)):_scrollLeft.call(elem,value),this}},jQuery.fn.scrollLeft=function(value){if(void 0===value){var nice=!!this[0]&&($.data(this[0],"__nicescroll")||!1);return nice&&nice.ishwscroll?nice.getScrollLeft():_scrollLeft.call(this)}return this.each(function(){var nice=$.data(this,"__nicescroll")||!1;nice&&nice.ishwscroll?nice.setScrollLeft(parseInt(value)):_scrollLeft.call($(this),value)})},function(el,lst,fn){for(var a=0,l=lst.length;l>a;a++)fn(el,lst[a])}((NiceScrollArray=function(doms){var a,nice,self=this;if(this.length=0,this.name="nicescrollarray",this.each=function(fn){return $.each(self,fn),self},this.push=function(nice){self[self.length]=nice,self.length++},this.eq=function(idx){return self[idx]},doms)for(a=0;a<doms.length;a++)(nice=$.data(doms[a],"__nicescroll")||!1)&&(this[this.length]=nice,this.length++);return this}).prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,n){e[n]=function(){var args=arguments;return this.each(function(){this[n].apply(this,args)})}}),jQuery.fn.getNiceScroll=function(index){return void 0===index?new NiceScrollArray(this):this[index]&&$.data(this[index],"__nicescroll")||!1},(jQuery.expr.pseudos||jQuery.expr[":"]).nicescroll=function(a){return void 0!==$.data(a,"__nicescroll")},$.fn.niceScroll=function(wrapper,_opt){void 0!==_opt||"object"!=typeof wrapper||"jquery"in wrapper||(_opt=wrapper,wrapper=!1);var ret=new NiceScrollArray;return this.each(function(){var wrp,nice,$this=$(this),opt=$.extend({},_opt);wrapper&&(wrp=$(wrapper),opt.doc=wrp.length>1?$(wrapper,$this):wrp,opt.win=$this),!("doc"in opt)||"win"in opt||(opt.win=$this),(nice=$this.data("__nicescroll")||!1)||(opt.doc=opt.doc||$this,nice=new NiceScrollClass(opt,$this),$this.data("__nicescroll",nice)),ret.push(nice)}),1===ret.length?ret[0]:ret},_win.NiceScroll={getjQuery:function(){return jQuery}},$.nicescroll||($.nicescroll=new NiceScrollArray,$.nicescroll.options=_globaloptions)}),function($){function setClosed(){$(".select--toggle").removeClass("active"),$(".select").removeClass("open"),$(".select--menu").hide()}setClosed(),$(".select--toggle").click(function(e){e.preventDefault,$(this).is(".active")?setClosed():(setClosed(),$(this).closest(".select").addClass("open"),$(this).parent(".select").find(".select--menu").show(),$(this).addClass("active"))}),$(".select--menu li a").click(function(e){var label=$(this).data("label");$(this).closest(".select--menu").find("li").removeClass("active"),$(this).closest(".select").find(".select--toggle").attr("value",label),$(this).parent("li").addClass("active"),setClosed(),e.preventDefault}),$(document).click(function(event){$(event.target).closest(".select").length||setClosed()})}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}var old,clickHandler,Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.7",Tab.TRANSITION_DURATION=0,Tab.prototype.show=function(){var $previous,hideEvent,showEvent,$target,$this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");selector||(selector=(selector=$this.attr("href"))&&selector.replace(/.*(?=#[^\s]*$)/,"")),$this.parent("li").hasClass("active")||($previous=$ul.find(".active:last a"),hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]}),showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]}),$previous.trigger(hideEvent),$this.trigger(showEvent),showEvent.isDefaultPrevented()||hideEvent.isDefaultPrevented()||($target=$(selector),this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]}),$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})))},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu").length&&element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next(),$active.removeClass("in")},old=$.fn.tab,$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this},clickHandler=function(e){e.preventDefault(),Plugin.call($(this),"show")},$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("jquery")):factory(jQuery)}(function($){$.extend($.fn,{validate:function(options){if(this.length){var validator=$.data(this[0],"validator");return validator||(this.attr("novalidate","novalidate"),validator=new $.validator(options,this[0]),$.data(this[0],"validator",validator),validator.settings.onsubmit&&(this.on("click.validate",":submit",function(event){validator.submitButton=event.currentTarget,$(this).hasClass("cancel")&&(validator.cancelSubmit=!0),void 0!==$(this).attr("formnovalidate")&&(validator.cancelSubmit=!0)}),this.on("submit.validate",function(event){function handle(){var hidden,result;return validator.submitButton&&(validator.settings.submitHandler||validator.formSubmitted)&&(hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val($(validator.submitButton).val()).appendTo(validator.currentForm)),!validator.settings.submitHandler||(result=validator.settings.submitHandler.call(validator,validator.currentForm,event),hidden&&hidden.remove(),void 0!==result&&result)}return validator.settings.debug&&event.preventDefault(),validator.cancelSubmit?(validator.cancelSubmit=!1,handle()):validator.form()?validator.pendingRequest?(validator.formSubmitted=!0,!1):handle():(validator.focusInvalid(),!1)})),validator)}options&&options.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var valid,validator,errorList;return $(this[0]).is("form")?valid=this.validate().form():(errorList=[],valid=!0,validator=$(this[0].form).validate(),this.each(function(){(valid=validator.element(this)&&valid)||(errorList=errorList.concat(validator.errorList))}),validator.errorList=errorList),valid},rules:function(command,argument){var settings,staticRules,existingRules,data,param,filtered,element=this[0];if(null!=element&&(!element.form&&element.hasAttribute("contenteditable")&&(element.form=this.closest("form")[0],element.name=this.attr("name")),null!=element.form)){if(command)switch(settings=$.data(element.form,"validator").settings,staticRules=settings.rules,existingRules=$.validator.staticRules(element),command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument)),delete existingRules.messages,staticRules[element.name]=existingRules,argument.messages&&(settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages));break;case"remove":return argument?(filtered={},$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method],delete existingRules[method]}),filtered):(delete staticRules[element.name],existingRules)}return(data=$.validator.normalizeRules($.extend({},$.validator.classRules(element),$.validator.attributeRules(element),$.validator.dataRules(element),$.validator.staticRules(element)),element)).required&&(param=data.required,delete data.required,data=$.extend({required:param},data)),data.remote&&(param=data.remote,delete data.remote,data=$.extend(data,{remote:param})),data}}}),$.extend($.expr.pseudos||$.expr[":"],{blank:function(a){return!$.trim(""+$(a).val())},filled:function(a){var val=$(a).val();return null!==val&&!!$.trim(""+val)},unchecked:function(a){return!$(a).prop("checked")}}),$.validator=function(options,form){this.settings=$.extend(!0,{},$.validator.defaults,options),this.currentForm=form,this.init()},$.validator.format=function(source,params){return 1===arguments.length?function(){var args=$.makeArray(arguments);return args.unshift(source),$.validator.format.apply(this,args)}:void 0===params?source:(arguments.length>2&&params.constructor!==Array&&(params=$.makeArray(arguments).slice(1)),params.constructor!==Array&&(params=[params]),$.each(params,function(i,n){source=source.replace(RegExp("\\{"+i+"\\}","g"),function(){return n})}),source)},$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(element){this.lastActive=element,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(element)))},onfocusout:function(element){this.checkable(element)||!(element.name in this.submitted)&&this.optional(element)||this.element(element)},onkeyup:function(element,event){var excludedKeys=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===event.which&&""===this.elementValue(element)||-1!==$.inArray(event.keyCode,excludedKeys)||(element.name in this.submitted||element.name in this.invalid)&&this.element(element)},onclick:function(element){element.name in this.submitted?this.element(element):element.parentNode.name in this.submitted&&this.element(element.parentNode)},highlight:function(element,errorClass,validClass){"radio"===element.type?this.findByName(element.name).addClass(errorClass).removeClass(validClass):$(element).addClass(errorClass).removeClass(validClass)},unhighlight:function(element,errorClass,validClass){"radio"===element.type?this.findByName(element.name).removeClass(errorClass).addClass(validClass):$(element).removeClass(errorClass).addClass(validClass)}},setDefaults:function(settings){$.extend($.validator.defaults,settings)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}."),step:$.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function delegate(event){!this.form&&this.hasAttribute("contenteditable")&&(this.form=$(this).closest("form")[0],this.name=$(this).attr("name"));var validator=$.data(this.form,"validator"),eventType="on"+event.type.replace(/^validate/,""),settings=validator.settings;settings[eventType]&&!$(this).is(settings.ignore)&&settings[eventType].call(validator,this,event)}this.labelContainer=$(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm),this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var rules,groups=this.groups={};$.each(this.settings.groups,function(key,value){"string"==typeof value&&(value=value.split(/\s/)),$.each(value,function(index,name){groups[name]=key})}),rules=this.settings.rules,$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value)}),$(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",delegate).on("click.validate","select, option, [type='radio'], [type='checkbox']",delegate),this.settings.invalidHandler&&$(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),$.extend(this.submitted,this.errorMap),this.invalid=$.extend({},this.errorMap),this.valid()||$(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=this.currentElements=this.elements();elements[i];i++)this.check(elements[i]);return this.valid()},element:function(element){var rs,group,cleanElement=this.clean(element),checkElement=this.validationTargetFor(cleanElement),v=this,result=!0;return void 0===checkElement?delete this.invalid[cleanElement.name]:(this.prepareElement(checkElement),this.currentElements=$(checkElement),(group=this.groups[checkElement.name])&&$.each(this.groups,function(name,testgroup){testgroup===group&&name!==checkElement.name&&(cleanElement=v.validationTargetFor(v.clean(v.findByName(name))))&&cleanElement.name in v.invalid&&(v.currentElements.push(cleanElement),result=v.check(cleanElement)&&result)}),rs=!1!==this.check(checkElement),result=result&&rs,this.invalid[checkElement.name]=!rs,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),$(element).attr("aria-invalid",!rs)),result},showErrors:function(errors){if(errors){var validator=this;$.extend(this.errorMap,errors),this.errorList=$.map(this.errorMap,function(message,name){return{message:message,element:validator.findByName(name)[0]}}),this.successList=$.grep(this.successList,function(element){return!(element.name in errors)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){$.fn.resetForm&&$(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var elements=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(elements)},resetElements:function(elements){var i;if(this.settings.unhighlight)for(i=0;elements[i];i++)this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,""),this.findByName(elements[i].name).removeClass(this.settings.validClass);else elements.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(obj){var i,count=0;for(i in obj)void 0!==obj[i]&&null!==obj[i]&&!1!==obj[i]&&count++;return count},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(errors){errors.not(this.containers).text(""),this.addWrapper(errors).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&1===$.grep(this.errorList,function(n){return n.element.name===lastActive.name}).length&&lastActive},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var name=this.name||$(this).attr("name");return!name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=$(this).closest("form")[0],this.name=name),!(name in rulesCache||!validator.objectLength($(this).rules()))&&(rulesCache[name]=!0,!0)})},clean:function(selector){return $(selector)[0]},errors:function(){var errorClass=this.settings.errorClass.split(" ").join(".");return $(this.settings.errorElement+"."+errorClass,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=$([]),this.toHide=$([])},reset:function(){this.resetInternals(),this.currentElements=$([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(element){this.reset(),this.toHide=this.errorsFor(element)},elementValue:function(element){var val,idx,$element=$(element),type=element.type;return"radio"===type||"checkbox"===type?this.findByName(element.name).filter(":checked").val():"number"===type&&void 0!==element.validity?element.validity.badInput?"NaN":$element.val():(val=element.hasAttribute("contenteditable")?$element.text():$element.val(),"file"===type?"C:\\fakepath\\"===val.substr(0,12)?val.substr(12):0>(idx=val.lastIndexOf("/"))&&0>(idx=val.lastIndexOf("\\"))?val:val.substr(idx+1):"string"==typeof val?val.replace(/\r/g,""):val)},check:function(element){element=this.validationTargetFor(this.clean(element));var result,method,rule,normalizer,rules=$(element).rules(),rulesCount=$.map(rules,function(n,i){return i}).length,dependencyMismatch=!1,val=this.elementValue(element);if("function"==typeof rules.normalizer?normalizer=rules.normalizer:"function"==typeof this.settings.normalizer&&(normalizer=this.settings.normalizer),normalizer){if("string"!=typeof(val=normalizer.call(element,val)))throw new TypeError("The normalizer should return a string value.");delete rules.normalizer}for(method in rules){rule={method:method,parameters:rules[method]};try{if("dependency-mismatch"===(result=$.validator.methods[method].call(this,val,element,rule.parameters))&&1===rulesCount){dependencyMismatch=!0;continue}if(dependencyMismatch=!1,"pending"===result)return void(this.toHide=this.toHide.not(this.errorsFor(element)));if(!result)return this.formatAndAdd(element,rule),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+element.id+", check the '"+rule.method+"' method."),e}}if(!dependencyMismatch)return this.objectLength(rules)&&this.successList.push(element),!0},customDataMessage:function(element,method){return $(element).data("msg"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase())||$(element).data("msg")},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor===String?m:m[method])},findDefined:function(){for(var i=0;i<arguments.length;i++)if(void 0!==arguments[i])return arguments[i]},defaultMessage:function(element,rule){"string"==typeof rule&&(rule={method:rule});var message=this.findDefined(this.customMessage(element.name,rule.method),this.customDataMessage(element,rule.method),!this.settings.ignoreTitle&&element.title||void 0,$.validator.messages[rule.method],"<strong>Warning: No message defined for "+element.name+"</strong>"),theregex=/\$?\{(\d+)\}/g;return"function"==typeof message?message=message.call(this,rule.parameters,element):theregex.test(message)&&(message=$.validator.format(message.replace(theregex,"{$1}"),rule.parameters)),message},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule);this.errorList.push({message:message,element:element,method:rule.method}),this.errorMap[element.name]=message,this.submitted[element.name]=message},addWrapper:function(toToggle){return this.settings.wrapper&&(toToggle=toToggle.add(toToggle.parent(this.settings.wrapper))),toToggle},defaultShowErrors:function(){var i,elements,error;for(i=0;this.errorList[i];i++)error=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass),this.showLabel(error.element,error.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,elements=this.validElements();elements[i];i++)this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(element,message){var place,group,errorID,v,error=this.errorsFor(element),elementID=this.idOrName(element),describedBy=$(element).attr("aria-describedby");error.length?(error.removeClass(this.settings.validClass).addClass(this.settings.errorClass),error.html(message)):(place=error=$("<"+this.settings.errorElement+">").attr("id",elementID+"-error").addClass(this.settings.errorClass).html(message||""),this.settings.wrapper&&(place=error.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(place):this.settings.errorPlacement?this.settings.errorPlacement.call(this,place,$(element)):place.insertAfter(element),error.is("label")?error.attr("for",elementID):0===error.parents("label[for='"+this.escapeCssMeta(elementID)+"']").length&&(errorID=error.attr("id"),describedBy?describedBy.match(RegExp("\\b"+this.escapeCssMeta(errorID)+"\\b"))||(describedBy+=" "+errorID):describedBy=errorID,$(element).attr("aria-describedby",describedBy),(group=this.groups[element.name])&&(v=this,$.each(v.groups,function(name,testgroup){testgroup===group&&$("[name='"+v.escapeCssMeta(name)+"']",v.currentForm).attr("aria-describedby",error.attr("id"))})))),!message&&this.settings.success&&(error.text(""),"string"==typeof this.settings.success?error.addClass(this.settings.success):this.settings.success(error,element)),this.toShow=this.toShow.add(error)},errorsFor:function(element){var name=this.escapeCssMeta(this.idOrName(element)),describer=$(element).attr("aria-describedby"),selector="label[for='"+name+"'], label[for='"+name+"'] *";return describer&&(selector=selector+", #"+this.escapeCssMeta(describer).replace(/\s+/g,", #")),this.errors().filter(selector)},escapeCssMeta:function(string){return string.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name)},validationTargetFor:function(element){return this.checkable(element)&&(element=this.findByName(element.name)),$(element).not(this.settings.ignore)[0]},checkable:function(element){return/radio|checkbox/i.test(element.type)},findByName:function(name){return $(this.currentForm).find("[name='"+this.escapeCssMeta(name)+"']")},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element))return this.findByName(element.name).filter(":checked").length}return value.length},depend:function(param,element){return!this.dependTypes[typeof param]||this.dependTypes[typeof param](param,element)},dependTypes:{boolean:function(param){return param},string:function(param,element){return!!$(param,element.form).length},function:function(param,element){return param(element)}},optional:function(element){var val=this.elementValue(element);return!$.validator.methods.required.call(this,val,element)&&"dependency-mismatch"},startRequest:function(element){this.pending[element.name]||(this.pendingRequest++,$(element).addClass(this.settings.pendingClass),this.pending[element.name]=!0)},stopRequest:function(element,valid){0>--this.pendingRequest&&(this.pendingRequest=0),delete this.pending[element.name],$(element).removeClass(this.settings.pendingClass),valid&&0===this.pendingRequest&&this.formSubmitted&&this.form()?($(this.currentForm).submit(),this.submitButton&&$("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!valid&&0===this.pendingRequest&&this.formSubmitted&&($(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(element,method){return method="string"==typeof method&&method||"remote",$.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:!0,message:this.defaultMessage(element,{method:method})})},destroy:function(){this.resetForm(),$(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(className,rules){className.constructor===String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className)},classRules:function(element){var rules={},classes=$(element).attr("class");return classes&&$.each(classes.split(" "),function(){this in $.validator.classRuleSettings&&$.extend(rules,$.validator.classRuleSettings[this])}),rules},normalizeAttributeRule:function(rules,type,method,value){/min|max|step/.test(method)&&(null===type||/number|range|text/.test(type))&&(value=+value,isNaN(value)&&(value=void 0)),value||0===value?rules[method]=value:type===method&&"range"!==type&&(rules[method]=!0)},attributeRules:function(element){var method,value,rules={},$element=$(element),type=element.getAttribute("type");for(method in $.validator.methods)"required"===method?(""===(value=element.getAttribute(method))&&(value=!0),value=!!value):value=$element.attr(method),this.normalizeAttributeRule(rules,type,method,value);return rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)&&delete rules.maxlength,rules},dataRules:function(element){var method,value,rules={},$element=$(element),type=element.getAttribute("type");for(method in $.validator.methods)value=$element.data("rule"+method.charAt(0).toUpperCase()+method.substring(1).toLowerCase()),this.normalizeAttributeRule(rules,type,method,value);return rules},staticRules:function(element){var rules={},validator=$.data(element.form,"validator");return validator.settings.rules&&(rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{}),rules},normalizeRules:function(rules,element){return $.each(rules,function(prop,val){if(!1!==val){if(val.param||val.depends){var keepRule=!0;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element)}keepRule?rules[prop]=void 0===val.param||val.param:($.data(element.form,"validator").resetElements($(element)),delete rules[prop])}}else delete rules[prop]}),$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)&&"normalizer"!==rule?parameter(element):parameter}),$.each(["minlength","maxlength"],function(){rules[this]&&(rules[this]=+rules[this])}),$.each(["rangelength","range"],function(){var parts;rules[this]&&($.isArray(rules[this])?rules[this]=[+rules[this][0],+rules[this][1]]:"string"==typeof rules[this]&&(parts=rules[this].replace(/[\[\]]/g,"").split(/[\s,]+/),rules[this]=[+parts[0],+parts[1]]))}),$.validator.autoCreateRanges&&(null!=rules.min&&null!=rules.max&&(rules.range=[rules.min,rules.max],delete rules.min,delete rules.max),null!=rules.minlength&&null!=rules.maxlength&&(rules.rangelength=[rules.minlength,rules.maxlength],delete rules.minlength,delete rules.maxlength)),rules},normalizeRule:function(data){if("string"==typeof data){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=!0}),data=transformed}return data},addMethod:function(name,method,message){$.validator.methods[name]=method,$.validator.messages[name]=void 0!==message?message:$.validator.messages[name],3>method.length&&$.validator.addClassRules(name,$.validator.normalizeRule(name))},methods:{required:function(value,element,param){if(!this.depend(param,element))return"dependency-mismatch";if("select"===element.nodeName.toLowerCase()){var val=$(element).val();return val&&val.length>0}return this.checkable(element)?this.getLength(value,element)>0:value.length>0},email:function(value,element){return this.optional(element)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(value)},url:function(value,element){return this.optional(element)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(value)},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(""+new Date(value))},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(value)},number:function(value,element){return this.optional(element)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value)},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value)},minlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param},maxlength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||param>=length},rangelength:function(value,element,param){var length=$.isArray(value)?value.length:this.getLength(value,element);return this.optional(element)||length>=param[0]&&length<=param[1]},min:function(value,element,param){return this.optional(element)||value>=param},max:function(value,element,param){return this.optional(element)||param>=value},range:function(value,element,param){return this.optional(element)||value>=param[0]&&value<=param[1]},step:function(value,element,param){var decimals,type=$(element).attr("type"),errorMessage="Step attribute on input type "+type+" is not supported.",supportedTypes=["text","number","range"],re=RegExp("\\b"+type+"\\b"),decimalPlaces=function(num){var match=(""+num).match(/(?:\.(\d+))?$/);return match&&match[1]?match[1].length:0},toInt=function(num){return Math.round(num*Math.pow(10,decimals))},valid=!0;if(type&&!re.test(supportedTypes.join()))throw Error(errorMessage);return decimals=decimalPlaces(param),(decimalPlaces(value)>decimals||toInt(value)%toInt(param)!=0)&&(valid=!1),this.optional(element)||valid},equalTo:function(value,element,param){var target=$(param);return this.settings.onfocusout&&target.not(".validate-equalTo-blur").length&&target.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){$(element).valid()}),value===target.val()},remote:function(value,element,param,method){if(this.optional(element))return"dependency-mismatch";method="string"==typeof method&&method||"remote";var validator,data,optionDataString,previous=this.previousValue(element,method);return this.settings.messages[element.name]||(this.settings.messages[element.name]={}),previous.originalMessage=previous.originalMessage||this.settings.messages[element.name][method],this.settings.messages[element.name][method]=previous.message,param="string"==typeof param&&{url:param}||param,optionDataString=$.param($.extend({data:value},param.data)),previous.old===optionDataString?previous.valid:(previous.old=optionDataString,validator=this,this.startRequest(element),data={},data[element.name]=value,$.ajax($.extend(!0,{mode:"abort",port:"validate"+element.name,dataType:"json",data:data,context:validator.currentForm,success:function(response){var errors,message,submitted,valid=!0===response||"true"===response;validator.settings.messages[element.name][method]=previous.originalMessage,valid?(submitted=validator.formSubmitted,validator.resetInternals(),validator.toHide=validator.errorsFor(element),validator.formSubmitted=submitted,validator.successList.push(element),validator.invalid[element.name]=!1,validator.showErrors()):(errors={},message=response||validator.defaultMessage(element,{method:method,parameters:value}),errors[element.name]=previous.message=message,validator.invalid[element.name]=!0,validator.showErrors(errors)),previous.valid=valid,validator.stopRequest(element,valid)}},param)),"pending")}}});var ajax,pendingRequests={};return $.ajaxPrefilter?$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;"abort"===settings.mode&&(pendingRequests[port]&&pendingRequests[port].abort(),pendingRequests[port]=xhr)}):(ajax=$.ajax,$.ajax=function(settings){var mode=("mode"in settings?settings:$.ajaxSettings).mode,port=("port"in settings?settings:$.ajaxSettings).port;return"abort"===mode?(pendingRequests[port]&&pendingRequests[port].abort(),pendingRequests[port]=ajax.apply(this,arguments),pendingRequests[port]):ajax.apply(this,arguments)}),$}),function(){var d;window.AmCharts?d=window.AmCharts:(d={},window.AmCharts=d,d.themes={},d.maps={},d.inheriting={},d.charts=[],d.onReadyArray=[],d.useUTC=!1,d.updateRate=60,d.uid=0,d.lang={},d.translations={},d.mapTranslations={},d.windows={},d.initHandlers=[],d.amString="am",d.pmString="pm"),d.Class=function(a){var c,b=function(){arguments[0]!==d.inheriting&&(this.events={},this.construct.apply(this,arguments))};a.inherits?(b.prototype=new a.inherits(d.inheriting),b.base=a.inherits.prototype,delete a.inherits):(b.prototype.createEvents=function(){for(var a=0;a<arguments.length;a++)this.events[arguments[a]]=[]},b.prototype.listenTo=function(a,b,c){this.removeListener(a,b,c),a.events[b].push({handler:c,scope:this})},b.prototype.addListener=function(a,b,c){this.removeListener(this,a,b),a&&this.events[a]&&this.events[a].push({handler:b,scope:c})},b.prototype.removeListener=function(a,b,c){if(a&&a.events&&(a=a.events[b]))for(b=a.length-1;b>=0;b--)a[b].handler===c&&a.splice(b,1)},b.prototype.fire=function(a){var b,c,d;for(b=this.events[a.type],c=0;c<b.length;c++)(d=b[c]).handler.call(d.scope,a)});for(c in a)b.prototype[c]=a[c];return b},d.addChart=function(a){window.requestAnimationFrame?d.animationRequested||(d.animationRequested=!0,window.requestAnimationFrame(d.update)):d.updateInt||(d.updateInt=setInterval(function(){d.update()},Math.round(1e3/d.updateRate))),d.charts.push(a)},d.removeChart=function(a){for(var b=d.charts,c=b.length-1;c>=0;c--)b[c]==a&&b.splice(c,1);0===b.length&&(d.requestAnimation&&(window.cancelAnimationFrame(d.requestAnimation),d.animationRequested=!1),d.updateInt&&(clearInterval(d.updateInt),d.updateInt=NaN))},d.isModern=!0,d.getIEVersion=function(){var b,a=0;return"Microsoft Internet Explorer"==navigator.appName&&(b=navigator.userAgent,null!==/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(b)&&(a=parseFloat(RegExp.$1))),a},d.applyLang=function(a,b){var c=d.translations;b.dayNames=d.extend({},d.dayNames),b.shortDayNames=d.extend({},d.shortDayNames),b.monthNames=d.extend({},d.monthNames),b.shortMonthNames=d.extend({},d.shortMonthNames),b.amString="am",b.pmString="pm",c&&(c=c[a])&&(d.lang=c,b.langObj=c,c.monthNames&&(b.dayNames=d.extend({},c.dayNames),b.shortDayNames=d.extend({},c.shortDayNames),b.monthNames=d.extend({},c.monthNames),b.shortMonthNames=d.extend({},c.shortMonthNames)),c.am&&(b.amString=c.am),c.pm&&(b.pmString=c.pm)),d.amString=b.amString,d.pmString=b.pmString},d.IEversion=d.getIEVersion(),9>d.IEversion&&d.IEversion>0&&(d.isModern=!1,d.isIE=!0),d.dx=0,d.dy=0,(document.addEventListener||window.opera)&&(d.isNN=!0,d.isIE=!1,d.dx=.5,d.dy=.5),document.attachEvent&&(d.isNN=!1,d.isIE=!0,d.isModern||(d.dx=0,d.dy=0)),window.chrome&&(d.chrome=!0),d.handleMouseUp=function(a){var b,c,e;for(b=d.charts,c=0;c<b.length;c++)(e=b[c])&&e.handleReleaseOutside&&e.handleReleaseOutside(a)},d.handleMouseMove=function(a){var b,c,e;for(b=d.charts,c=0;c<b.length;c++)(e=b[c])&&e.handleMouseMove&&e.handleMouseMove(a)},d.handleWheel=function(a){var b,c,e;for(b=d.charts,c=0;c<b.length;c++)if((e=b[c])&&e.mouseIsOver){(e.mouseWheelScrollEnabled||e.mouseWheelZoomEnabled)&&e.handleWheel&&e.handleWheel(a);break}},d.resetMouseOver=function(){var a,b,c;for(a=d.charts,b=0;b<a.length;b++)(c=a[b])&&(c.mouseIsOver=!1)},d.ready=function(a){d.onReadyArray.push(a)},d.handleLoad=function(){var a,b,c;for(d.isReady=!0,a=d.onReadyArray,b=0;b<a.length;b++)c=a[b],isNaN(d.processDelay)?c():setTimeout(c,d.processDelay*b);d.onReadyArray=[]},d.addInitHandler=function(a,b){d.initHandlers.push({method:a,types:b})},d.callInitHandler=function(a){var c,e,b=d.initHandlers;if(d.initHandlers)for(c=0;c<b.length;c++)(e=b[c]).types?d.isInArray(e.types,a.type)&&e.method(a):e.method(a)},d.getUniqueId=function(){return d.uid++,"AmChartsEl-"+d.uid},d.isNN&&(document.addEventListener("mousemove",d.handleMouseMove),document.addEventListener("mouseup",d.handleMouseUp,!0),window.addEventListener("load",d.handleLoad,!0)),d.isIE&&(document.attachEvent("onmousemove",d.handleMouseMove),document.attachEvent("onmouseup",d.handleMouseUp),window.attachEvent("onload",d.handleLoad)),d.addWheelListeners=function(){d.wheelIsListened||(d.isNN&&(window.addEventListener("DOMMouseScroll",d.handleWheel,!0),document.addEventListener("mousewheel",d.handleWheel,!0)),d.isIE&&document.attachEvent("onmousewheel",d.handleWheel)),d.wheelIsListened=!0},d.clear=function(){var b,a=d.charts;if(a)for(b=a.length-1;b>=0;b--)a[b].clear();d.updateInt&&clearInterval(d.updateInt),d.requestAnimation&&window.cancelAnimationFrame(d.requestAnimation),d.charts=[],d.isNN&&(document.removeEventListener("mousemove",d.handleMouseMove,!0),document.removeEventListener("mouseup",d.handleMouseUp,!0),window.removeEventListener("load",d.handleLoad,!0),window.removeEventListener("DOMMouseScroll",d.handleWheel,!0),document.removeEventListener("mousewheel",d.handleWheel,!0)),d.isIE&&(document.detachEvent("onmousemove",d.handleMouseMove),document.detachEvent("onmouseup",d.handleMouseUp),window.detachEvent("onload",d.handleLoad))},d.makeChart=function(a,b,c){var f,e=b.type,g=b.theme;switch(d.isString(g)&&(g=d.themes[g],b.theme=g),e){case"serial":f=new d.AmSerialChart(g);break;case"xy":f=new d.AmXYChart(g);break;case"pie":f=new d.AmPieChart(g);break;case"radar":f=new d.AmRadarChart(g);break;case"gauge":f=new d.AmAngularGauge(g);break;case"funnel":f=new d.AmFunnelChart(g);break;case"map":f=new d.AmMap(g);break;case"stock":f=new d.AmStockChart(g);break;case"gantt":f=new d.AmGanttChart(g)}return d.extend(f,b),d.isReady?isNaN(c)?f.write(a):setTimeout(function(){d.realWrite(f,a)},c):d.ready(function(){isNaN(c)?f.write(a):setTimeout(function(){d.realWrite(f,a)},c)}),f},d.realWrite=function(a,b){a.write(b)},d.updateCount=0,d.validateAt=Math.round(d.updateRate/10),d.update=function(){var b,c,a=d.charts;if(d.updateCount++,b=!1,d.updateCount==d.validateAt&&(b=!0,d.updateCount=0),a)for(c=a.length-1;c>=0;c--)a[c].update&&a[c].update(),b&&(a[c].autoResize?a[c].validateSize&&a[c].validateSize():a[c].premeasure&&a[c].premeasure());window.requestAnimationFrame&&(d.requestAnimation=window.requestAnimationFrame(d.update))},"complete"==document.readyState&&d.handleLoad()}(),function(){var d=window.AmCharts;d.toBoolean=function(a,b){if(void 0===a)return b;switch((a+"").toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return!!a}},d.removeFromArray=function(a,b){var c;if(void 0!==b&&void 0!==a)for(c=a.length-1;c>=0;c--)a[c]==b&&a.splice(c,1)},d.getPath=function(){var b,c,a=document.getElementsByTagName("script");if(a)for(b=0;b<a.length;b++)if(-1!==(c=a[b].src).search(/\/(amcharts|ammap)\.js/))return c.replace(/\/(amcharts|ammap)\.js.*/,"/")},d.normalizeUrl=function(a){return""!==a&&-1===a.search(/\/$/)?a+"/":a},d.isAbsolute=function(a){return 0===a.search(/^http[s]?:|^\//)},d.isInArray=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1},d.getDecimals=function(a){var b=0;return isNaN(a)||(-1!=(a+="").indexOf("e-")?b=+a.split("-")[1]:-1!=a.indexOf(".")&&(b=a.split(".")[1].length)),b},d.wordwrap=function(a,b,c,e){var g,f,h,k;if(a+="",1>b)return a;for(g=-1,a=(k=a.split(/\r\n|\n|\r/)).length;++g<a;k[g]+=h){for(h=k[g],k[g]="";h.length>b;k[g]+=d.trim(h.slice(0,f))+((h=h.slice(f)).length?c:""))f=2==e||(f=h.slice(0,b+1).match(/\S*(\s)?$/))[1]?b:f.input.length-f[0].length||1==e&&b||f.input.length+(f=h.slice(b).match(/^\S*/))[0].length;h=d.trim(h)}return k.join(c)},d.trim=function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},d.wrappedText=function(a,b,c,e,g,f,h,k){var m,n,l=d.text(a,b,c,e,g,f,h);return l&&(m=l.getBBox()).width>k&&(n="\n",d.isModern||(n="<br>"),(k=Math.floor(k/(m.width/b.length)))>2&&(k-=2),b=d.wordwrap(b,k,n,!0),l.remove(),l=d.text(a,b,c,e,g,f,h)),l},d.getStyle=function(a,b){var c="";if(document.defaultView&&document.defaultView.getComputedStyle)try{c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b)}catch(e){}else a.currentStyle&&(b=b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),c=a.currentStyle[b]);return c},d.removePx=function(a){if(void 0!==a)return+a.substring(0,a.length-2)},d.getURL=function(a,b){if(a)if("_self"!=b&&b)if("_top"==b&&window.top)window.top.location.href=a;else if("_parent"==b&&window.parent)window.parent.location.href=a;else if("_blank"==b)window.open(a);else{var c=document.getElementsByName(b)[0];c?c.src=a:(c=d.windows[b])&&c.opener&&!c.opener.closed?c.location.href=a:d.windows[b]=window.open(a)}else window.location.href=a},d.ifArray=function(a){return!(!a||"object"!=typeof a||0>=a.length)},d.callMethod=function(a,b){var c,e,d,f,h;for(c=0;c<b.length;c++)if((e=b[c])&&(e[a]&&e[a](),(d=e.length)>0))for(f=0;d>f;f++)(h=e[f])&&h[a]&&h[a]()},d.toNumber=function(a){return"number"==typeof a?a:+(a+"").replace(/[^0-9\-.]+/g,"")},d.toColor=function(a){var b,c;if(""!==a&&void 0!==a)if(-1!=a.indexOf(","))for(a=a.split(","),b=0;b<a.length;b++)c=a[b].substring(a[b].length-6,a[b].length),a[b]="#"+c;else a=a.substring(a.length-6,a.length),a="#"+a;return a},d.toCoordinate=function(a,b,c){var e;return void 0!==a&&(a+="",c&&b>c&&(b=c),e=+a,-1!=a.indexOf("!")&&(e=b-+a.substr(1)),-1!=a.indexOf("%")&&(e=b*+a.substr(0,a.length-1)/100)),e},d.fitToBounds=function(a,b,c){return b>a&&(a=b),a>c&&(a=c),a},d.isDefined=function(a){return void 0!==a},d.stripNumbers=function(a){return a.replace(/[0-9]+/g,"")},d.roundTo=function(a,b){if(0>b)return a;var c=Math.pow(10,b);return Math.round(a*c)/c},d.toFixed=function(a,b){var e,d,f,c=!1;if(0>a&&(c=!0,a=Math.abs(a)),e=Math.round(a*Math.pow(10,b))+"",b>0){if(d=e.length,b>d)for(f=0;b-d>f;f++)e="0"+e;return""===(d=e.substring(0,e.length-b))&&(d=0),e=d+"."+e.substring(e.length-b,e.length),c?"-"+e:e}return e+""},d.formatDuration=function(a,b,c,e,g,f){var l,h=d.intervals,k=f.decimalSeparator;if(a>=h[b].contains)return l=a-Math.floor(a/h[b].contains)*h[b].contains,"ss"==b?1==(l=d.formatNumber(l,f)).split(k)[0].length&&(l="0"+l):l=d.roundTo(l,f.precision),("mm"==b||"hh"==b)&&10>l&&(l="0"+l),c=l+""+e[b]+c,a=Math.floor(a/h[b].contains),b=h[b].nextInterval,d.formatDuration(a,b,c,e,g,f);if("ss"==b&&1==(a=d.formatNumber(a,f)).split(k)[0].length&&(a="0"+a),"mm"==b&&(a=d.roundTo(a,f.precision)),("mm"==b||"hh"==b)&&10>a&&(a="0"+a),c=a+""+e[b]+c,h[g].count>h[b].count)for(a=h[b].count;a<h[g].count;a++)"ss"==(b=h[b].nextInterval)||"mm"==b||"hh"==b?c="00"+e[b]+c:"DD"==b&&(c="0"+e[b]+c);return":"==c.charAt(c.length-1)&&(c=c.substring(0,c.length-1)),c},d.formatNumber=function(a,b,c,e,g){var f,h,k,l,m,n;if(a=d.roundTo(a,b.precision),isNaN(c)&&(c=b.precision),f=b.decimalSeparator,b=b.thousandsSeparator,h=0>a?"-":"",a=Math.abs(a),k=a+"",l=!1,-1!=k.indexOf("e")&&(l=!0),c>=0&&!l&&(k=d.toFixed(a,c)),m="",l)m=k;else{for(n=(l=(k=k.split("."))[0]+"").length;n>=0;n-=3)m=n!=l.length?0!==n?l.substring(n-3,n)+b+m:l.substring(n-3,n)+m:l.substring(n-3,n);void 0!==k[1]&&(m=m+f+k[1]),void 0!==c&&c>0&&"0"!=m&&(m=d.addZeroes(m,f,c))}return m=h+m,""===h&&!0===e&&0!==a&&(m="+"+m),!0===g&&(m+="%"),m},d.addZeroes=function(a,b,c){return void 0===(a=a.split(b))[1]&&c>0&&(a[1]="0"),a[1].length<c?(a[1]+="0",d.addZeroes(a[0]+b+a[1],b,c)):void 0!==a[1]?a[0]+b+a[1]:a[0]},d.scientificToNormal=function(a){var b,c,e;if("-"==(a=(a+"").split("e"))[1].substr(0,1)){for(b="0.",c=0;c<Math.abs(+a[1])-1;c++)b+="0";b+=a[0].split(".").join("")}else for(e=0,(b=a[0].split("."))[1]&&(e=b[1].length),b=a[0].split(".").join(""),c=0;c<Math.abs(+a[1])-e;c++)b+="0";return b},d.toScientific=function(a,b){if(0===a)return"0";var c=Math.floor(Math.log(Math.abs(a))*Math.LOG10E),e=(e+"").split(".").join(b);return e+"e"+c},d.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)},d.hitTest=function(a,b,c){var e=!1,g=a.x,f=a.x+a.width,h=a.y,k=a.y+a.height,l=d.isInRectangle;return e||(e=l(g,h,b)),e||(e=l(g,k,b)),e||(e=l(f,h,b)),e||(e=l(f,k,b)),e||!0===c||(e=d.hitTest(b,a,!0)),e},d.isInRectangle=function(a,b,c){return!(a<c.x-5||a>c.x+c.width+5||b<c.y-5||b>c.y+c.height+5)},d.isPercents=function(a){if(-1!=(a+"").indexOf("%"))return!0},d.formatValue=function(a,b,c,e,g,f,h,k){var l,m,n;if(b)for(void 0===g&&(g=""),l=0;l<c.length;l++)void 0!==(n=b[m=c[l]])&&(n=f?d.addPrefix(n,k,h,e):d.formatNumber(n,e),a=a.replace(RegExp("\\[\\["+g+m+"\\]\\]","g"),n));return a},d.formatDataContextValue=function(a,b){var c,e,d;if(a)for(c=a.match(/\[\[.*?\]\]/g),e=0;e<c.length;e++)void 0!==b[d=(d=c[e]).substr(2,d.length-4)]&&(a=a.replace(RegExp("\\[\\["+d+"\\]\\]","g"),b[d]));return a},d.massReplace=function(a,b){var c,e;for(c in b)b.hasOwnProperty(c)&&(void 0===(e=b[c])&&(e=""),a=a.replace(c,e));return a},d.cleanFromEmpty=function(a){return a.replace(/\[\[[^\]]*\]\]/g,"")},d.addPrefix=function(a,b,c,e,g){var k,l,m,f=d.formatNumber(a,e),h="";if(0===a)return"0";if(0>a&&(h="-"),(a=Math.abs(a))>1){for(k=b.length-1;k>-1;k--)if(a>=b[k].number&&(l=a/b[k].number,1>(m=+e.precision)&&(m=1),c=d.roundTo(l,m),m=d.formatNumber(c,{precision:-1,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator}),!g||l==c)){f=h+""+m+b[k].prefix;break}}else for(k=0;k<c.length;k++)if(a<=c[k].number){l=a/c[k].number,m=Math.abs(Math.floor(Math.log(l)*Math.LOG10E)),f=h+""+(l=d.roundTo(l,m))+c[k].prefix;break}return f},d.remove=function(a){a&&a.remove()},d.getEffect=function(a){return">"==a&&(a="easeOutSine"),"<"==a&&(a="easeInSine"),"elastic"==a&&(a="easeOutElastic"),a},d.getObjById=function(a,b){var c,e,d;for(e=0;e<a.length;e++)if((d=a[e]).id==b){c=d;break}return c},d.applyTheme=function(a,b,c){b||(b=d.theme);try{b=JSON.parse(JSON.stringify(b))}catch(e){}b&&b[c]&&d.extend(a,b[c])},d.isString=function(a){return"string"==typeof a},d.extend=function(a,b,c){var e;a||(a={});for(e in b)c?a.hasOwnProperty(e)||(a[e]=b[e]):a[e]=b[e];return a},d.copyProperties=function(a,b){for(var c in a)a.hasOwnProperty(c)&&"events"!=c&&void 0!==a[c]&&"function"!=typeof a[c]&&"cname"!=c&&(b[c]=a[c])},d.processObject=function(a,b,c,e){if(!1==a instanceof b&&(a=e?d.extend(new b(c),a):d.extend(a,new b(c),!0)).listeners)for(var g in a.listeners)b=a.listeners[g],a.addListener(b.event,b.method);return a},d.fixNewLines=function(a){var b=RegExp("\\n","g");return a&&(a=a.replace(b,"<br />")),a},d.fixBrakes=function(a){if(d.isModern){var b=RegExp("<br>","g");a&&(a=a.replace(b,"\n"))}else a=d.fixNewLines(a);return a},d.deleteObject=function(a,b){if(a&&(void 0!==b&&null!==b||(b=20),0!==b))if("[object Array]"==={}.toString.call(a))for(var c=0;c<a.length;c++)d.deleteObject(a[c],b-1),a[c]=null;else if(a&&!a.tagName)try{for(c in a.theme=null,a)a[c]&&("object"==typeof a[c]&&d.deleteObject(a[c],b-1),"function"!=typeof a[c]&&(a[c]=null))}catch(e){}},d.bounce=function(a,b,c,e,d){return(b/=d)<1/2.75?7.5625*e*b*b+c:2/2.75>b?e*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?e*(7.5625*(b-=2.25/2.75)*b+.9375)+c:e*(7.5625*(b-=2.625/2.75)*b+.984375)+c},d.easeInOutQuad=function(a,b,c,e,d){return 1>(b/=d/2)?e/2*b*b+c:(b--,-e/2*(b*(b-2)-1)+c)},d.easeInSine=function(a,b,c,e,d){return-e*Math.cos(b/d*(Math.PI/2))+e+c},d.easeOutSine=function(a,b,c,e,d){return e*Math.sin(b/d*(Math.PI/2))+c},d.easeOutElastic=function(a,b,c,e,d){a=1.70158;var f=0,h=e;return 0===b?c:1==(b/=d)?c+e:(f||(f=.3*d),h<Math.abs(e)?(h=e,a=f/4):a=f/(2*Math.PI)*Math.asin(e/h),h*Math.pow(2,-10*b)*Math.sin(2*(b*d-a)*Math.PI/f)+e+c)},d.fixStepE=function(a){var b=+(a=a.toExponential(0).split("e"))[1];return 9==+a[0]&&b++,d.generateNumber(1,b)},d.generateNumber=function(a,b){var d,c="",e=0>b?Math.abs(b)-1:Math.abs(b);for(d=0;e>d;d++)c+="0";return 0>b?+("0."+c+a):+(a+""+c)},d.setCN=function(a,b,c,e){if(a.addClassNames&&b&&(b=b.node)&&c){var d=b.getAttribute("class");a=a.classNamePrefix+"-",e&&(a=""),d?b.setAttribute("class",d+" "+a+c):b.setAttribute("class",a+c)}},d.removeCN=function(a,b,c){b&&(b=b.node)&&c&&(b=b.classList)&&b.remove(a.classNamePrefix+"-"+c)},d.parseDefs=function(a,b){var c,e,g;for(c in a)if(e=typeof a[c],a[c].length>0&&"object"==e)for(g=0;g<a[c].length;g++)e=document.createElementNS(d.SVG_NS,c),b.appendChild(e),d.parseDefs(a[c][g],e);else"object"==e?(e=document.createElementNS(d.SVG_NS,c),b.appendChild(e),d.parseDefs(a[c],e)):b.setAttribute(c,a[c])}}(),function(){var d=window.AmCharts;d.AxisBase=d.Class({construct:function(a){this.createEvents("clickItem","rollOverItem","rollOutItem","rollOverGuide","rollOutGuide","clickGuide"),this.titleDY=this.y=this.x=this.dy=this.dx=0,this.axisThickness=1,this.axisColor="#000000",this.axisAlpha=1,this.gridCount=this.tickLength=5,this.gridAlpha=.15,this.gridThickness=1,this.gridColor="#000000",this.dashLength=0,this.labelFrequency=1,this.showLastLabel=this.showFirstLabel=!0,this.fillColor="#FFFFFF",this.fillAlpha=0,this.labelsEnabled=!0,this.labelRotation=0,this.autoGridCount=!0,this.offset=0,this.guides=[],this.visible=!0,this.counter=0,this.guides=[],this.ignoreAxisWidth=this.inside=!1,this.minHorizontalGap=75,this.minVerticalGap=35,this.titleBold=!0,this.minorGridEnabled=!1,this.minorGridAlpha=.07,this.autoWrap=!1,this.titleAlign="middle",this.labelOffset=0,this.bcn="axis-",this.centerLabels=!1,this.firstDayOfWeek=1,this.centerLabelOnFullPeriod=this.markPeriodChange=this.boldPeriodBeginning=!0,this.titleWidth=0,this.periods=[{period:"fff",count:1},{period:"fff",count:5},{period:"fff",count:10},{period:"fff",count:50},{period:"fff",count:100},{period:"fff",count:500},{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}],this.dateFormats=[{period:"fff",format:"NN:SS.QQQ"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}],this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"},d.applyTheme(this,a,"AxisBase")},zoom:function(a,b){this.start=a,this.end=b,this.dataChanged=!0,this.draw()},fixAxisPosition:function(){var a=this.position;"H"==this.orientation?("left"==a&&(a="bottom"),"right"==a&&(a="top")):("bottom"==a&&(a="left"),"top"==a&&(a="right")),this.position=a},init:function(){this.createBalloon()},draw:function(){var b,c,a=this.chart;this.prevBY=this.prevBX=NaN,this.allLabels=[],this.counter=0,this.destroy(),this.fixAxisPosition(),this.setBalloonBounds(),this.labels=[],c=(b=a.container).set(),a.gridSet.push(c),this.set=c,b=b.set(),a.axesLabelsSet.push(b),this.labelsSet=b,this.axisLine=new this.axisRenderer(this),this.autoGridCount?("V"==this.orientation?3>(a=this.height/this.minVerticalGap)&&(a=3):a=this.width/this.minHorizontalGap,this.gridCountR=Math.max(a,1)):this.gridCountR=this.gridCount,this.axisWidth=this.axisLine.axisWidth,this.addTitle()},setOrientation:function(a){this.orientation=a?"H":"V"},addTitle:function(){var b,c,e,a=this.title;this.titleLabel=null,a&&(b=this.chart,void 0===(c=this.titleColor)&&(c=b.color),e=this.titleFontSize,isNaN(e)&&(e=b.fontSize+1),a=d.text(b.container,a,c,b.fontFamily,e,this.titleAlign,this.titleBold),d.setCN(b,a,this.bcn+"title"),this.titleLabel=a)},positionTitle:function(){var b,c,e,g,f,h,k,l,m,n,q,p,a=this.titleLabel;if(a){switch(e=this.labelsSet,g={},e.length()>0?g=e.getBBox():(g.x=0,g.y=0,g.width=this.width,g.height=this.height,d.VML&&(g.y+=this.y,g.x+=this.x)),e.push(a),e=g.x,f=g.y,d.VML&&(f-=this.y,e-=this.x),h=g.width,g=g.height,k=this.width,l=this.height,m=0,n=a.getBBox().height/2,q=this.inside,p=this.titleAlign,this.position){case"top":b="left"==p?-1:"right"==p?k:k/2,c=f-10-n;break;case"bottom":b="left"==p?-1:"right"==p?k:k/2,c=f+g+10+n;break;case"left":b=e-10-n,q&&(b-=5),m=-90,c=("left"==p?l+1:"right"==p?-1:l/2)+this.titleDY,this.titleWidth=n+10;break;case"right":b=e+h+10+n,q&&(b+=7),c=("left"==p?l+2:"right"==p?-2:l/2)+this.titleDY,this.titleWidth=n+10,m=-90}this.marginsChanged?(a.translate(b,c),this.tx=b,this.ty=c):a.translate(this.tx,this.ty),this.marginsChanged=!1,isNaN(this.titleRotation)||(m=this.titleRotation),0!==m&&a.rotate(m)}},pushAxisItem:function(a,b){var c=this,e=a.graphics();e.length()>0&&(b?c.labelsSet.push(e):c.set.push(e)),(e=a.getLabel())&&(c.labelsSet.push(e),e.click(function(b){c.handleMouse(b,a,"clickItem")}).touchend(function(b){c.handleMouse(b,a,"clickItem")}).mouseover(function(b){c.handleMouse(b,a,"rollOverItem")}).mouseout(function(b){c.handleMouse(b,a,"rollOutItem")}))},handleMouse:function(a,b,c){this.fire({type:c,value:b.value,serialDataItem:b.serialDataItem,axis:this,target:b.label,chart:this.chart,event:a})},addGuide:function(a){for(var b=this.guides,c=!1,e=b.length,g=0;g<b.length;g++)b[g]==a&&(c=!0,e=g);(a=d.processObject(a,d.Guide,this.theme)).id||(a.id="guideAuto"+e+"_"+(new Date).getTime()),c||b.push(a)},removeGuide:function(a){var c,b=this.guides;for(c=0;c<b.length;c++)b[c]==a&&b.splice(c,1)},handleGuideOver:function(a){clearTimeout(this.chart.hoverInt);var b=a.graphics.getBBox(),c=this.x+b.x+b.width/2,b=this.y+b.y+b.height/2,e=a.fillColor;void 0===e&&(e=a.lineColor),this.chart.showBalloon(a.balloonText,e,!0,c,b),this.fire({type:"rollOverGuide",guide:a,chart:this.chart})},handleGuideOut:function(a){this.chart.hideBalloon(),this.fire({type:"rollOutGuide",guide:a,chart:this.chart})},handleGuideClick:function(a){this.chart.hideBalloon(),this.fire({type:"clickGuide",guide:a,chart:this.chart})},addEventListeners:function(a,b){var c=this;a.mouseover(function(){c.handleGuideOver(b)}),a.mouseup(function(){c.handleGuideClick(b)}),a.touchstart(function(){c.handleGuideOver(b)}),a.mouseout(function(){c.handleGuideOut(b)})},getBBox:function(){var a;return this.labelsSet&&(a=this.labelsSet.getBBox()),a?d.VML||(a={x:a.x+this.x,y:a.y+this.y,width:a.width,height:a.height}):a={x:0,y:0,width:0,height:0},a},destroy:function(){d.remove(this.set),d.remove(this.labelsSet);var a=this.axisLine;a&&d.remove(a.axisSet),d.remove(this.grid0)},chooseMinorFrequency:function(a){for(var b=10;b>0;b--)if(a/b==Math.round(a/b))return a/b},parseDatesDraw:function(){var g,l,m,n,q,p,w,x,y,B,D,C,I,b=this.chart,c=this.showFirstLabel,e=this.showLastLabel,f="",h=d.extractPeriod(this.minPeriod),k=d.getPeriodDuration(h.period,h.count),t=this.firstDayOfWeek,r=this.boldPeriodBeginning,a=this.minorGridEnabled,z=this.gridAlpha,A=(u=this.choosePeriod(0)).period;if(u=u.count,y=d.getPeriodDuration(A,u),k>y&&(A=h.period,u=h.count,y=k),"WW"==(h=A)&&(h="DD"),this.stepWidth=this.getStepWidth(this.timeDifference),B=Math.ceil(this.timeDifference/y)+5,D=l=d.resetDateToMin(new Date(this.startTime-y),A,u,t).getTime(),(h==A&&1==u&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels)&&(n=y*this.stepWidth,this.autoWrap&&!this.centerLabels&&(n=-n)),this.cellWidth=k*this.stepWidth,q=Math.round(l/y),k=-1,q/2==Math.round(q/2)&&(k=-2,l-=y),q=this.firstTime,C=0,I=0,a&&u>1&&(w=this.chooseMinorFrequency(u),x=d.getPeriodDuration(A,w),"DD"==A&&(x+=d.getPeriodDuration("hh")),"fff"==A&&(x=1)),this.gridCountR>0)for(B-5-k>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),a=k;B>=a;a++){if(p=q+y*(a+Math.floor((D-q)/y))-C,"DD"==A&&(p+=36e5),p=d.resetDateToMin(new Date(p),A,u,t).getTime(),"MM"==A&&(g=(p-l)/y,(p-l)/y>=1.5&&(p=p-(g-1)*y+d.getPeriodDuration("DD",3),p=d.resetDateToMin(new Date(p),A,1).getTime(),C+=y)),g=(p-this.startTime)*this.stepWidth,"radar"==b.type){if(0>(g=this.axisWidth-g)||g>this.axisWidth)continue}else this.rotate?"date"==this.type&&"middle"==this.gridPosition&&(I=-y*this.stepWidth/2):"date"==this.type&&(g=this.axisWidth-g);if(f=!1,this.nextPeriod[h]&&(f=this.checkPeriodChange(this.nextPeriod[h],1,p,l,h)),l=!1,f&&this.markPeriodChange?(f=this.dateFormatsObject[this.nextPeriod[h]],this.twoLineMode&&(f=this.dateFormatsObject[h]+"\n"+f,f=d.fixBrakes(f)),l=!0):f=this.dateFormatsObject[h],r||(l=!1),this.currentDateFormat=f,f=d.formatDate(new Date(p),f,b),(a==k&&!c||a==B&&!e)&&(f=" "),this.labelFunction&&(f=""+this.labelFunction(f,new Date(p),this,A,u,m)),this.boldLabels&&(l=!0),m=new this.axisItemRenderer(this,g,f,!1,n,I,!1,l),this.pushAxisItem(m),m=l=p,!isNaN(w))for(g=1;u>g;g+=w)this.gridAlpha=this.minorGridAlpha,f=p+x*g,f=d.resetDateToMin(new Date(f),A,w,t).getTime(),f=new this.axisItemRenderer(this,(f-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(f);this.gridAlpha=z}},choosePeriod:function(a){var b=d.getPeriodDuration(this.periods[a].period,this.periods[a].count),c=this.periods;return this.timeDifference<b&&a>0?c[a-1]:Math.ceil(this.timeDifference/b)>this.gridCountR&&a+1<c.length?this.choosePeriod(a+1):c[a]},getStepWidth:function(a){var b;return this.startOnAxis?(b=this.axisWidth/(a-1),1==a&&(b=this.axisWidth)):b=this.axisWidth/a,b},timeZoom:function(a,b){this.startTime=a,this.endTime=b},minDuration:function(){var a=d.extractPeriod(this.minPeriod);return d.getPeriodDuration(a.period,a.count)},checkPeriodChange:function(a,b,c,e,g){c=new Date(c);var f=new Date(e),h=this.firstDayOfWeek;return e=b,"DD"==a&&(b=1),c=d.resetDateToMin(c,a,b,h).getTime(),b=d.resetDateToMin(f,a,b,h).getTime(),("DD"!=a||"hh"==g||c-b>=d.getPeriodDuration(a,e)-d.getPeriodDuration("hh",1))&&c!=b},generateDFObject:function(){var a,b;for(this.dateFormatsObject={},a=0;a<this.dateFormats.length;a++)b=this.dateFormats[a],this.dateFormatsObject[b.period]=b.format},hideBalloon:function(){this.balloon&&this.balloon.hide&&this.balloon.hide(),this.prevBY=this.prevBX=NaN},formatBalloonText:function(a){return a},showBalloon:function(a,b,c,e){var f,d=this.offset;switch(this.position){case"bottom":b=this.height+d;break;case"top":b=-d;break;case"left":a=-d;break;case"right":a=this.width+d}if(c||(c=this.currentDateFormat),"V"==this.orientation){if(0>b||b>this.height)return;if(isNaN(b))return void this.hideBalloon();b=this.adjustBalloonCoordinate(b,e),e=this.coordinateToValue(b)}else{if(0>a||a>this.width)return;if(isNaN(a))return void this.hideBalloon();a=this.adjustBalloonCoordinate(a,e),e=this.coordinateToValue(a)}(d=this.chart.chartCursor)&&(f=d.index),this.balloon&&void 0!==e&&this.balloon.enabled&&(this.balloonTextFunction?("date"!=this.type&&!0!==this.parseDates||(e=new Date(e)),e=this.balloonTextFunction(e)):this.balloonText?e=this.formatBalloonText(this.balloonText,f,c):isNaN(e)||(e=this.formatValue(e,c)),a==this.prevBX&&b==this.prevBY||(this.balloon.setPosition(a,b),this.prevBX=a,this.prevBY=b,e&&this.balloon.showBalloon(e)))},adjustBalloonCoordinate:function(a){return a},createBalloon:function(){var a=this.chart,b=a.chartCursor;b&&("mouse"!=(b=b.cursorPosition)&&(this.stickBalloonToCategory=!0),"start"==b&&(this.stickBalloonToStart=!0),"ValueAxis"==this.cname&&(this.stickBalloonToCategory=!1)),this.balloon&&(this.balloon.destroy&&this.balloon.destroy(),d.extend(this.balloon,a.balloon,!0))},setBalloonBounds:function(){var b,c,e,d,f,h,k,l,a=this.balloon;if(a){switch(b=this.chart,a.cornerRadius=0,a.shadowAlpha=0,a.borderThickness=1,a.borderAlpha=1,a.adjustBorderColor=!1,a.showBullet=!1,this.balloon=a,a.chart=b,a.mainSet=b.plotBalloonsSet,a.pointerWidth=this.tickLength,(this.parseDates||"date"==this.type)&&(a.pointerWidth=0),a.className=this.id,b="V","V"==this.orientation&&(b="H"),this.stickBalloonToCategory||(a.animationDuration=0),h=this.inside,k=this.width,l=this.height,this.position){case"bottom":c=0,e=k,h?(d=0,f=l):(d=l,f=l+1e3);break;case"top":c=0,e=k,h?(d=0,f=l):(d=-1e3,f=0);break;case"left":d=0,f=l,h?(c=0,e=k):(c=-1e3,e=0);break;case"right":d=0,f=l,h?(c=0,e=k):(c=k,e=k+1e3)}a.drop||(a.pointerOrientation=b),a.setBounds(c,d,e,f)}}})}(),function(){var d=window.AmCharts;d.ValueAxis=d.Class({inherits:d.AxisBase,construct:function(a){this.cname="ValueAxis",this.createEvents("axisChanged","logarithmicAxisFailed","axisZoomed","axisIntZoomed"),d.ValueAxis.base.construct.call(this,a),this.dataChanged=!0,this.stackType="none",this.position="left",this.unitPosition="right",this.includeAllValues=this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1,this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""},this.scrollbar=!1,this.baseValue=0,this.radarCategoriesEnabled=!0,this.axisFrequency=1,this.gridType="polygons",this.useScientificNotation=!1,this.axisTitleOffset=10,this.pointPosition="axis",this.minMaxMultiplier=1,this.logGridLimit=2,this.totalTextOffset=this.treatZeroAs=0,this.minPeriod="ss",this.relativeStart=0,this.relativeEnd=1,d.applyTheme(this,a,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1),this.totals=[],this.data=this.chart.chartData;var a=this.chart;"xy"!=a.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step")),this.recalculateToPercents&&this.recalculate(),this.synchronizationMultiplier&&this.synchronizeWith?(d.isString(this.synchronizeWith)&&(this.synchronizeWith=a.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax(),(0===this.start&&this.end==this.data.length-1&&isNaN(this.minZoom)&&isNaN(this.maxZoom)||isNaN(this.fullMin)&&isNaN(this.fullMax))&&(this.fullMin=this.min,this.fullMax=this.max,"date"!=this.type&&this.strictMinMax&&(isNaN(this.minimum)||(this.fullMin=this.minimum),isNaN(this.maximum)||(this.fullMax=this.maximum)),this.logarithmic&&(this.fullMin=this.logMin,0===this.fullMin&&(this.fullMin=this.treatZeroAs)),"date"==this.type&&(this.minimumDate||(this.fullMin=this.minRR),this.maximumDate||(this.fullMax=this.maxRR),this.strictMinMax&&(this.minimumDate&&(this.fullMin=this.minimumDate.getTime()),this.maximumDate&&(this.fullMax=this.maximumDate.getTime())))))},draw:function(){var a,b,c,e,g,f,h,k,l,m,n,q,p,t,r,w,z,x,u,A,y,B,D,C,I,H,Q;if(d.ValueAxis.base.draw.call(this),a=this.chart,b=this.set,this.labelRotationR=this.labelRotation,d.setCN(a,this.set,"value-axis value-axis-"+this.id),d.setCN(a,this.labelsSet,"value-axis value-axis-"+this.id),d.setCN(a,this.axisLine.axisSet,"value-axis value-axis-"+this.id),"duration"==(c=this.type)&&(this.duration="ss"),!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1),"date"==c&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.reversed=!1,this.getDateMinMax()),!this.logarithmic||(e=this.treatZeroAs,g=this.getExtremes(0,this.data.length-1).min,!isNaN(this.minimum)&&this.minimum<g&&(g=this.minimum),this.logMin=g,this.minReal<g&&(this.minReal=g),isNaN(this.minReal)&&(this.minReal=g),e>0&&0===g&&(this.minReal=g=e),g>0&&this.minimum>0)){if(this.grid0=null,k=a.dx,l=a.dy,e=!1,g=this.logarithmic,isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)e=!0;else{if("date"==this.type&&this.min==this.max&&(this.max+=this.minDuration(),this.min-=this.minDuration()),m=this.labelFrequency,n=this.showFirstLabel,q=this.showLastLabel,p=1,t=0,this.minCalc=this.min,this.maxCalc=this.max,this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),this.min==this.max))return;for(isNaN(this.minZoom)||(this.minReal=this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.logarithmic?(h=this.fullMin,r=this.fullMax,isNaN(this.minimum)||(h=this.minimum),isNaN(this.maximum)||(r=this.maximum),r=Math.log(r)*Math.LOG10E-Math.log(h)*Math.LOG10E,w=Math.log(this.max)/Math.LN10-Math.log(h)*Math.LOG10E,this.relativeStart=d.roundTo((Math.log(this.minReal)/Math.LN10-Math.log(h)*Math.LOG10E)/r,5),this.relativeEnd=d.roundTo(w/r,5)):(this.relativeStart=d.roundTo(d.fitToBounds((this.min-this.fullMin)/(this.fullMax-this.fullMin),0,1),5),this.relativeEnd=d.roundTo(d.fitToBounds((this.max-this.fullMin)/(this.fullMax-this.fullMin),0,1),5)),r=Math.round((this.maxCalc-this.minCalc)/this.step)+1,!0===g?(z=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/z,z>this.logGridLimit&&(r=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,t=Math.round(Math.log(this.minReal)*Math.LOG10E),r>this.gridCountR&&(p=Math.ceil(r/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min),x=0,1>this.step&&this.step>-1&&(x=d.getDecimals(this.step)),this.integersOnly&&(x=0),x>this.maxDecCount&&(x=this.maxDecCount),w=this.precision,isNaN(w)||(x=w),isNaN(this.maxZoom)&&(this.max=d.roundTo(this.max,this.maxDecCount),this.min=d.roundTo(this.min,this.maxDecCount)),(h={}).precision=x,h.decimalSeparator=a.nf.decimalSeparator,h.thousandsSeparator=a.nf.thousandsSeparator,this.numberFormatter=h,this.exponential=!1,h=t;r>h;h+=p)-1!=((A=d.roundTo(this.step*h+this.min,x))+"").indexOf("e")&&(this.exponential=!0);if(this.duration&&(this.maxInterval=d.getMaxInterval(this.max,this.duration)),x=this.step,A=this.minorGridAlpha,this.minorGridEnabled&&(y=this.getMinorGridStep(x,this.stepWidth*x)),this.autoGridCount||0!==this.gridCount)if("date"==c)this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw();else for(r>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),c=this.minCalc,g&&(r++,c=this.maxCalc-r*x),this.gridCountReal=r,h=this.startCount=t;r>h;h+=p)if(t=x*h+c,t=d.roundTo(t,this.maxDecCount+1),(!this.integersOnly||Math.round(t)==t)&&(isNaN(w)||+d.toFixed(t,w)==t)){if(!0===g)if(z>this.logGridLimit){if((t=Math.pow(10,h))>this.max)continue}else if(0>=t&&0>=(t=c+x*h+x/2))continue;if(u=this.formatValue(t,!1,h),Math.round(h/m)!=h/m&&(u=void 0),(0===h&&!n||h==r-1&&!q)&&(u=" "),f=this.getCoordinate(t),this.rotate&&this.autoWrap&&(B=this.stepWidth*x-10),u=new this.axisItemRenderer(this,f,u,void 0,B,void 0,void 0,this.boldLabels),this.pushAxisItem(u),t==this.baseValue&&"radar"!=a.type&&(I=this.width,H=this.height,"H"==this.orientation?f>=0&&I+1>=f&&(D=[f,f,f+k],C=[H,0,l]):f>=0&&H+1>=f&&(D=[0,I,I+k],C=[f,f,f+l]),D&&(f=d.fitToBounds(2*this.gridAlpha,0,1),isNaN(this.zeroGridAlpha)||(f=this.zeroGridAlpha),(f=d.line(a.container,D,C,this.gridColor,f,1,this.dashLength)).translate(this.x,this.y),this.grid0=f,a.axesSet.push(f),f.toBack(),d.setCN(a,f,this.bcn+"zero-grid-"+this.id),d.setCN(a,f,this.bcn+"zero-grid"))),!isNaN(y)&&A>0&&r-1>h){for(f=x/y,g&&(y=x*(h+p)+this.minCalc,y=d.roundTo(y,this.maxDecCount+1),z>this.logGridLimit&&(y=Math.pow(10,h+p)),f=9,y=(y-t)/f),I=this.gridAlpha,this.gridAlpha=this.minorGridAlpha,H=1;f>H;H++)Q=this.getCoordinate(t+y*H),Q=new this.axisItemRenderer(this,Q,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(Q);this.gridAlpha=I}}if(z=this.guides,(B=z.length)>0){for(D=this.fillAlpha,h=this.fillAlpha=0;B>h;h++)C=z[h],k=NaN,y=C.above,isNaN(C.toValue)||(k=this.getCoordinate(C.toValue),u=new this.axisItemRenderer(this,k,"",!0,NaN,NaN,C),this.pushAxisItem(u,y)),l=NaN,isNaN(C.value)||(l=this.getCoordinate(C.value),u=new this.axisItemRenderer(this,l,C.label,!0,NaN,(k-l)/2,C),this.pushAxisItem(u,y)),isNaN(k)&&(l-=3,k=l+3),u&&(m=u.label)&&this.addEventListeners(m,C),isNaN(k-l)||0>l&&0>k||(k=new this.guideFillRenderer(this,l,k,C),this.pushAxisItem(k,y),y=k.graphics(),C.graphics=y,this.addEventListeners(y,C));this.fillAlpha=D}u=this.baseValue,this.min>this.baseValue&&this.max>this.baseValue&&(u=this.min),this.min<this.baseValue&&this.max<this.baseValue&&(u=this.max),g&&u<this.minReal&&(u=this.minReal),this.baseCoord=this.getCoordinate(u,!0),(u={type:"axisChanged",target:this,chart:a}).min=g?this.minReal:this.min,u.max=this.max,this.fire(u),this.axisCreated=!0}g=this.axisLine.set,u=this.labelsSet,b.translate(this.x,this.y),u.translate(this.x,this.y),this.positionTitle(),"radar"!=a.type&&g.toFront(),!this.visible||e?(b.hide(),g.hide(),u.hide()):(b.show(),g.show(),u.show()),this.axisY=this.y,this.axisX=this.x}else this.fire({type:"logarithmicAxisFailed",chart:a})},getDateMinMax:function(){this.minimumDate&&(this.minimumDate instanceof Date||(this.minimumDate=d.getDate(this.minimumDate,this.chart.dataDateFormat,"fff")),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate instanceof Date||(this.maximumDate=d.getDate(this.maximumDate,this.chart.dataDateFormat,"fff")),this.max=this.maximumDate.getTime())},formatValue:function(a,b,c){var e=this.exponential,g=this.logarithmic,f=this.numberFormatter,h=this.chart;if(f)return!0===this.logarithmic&&(e=-1!=(a+"").indexOf("e")),this.useScientificNotation&&(e=!0),this.usePrefixes&&(e=!1),e?(c=-1==(a+"").indexOf("e")?a.toExponential(15):a+"",e=c.split("e"),c=+e[0],e=+e[1],c=d.roundTo(c,14),b||isNaN(this.precision)||(c=d.roundTo(c,this.precision)),10==c&&(c=1,e+=1),c=c+"e"+e,0===a&&(c="0"),1==a&&(c="1")):(g&&((e=(a+"").split("."))[1]?(f.precision=e[1].length,0>c&&(f.precision=Math.abs(c)),b&&a>1&&(f.precision=0),b||isNaN(this.precision)||(f.precision=this.precision)):f.precision=-1),c=this.usePrefixes?d.addPrefix(a,h.prefixesOfBigNumbers,h.prefixesOfSmallNumbers,f,!b):d.formatNumber(a,f,f.precision)),this.duration&&(b&&(f.precision=0),c=d.formatDuration(a,this.duration,"",this.durationUnits,this.maxInterval,f)),"date"==this.type&&(c=d.formatDate(new Date(a),this.currentDateFormat,h)),this.recalculateToPercents?c+="%":(b=this.unit)&&(c="left"==this.unitPosition?b+c:c+b),this.labelFunction&&(c="date"==this.type?""+this.labelFunction(c,new Date(a),this):""+this.labelFunction(a,c,this)),c},getMinorGridStep:function(a,b){var e,d,f,h,c=[5,4,2];for(60>b&&c.shift(),e=Math.floor(Math.log(Math.abs(a))*Math.LOG10E),d=0;d<c.length;d++)if(f=a/c[d],h=Math.floor(Math.log(Math.abs(f))*Math.LOG10E),Math.abs(e-h)<=1)if(1>a){if((h=Math.pow(10,-h)*f)==Math.round(h))return f}else if(f==Math.round(f))return f},stackGraphs:function(a){var c,e,g,f,h,k,l,m,n,q,p,t,r,w,z,b=this.stackType;if("stacked"==b&&(b="regular"),"line"==b&&(b="none"),"100% stacked"==b&&(b="100%"),this.stackType=b,c=[],e=[],g=[],f=[],k=this.chart.graphs,t=this.baseValue,r=!1,"line"!=a&&"step"!=a&&"smoothedLine"!=a||(r=!0),r&&("regular"==b||"100%"==b))for(q=0;q<k.length;q++)n=k[q],n.stackGraph=null,n.hidden||(m=n.type,n.chart==this.chart&&n.valueAxis==this&&a==m&&n.stackable&&(l&&(n.stackGraph=l),l=n));for(n=this.start-10,l=this.end+10,q=this.data.length-1,n=d.fitToBounds(n,0,q),l=d.fitToBounds(l,0,q),p=n;l>=p;p++)for(w=0,q=0;q<k.length;q++)(n=k[q]).hidden?n.newStack&&(g[p]=NaN,e[p]=NaN):(m=n.type,n.chart==this.chart&&n.valueAxis==this&&a==m&&n.stackable&&(m=this.data[p].axes[this.id].graphs[n.id],h=m.values.value,isNaN(h)?n.newStack&&(g[p]=NaN,e[p]=NaN):((z=d.getDecimals(h))>w&&(w=z),isNaN(f[p])?f[p]=Math.abs(h):f[p]+=Math.abs(h),f[p]=d.roundTo(f[p],w),z=n.fillToGraph,r&&z&&(z=this.data[p].axes[this.id].graphs[z.id])&&(m.values.open=z.values.value),"regular"==b&&(r&&(isNaN(c[p])?(c[p]=h,m.values.close=h,m.values.open=this.baseValue):(isNaN(h)?m.values.close=c[p]:m.values.close=h+c[p],m.values.open=c[p],c[p]=m.values.close)),"column"==a&&(n.newStack&&(g[p]=NaN,e[p]=NaN),m.values.close=h,0>h?(m.values.close=h,isNaN(e[p])?m.values.open=t:(m.values.close+=e[p],m.values.open=e[p]),e[p]=m.values.close):(m.values.close=h,isNaN(g[p])?m.values.open=t:(m.values.close+=g[p],m.values.open=g[p]),g[p]=m.values.close))))));for(p=this.start;p<=this.end;p++)for(q=0;q<k.length;q++)(n=k[q]).hidden?n.newStack&&(g[p]=NaN,e[p]=NaN):(m=n.type,n.chart==this.chart&&n.valueAxis==this&&a==m&&n.stackable&&(m=this.data[p].axes[this.id].graphs[n.id],h=m.values.value,isNaN(h)||(c=h/f[p]*100,m.values.percents=c,m.values.total=f[p],n.newStack&&(g[p]=NaN,e[p]=NaN),"100%"==b&&(isNaN(e[p])&&(e[p]=0),isNaN(g[p])&&(g[p]=0),0>c?(m.values.close=d.fitToBounds(c+e[p],-100,100),m.values.open=e[p],e[p]=m.values.close):(m.values.close=d.fitToBounds(c+g[p],-100,100),m.values.open=g[p],g[p]=m.values.close)))))},recalculate:function(){var c,e,g,f,h,k,l,m,n,q,p,a=this.chart,b=a.graphs;for(c=0;c<b.length;c++)if((e=b[c]).valueAxis==this){for(g="value","candlestick"!=e.type&&"ohlc"!=e.type||(g="open"),k=this.end+2,k=d.fitToBounds(this.end+1,0,this.data.length-1),(l=this.start)>0&&l--,h=this.start,e.compareFromStart&&(h=0),!isNaN(a.startTime)&&(m=a.categoryAxis)&&(n=m.minDuration(),n=new Date(a.startTime+n/2),q=d.resetDateToMin(new Date(a.startTime),m.minPeriod).getTime(),d.resetDateToMin(new Date(n),m.minPeriod).getTime()>q&&h++),(m=a.recalculateFromDate)&&(m=d.getDate(m,a.dataDateFormat,"fff"),h=a.getClosestIndex(a.chartData,"time",m.getTime(),!0,0,a.chartData.length),k=a.chartData.length-1),m=h;k>=m&&(h=this.data[m].axes[this.id].graphs[e.id],f=h.values[g],e.recalculateValue&&(f=h.dataContext[e.valueField+e.recalculateValue]),isNaN(f));m++);for(this.recBaseValue=f,g=l;k>=g;g++){(h=this.data[g].axes[this.id].graphs[e.id]).percents={},l=h.values;for(p in l)h.percents[p]="percents"!=p?l[p]/f*100-100:l[p]}}},getMinMax:function(){var e,g,a=!1,b=this.chart,c=b.graphs;for(e=0;e<c.length;e++)("line"==(g=c[e].type)||"step"==g||"smoothedLine"==g)&&this.expandMinMax&&(a=!0);if(a&&(this.start>0&&this.start--,this.end<this.data.length-1&&this.end++),"serial"==b.type&&(!0!==b.categoryAxis.parseDates||a||this.end<this.data.length-1&&this.end++),this.includeAllValues&&(this.start=0,this.end=this.data.length-1),a=this.minMaxMultiplier,b=this.getExtremes(this.start,this.end),this.min=b.min,this.max=b.max,this.minRR=this.min,this.maxRR=this.max,a=(this.max-this.min)*(a-1),this.min-=a,this.max+=a,a=this.guides.length,this.includeGuidesInMinMax&&a>0)for(b=0;a>b;b++)(c=this.guides[b]).toValue<this.min&&(this.min=c.toValue),c.value<this.min&&(this.min=c.value),c.toValue>this.max&&(this.max=c.toValue),c.value>this.max&&(this.max=c.value);isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum),"date"==this.type&&this.getDateMinMax(),this.min>this.max&&(a=this.max,this.max=this.min,this.min=a),isNaN(this.minZoom)||(this.min=this.minZoom),isNaN(this.maxZoom)||(this.max=this.maxZoom),this.minCalc=this.min,this.maxCalc=this.max,this.minReal=this.min,this.maxReal=this.max,0===this.min&&0===this.max&&(this.max=9),this.min>this.max&&(this.min=this.max-1),a=this.min,b=this.max,e=0===(c=this.max-this.min)?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E))/10,isNaN(this.maximum)&&(this.max=Math.ceil(this.max/e)*e+e),isNaN(this.minimum)&&(this.min=Math.floor(this.min/e)*e-e),0>this.min&&a>=0&&(this.min=0),this.max>0&&0>=b&&(this.max=0),"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100),c=this.max-this.min,e=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E))/10,this.step=Math.ceil(c/this.gridCountR/e)*e,c=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),c=d.fixStepE(c),(e=Math.ceil(this.step/c))>5&&(e=10),5>=e&&e>2&&(e=5),this.step=Math.ceil(this.step/(c*e))*c*e,isNaN(this.setStep)||(this.step=this.setStep),1>c?(this.maxDecCount=Math.abs(Math.log(Math.abs(c))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=d.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0,this.min=this.step*Math.floor(this.min/this.step),this.max=this.step*Math.ceil(this.max/this.step),0>this.min&&a>=0&&(this.min=0),this.max>0&&0>=b&&(this.max=0),this.minReal>1&&this.max-this.minReal>1&&(this.minReal=Math.floor(this.minReal)),c=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E)),0===this.min&&(this.minReal=c),0===this.min&&this.minReal>1&&(this.minReal=1),this.min>0&&this.minReal-this.step>0&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min),this.logarithmic&&(Math.log(b)*Math.LOG10E-Math.log(a)*Math.LOG10E>2?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E)),this.maxReal=this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(b))*Math.LOG10E))):(a=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E))/10,Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10<a&&(this.minReal=this.min=10*a)))},getExtremes:function(a,b){var c,e,d,f,h,k,l,m;for(d=a;b>=d;d++){f=this.data[d].axes[this.id].graphs;for(h in f)if(f.hasOwnProperty(h)&&(k=this.chart.graphsById[h]).includeInMinMax&&(!k.hidden||this.includeHidden))if(isNaN(c)&&(c=Infinity),isNaN(e)&&(e=-Infinity),this.foundGraphs=!0,k=f[h].values,this.recalculateToPercents&&(k=f[h].percents),this.minMaxField)l=k[this.minMaxField],c>l&&(c=l),l>e&&(e=l);else for(m in k)k.hasOwnProperty(m)&&"percents"!=m&&"total"!=m&&"error"!=m&&(l=k[m],c>l&&(c=l),l>e&&(e=l))}return{min:c,max:e}},zoomOut:function(a){this.maxZoom=this.minZoom=NaN,this.zoomToRelativeValues(0,1,a)},zoomToRelativeValues:function(a,b,c){var e,d,f,h;return this.reversed&&(e=a,a=1-b,b=1-e),d=this.fullMax,e=this.fullMin,f=e+(d-e)*a,h=e+(d-e)*b,this.minimum>=0&&0>f&&(f=0),this.logarithmic&&(isNaN(this.minimum)||(e=this.minimum),isNaN(this.maximum)||(d=this.maximum),d=Math.log(d)*Math.LOG10E-Math.log(e)*Math.LOG10E,f=Math.pow(10,d*a+Math.log(e)*Math.LOG10E),h=Math.pow(10,d*b+Math.log(e)*Math.LOG10E)),this.zoomToValues(f,h,c)},zoomToValues:function(a,b,c){var e,g,f;if(a>b&&(e=b,b=a,a=e),g=this.fullMax,e=this.fullMin,this.relativeStart=d.roundTo((a-e)/(g-e),9),this.relativeEnd=d.roundTo((b-e)/(g-e),9),this.logarithmic&&(isNaN(this.minimum)||(e=this.minimum),isNaN(this.maximum)||(g=this.maximum),g=Math.log(g)*Math.LOG10E-Math.log(e)*Math.LOG10E,f=Math.log(b)/Math.LN10-Math.log(e)*Math.LOG10E,this.relativeStart=d.roundTo((Math.log(a)/Math.LN10-Math.log(e)*Math.LOG10E)/g,9),this.relativeEnd=d.roundTo(f/g,9)),this.minZoom!=a||this.maxZoom!=b)return this.minZoom=a,this.maxZoom=b,e={type:"axisZoomed"},e.chart=this.chart,e.valueAxis=this,e.startValue=a,e.endValue=b,e.relativeStart=this.relativeStart,e.relativeEnd=this.relativeEnd,this.prevStartValue==a&&this.prevEndValue==b||this.fire(e),this.prevStartValue=a,this.prevEndValue=b,c||(a={},d.copyProperties(e,a),a.type="axisIntZoomed",this.fire(a)),0===this.relativeStart&&1==this.relativeEnd&&(this.maxZoom=this.minZoom=NaN),!0},coordinateToValue:function(a){if(isNaN(a))return NaN;var b=this.axisWidth,c=this.stepWidth,e=this.reversed,d=this.rotate,f=this.min,h=this.minReal;return!0===this.logarithmic?Math.pow(10,(d?!0===e?(b-a)/c:a/c:!0===e?a/c:(b-a)/c)+Math.log(h)*Math.LOG10E):!0===e?d?f-(a-b)/c:a/c+f:d?a/c+f:f-(a-b)/c},getCoordinate:function(a,b){if(isNaN(a))return NaN;var c=this.rotate,e=this.reversed,d=this.axisWidth,f=this.stepWidth,h=this.min,k=this.minReal;return!0===this.logarithmic?(0===a&&(a=this.treatZeroAs),h=Math.log(a)*Math.LOG10E-Math.log(k)*Math.LOG10E,c=c?!0===e?d-f*h:f*h:!0===e?f*h:d-f*h):c=!0===e?c?d-f*(a-h):f*(a-h):c?f*(a-h):d-f*(a-h),Math.abs(c)>1e7&&(c=c/Math.abs(c)*1e7),b||(c=Math.round(c)),c},synchronizeWithAxis:function(a){this.synchronizeWith=a,this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){d.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var b=(a=this.synchronizeWith).min,c=a.max,a=a.step,e=this.synchronizationMultiplier;e&&(this.min=b*e,this.max=c*e,this.step=a*e,b=Math.abs(Math.log(Math.abs(Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E))))*Math.LOG10E),this.maxDecCount=b=Math.round(b),this.draw())}}})}(),function(){var d=window.AmCharts;d.RecAxis=d.Class({construct:function(a){var b=a.chart,c=a.axisThickness,e=a.axisColor,g=a.axisAlpha,f=a.offset,h=a.dx,k=a.dy,l=a.x,m=a.y,n=a.height,q=a.width,p=b.container;"H"==a.orientation?(e=d.line(p,[0,q],[0,0],e,g,c),this.axisWidth=a.width,"bottom"==a.position?(k=c/2+f+n+m-1,c=l):(k=-c/2-f+m+k,c=h+l)):(this.axisWidth=a.height,"right"==a.position?(e=d.line(p,[0,0,-h],[0,n,n-k],e,g,c),k=m+k,c=c/2+f+h+q+l-1):(e=d.line(p,[0,0],[0,n],e,g,c),k=m,c=-c/2-f+l)),e.translate(c,k),(c=b.container.set()).push(e),b.axesSet.push(c),d.setCN(b,e,a.bcn+"line"),this.axisSet=c,this.set=e}})}(),function(){var d=window.AmCharts;d.RecItem=d.Class({construct:function(a,b,c,e,g,f,h,k,l,m,n,q){var p,t,r,w,z,x,u,A,y,B,D,C,I,H,Q,M,P,ia,J,aa,ma,na,Pa,Z,da,X,xa,ea,fa,Ba,ga,V,Y,Da,G,v,oa,ha,Qa,ca;b=Math.round(b),p=a.chart,this.value=c,void 0==c&&(c=""),l||(l=0),void 0==e&&(e=!0),t=p.fontFamily,void 0==(r=a.fontSize)&&(r=p.fontSize),void 0==(w=a.color)&&(w=p.color),void 0!==n&&(w=n),x=(z=a.chart.container).set(),this.set=x,u=a.axisThickness,A=a.axisColor,y=a.axisAlpha,B=a.tickLength,D=a.gridAlpha,C=a.gridThickness,I=a.gridColor,H=a.dashLength,Q=a.fillColor,M=a.fillAlpha,P=a.labelsEnabled,n=a.labelRotationR,ia=a.counter,J=a.inside,aa=a.labelOffset,ma=a.dx,na=a.dy,Pa=a.orientation,Z=a.position,da=a.previousCoord,X=a.height,xa=a.width,ea=a.offset,h?(void 0!==h.id&&(q=p.classNamePrefix+"-guide-"+h.id),P=!0,isNaN(h.tickLength)||(B=h.tickLength),void 0!=h.lineColor&&(I=h.lineColor),void 0!=h.color&&(w=h.color),isNaN(h.lineAlpha)||(D=h.lineAlpha),isNaN(h.dashLength)||(H=h.dashLength),isNaN(h.lineThickness)||(C=h.lineThickness),!0===h.inside&&(J=!0,ea>0&&(ea=0)),isNaN(h.labelRotation)||(n=h.labelRotation),isNaN(h.fontSize)||(r=h.fontSize),h.position&&(Z=h.position),void 0!==h.boldLabel&&(k=h.boldLabel),isNaN(h.labelOffset)||(aa=h.labelOffset)):""===c&&(B=0),m&&!isNaN(a.minorTickLength)&&(B=a.minorTickLength),ga="start",g>0&&(ga="middle"),a.centerLabels&&(ga="middle"),V=n*Math.PI/180,G=0,v=0,oa=0,ha=Y=0,Qa=0,"V"==Pa&&(n=0),P&&""!==c&&(ca=a.autoWrap&&0===n?d.wrappedText(z,c,w,t,r,ga,k,Math.abs(g),0):d.text(z,c,w,t,r,ga,k),ga=ca.getBBox(),ha=ga.width,Qa=ga.height),"H"==Pa?(b>=0&&xa+1>=b&&(B>0&&y>0&&xa+1>=b+l&&(fa=d.line(z,[b+l,b+l],[0,B],A,y,C),x.push(fa)),D>0&&(Ba=d.line(z,[b,b+ma,b+ma],[X,X+na,na],I,D,C,H),x.push(Ba))),v=0,G=b,h&&90==n&&J&&(G-=r),!1===e?(ga="start",v="bottom"==Z?J?v+B:v-B:J?v-B:v+B,G+=3,g>0&&(G+=g/2-3,ga="middle"),n>0&&(ga="middle")):ga="middle",1==ia&&M>0&&!h&&!m&&xa>da&&(e=d.fitToBounds(b,0,xa),da=d.fitToBounds(da,0,xa),(Y=e-da)>0&&((Da=d.rect(z,Y,a.height,Q,M)).translate(e-Y+ma,na),x.push(Da))),"bottom"==Z?(v+=X+r/2+ea,J?(n>0?(v=X-ha/2*Math.sin(V)-B-3,a.centerRotatedLabels||(G+=ha/2*Math.cos(V)-4+2)):0>n?(v=X+ha*Math.sin(V)-B-3+2,G+=-ha*Math.cos(V)-Qa*Math.sin(V)-4):v-=B+r+3+3,v-=aa):(n>0?(v=X+ha/2*Math.sin(V)+B+3,a.centerRotatedLabels||(G-=ha/2*Math.cos(V))):0>n?(v=X+B+3-ha/2*Math.sin(V)+2,G+=ha/2*Math.cos(V)):v+=B+u+3+3,v+=aa)):(v+=na+r/2-ea,G+=ma,J?(n>0?(v=ha/2*Math.sin(V)+B+3,a.centerRotatedLabels||(G-=ha/2*Math.cos(V))):v+=B+3,v+=aa):(n>0?(v=-ha/2*Math.sin(V)-B-6,a.centerRotatedLabels||(G+=ha/2*Math.cos(V))):v-=B+r+3+u+3,v-=aa)),"bottom"==Z?Y=(J?X-B-1:X+u-1)+ea:(oa=ma,Y=(J?na:na-B-u+1)-ea),f&&(G+=f),r=G,n>0&&(r+=ha/2*Math.cos(V)),ca&&(f=0,J&&(f=ha/2*Math.cos(V)),r+f>xa+2||0>r)&&(ca.remove(),ca=null)):(b>=0&&X+1>=b&&(B>0&&y>0&&X+1>=b+l&&(fa=d.line(z,[0,B+1],[b+l,b+l],A,y,C),x.push(fa)),D>0&&(Ba=d.line(z,[0,ma,xa+ma],[b,b+na,b+na],I,D,C,H),x.push(Ba))),ga="end",(!0===J&&"left"==Z||!1===J&&"right"==Z)&&(ga="start"),v=b-Qa/2+2,1==ia&&M>0&&!h&&!m&&(e=d.fitToBounds(b,0,X),da=d.fitToBounds(da,0,X),V=e-da,(Da=d.polygon(z,[0,a.width,a.width,0],[0,0,V,V],Q,M)).translate(ma,e-V+na),x.push(Da)),v+=r/2,"right"==Z?(G+=ma+xa+ea,v+=na,J?(f||(v-=r/2+3),G=G-(B+4)-aa):(G+=B+4+u,v-=2,G+=aa)):J?(G+=B+4-ea,f||(v-=r/2+3),h&&(G+=ma,v+=na),G+=aa):(G+=-B-u-4-2-ea,v-=2,G-=aa),fa&&("right"==Z?(oa+=ma+ea+xa-1,Y+=na,oa=J?oa-u:oa+u):(oa-=ea,J||(oa-=B+u))),f&&(v+=f),J=-3,"right"==Z&&(J+=na),ca&&(v>X+1||J-r/10>v)&&(ca.remove(),ca=null)),fa&&(fa.translate(oa,Y),d.setCN(p,fa,a.bcn+"tick"),d.setCN(p,fa,q,!0),h&&d.setCN(p,fa,"guide")),!1===a.visible&&(fa&&fa.remove(),ca&&(ca.remove(),ca=null)),ca&&(ca.attr({"text-anchor":ga}),ca.translate(G,v,NaN,!0),0!==n&&ca.rotate(-n,a.chart.backgroundColor),a.allLabels.push(ca),this.label=ca,d.setCN(p,ca,a.bcn+"label"),d.setCN(p,ca,q,!0),h&&d.setCN(p,ca,"guide")),Ba&&(d.setCN(p,Ba,a.bcn+"grid"),d.setCN(p,Ba,q,!0),h&&d.setCN(p,Ba,"guide")),Da&&(d.setCN(p,Da,a.bcn+"fill"),d.setCN(p,Da,q,!0)),m?Ba&&d.setCN(p,Ba,a.bcn+"grid-minor"):(a.counter=0===ia?1:0,a.previousCoord=b),0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})}(),function(){var d=window.AmCharts;d.RecFill=d.Class({construct:function(a,b,c,e){var l,m,n,g=a.dx,f=a.dy,h=a.orientation,k=0;b>c&&(l=b,b=c,c=l),m=e.fillAlpha,isNaN(m)&&(m=0),l=a.chart.container,n=e.fillColor,"V"==h?(b=d.fitToBounds(b,0,a.height),c=d.fitToBounds(c,0,a.height)):(b=d.fitToBounds(b,0,a.width),c=d.fitToBounds(c,0,a.width)),c-=b,isNaN(c)&&(c=4,k=2,m=0),0>c&&"object"==typeof n&&(n=n.join(",").split(",").reverse()),"V"==h?(h=d.rect(l,a.width,c,n,m)).translate(g,b-k+f):(h=d.rect(l,c,a.height,n,m)).translate(b-k+g,f),d.setCN(a.chart,h,"guide-fill"),e.id&&d.setCN(a.chart,h,"guide-fill-"+e.id),this.set=l.set([h])},graphics:function(){return this.set},getLabel:function(){}})}(),function(){var d=window.AmCharts;d.AmChart=d.Class({construct:function(a){this.svgIcons=this.tapToActivate=!0,this.theme=a,this.classNamePrefix="amcharts",this.addClassNames=!1,this.version="3.21.7",d.addChart(this),this.createEvents("buildStarted","dataUpdated","init","rendered","drawn","failed","resized","animationFinished"),this.height=this.width="100%",this.dataChanged=!0,this.chartCreated=!1,this.previousWidth=this.previousHeight=0,this.backgroundColor="#FFFFFF",this.borderAlpha=this.backgroundAlpha=0,this.color=this.borderColor="#000000",this.fontFamily="Verdana",this.fontSize=11,this.usePrefixes=!1,this.autoResize=!0,this.autoDisplay=!1,this.addCodeCredits=this.accessible=!0,this.touchStartTime=this.touchClickDuration=0,this.precision=-1,this.percentPrecision=2,this.decimalSeparator=".",this.thousandsSeparator=",",this.labels=[],this.allLabels=[],this.titles=[],this.marginRight=this.marginLeft=this.autoMarginOffset=0,this.timeOuts=[],this.creditsPosition="top-left";var b=document.createElement("div"),c=b.style;c.overflow="hidden",c.position="relative",c.textAlign="left",this.chartDiv=b,(c=(b=document.createElement("div")).style).overflow="hidden",c.position="relative",c.textAlign="left",this.legendDiv=b,this.titleHeight=0,this.hideBalloonTime=150,this.handDrawScatter=2,this.cssScale=this.handDrawThickness=1,this.cssAngle=0,this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}],this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"μ"},{number:.001,prefix:"m"}],this.panEventsEnabled=!0,this.product="amcharts",this.animations=[],this.balloon=new d.AmBalloon(this.theme),this.balloon.chart=this,this.processTimeout=0,this.processCount=1e3,this.animatable=[],this.langObj={},d.applyTheme(this,a,"AmChart")},drawChart:function(){this.realWidth>0&&this.realHeight>0&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix(),this.chartDiv&&(this.boundingRect=this.chartDiv.getBoundingClientRect()))},makeAccessible:function(a,b,c){this.accessible&&a&&(c&&a.setAttr("role",c),a.setAttr("aria-label",b))},drawBackground:function(){var a,b,c,e,g,f;d.remove(this.background),a=this.container,b=this.backgroundColor,c=this.backgroundAlpha,e=this.set,d.isModern||0!==c||(c=.001),g=this.updateWidth(),this.realWidth=g,f=this.updateHeight(),this.realHeight=f,b=d.polygon(a,[0,g-1,g-1,0],[0,0,f-1,f-1],b,c,1,this.borderColor,this.borderAlpha),d.setCN(this,b,"bg"),this.background=b,e.push(b),(b=this.backgroundImage)&&(a=a.image(b,0,0,g,f),d.setCN(this,b,"bg-image"),this.bgImg=a,e.push(a))},drawTitles:function(a){var c,e,g,f,h,k,l,b=this.titles;if(this.titleHeight=0,d.ifArray(b)){for(c=20,e=0;e<b.length;e++)g=b[e],!1!==(g=d.processObject(g,d.Title,this.theme)).enabled&&(void 0===(f=g.color)&&(f=this.color),h=g.size,isNaN(h)&&(h=this.fontSize+2),isNaN(g.alpha),k=this.marginLeft,l=!0,void 0!==g.bold&&(l=g.bold),(f=d.wrappedText(this.container,g.text,f,this.fontFamily,h,"middle",l,this.realWidth-35-this.marginRight-k)).translate(k+(this.realWidth-this.marginRight-k)/2,c),f.node.style.pointerEvents="none",g.sprite=f,void 0!==g.tabIndex&&f.setAttr("tabindex",g.tabIndex),d.setCN(this,f,"title"),g.id&&d.setCN(this,f,"title-"+g.id),f.attr({opacity:g.alpha}),c+=f.getBBox().height+5,a?f.remove():this.freeLabelsSet.push(f));this.titleHeight=c-10}},write:function(a){var c,e,b=this;if(b.listeners)for(c=0;c<b.listeners.length;c++)e=b.listeners[c],b.addListener(e.event,e.method);b.fire({type:"buildStarted",chart:b}),b.afterWriteTO&&clearTimeout(b.afterWriteTO),b.processTimeout>0?b.afterWriteTO=setTimeout(function(){b.afterWrite.call(b,a)},b.processTimeout):b.afterWrite(a)},afterWrite:function(a){var b,c,e,g,f,h,k;if(b="object"!=typeof a?document.getElementById(a):a){for(;b.firstChild;)b.removeChild(b.firstChild);if(this.div=b,b.style.overflow="hidden",b.style.textAlign="left",a=this.chartDiv,c=this.legendDiv,e=this.legend,g=c.style,f=a.style,this.measure(),this.previousHeight=this.divRealHeight,this.previousWidth=this.divRealWidth,k=document.createElement("div"),h=k.style,h.position="relative",this.containerDiv=k,k.className=this.classNamePrefix+"-main-div",a.className=this.classNamePrefix+"-chart-div",b.appendChild(k),(b=this.exportConfig)&&d.AmExport&&!this.AmExport&&(this.AmExport=new d.AmExport(this,b)),this.amExport&&d.AmExport&&(this.AmExport=d.extend(this.amExport,new d.AmExport(this),!0)),this.AmExport&&this.AmExport.init&&this.AmExport.init(),e){if((e=this.addLegend(e,e.divId)).enabled)switch(g.left=null,g.top=null,g.right=null,f.left=null,f.right=null,f.top=null,g.position="relative",f.position="relative",h.width="100%",h.height="100%",e.position){case"bottom":k.appendChild(a),k.appendChild(c);break;case"top":k.appendChild(c),k.appendChild(a);break;case"absolute":g.position="absolute",f.position="absolute",void 0!==e.left&&(g.left=e.left+"px"),void 0!==e.right&&(g.right=e.right+"px"),void 0!==e.top&&(g.top=e.top+"px"),void 0!==e.bottom&&(g.bottom=e.bottom+"px"),e.marginLeft=0,e.marginRight=0,k.appendChild(a),k.appendChild(c);break;case"right":g.position="relative",f.position="absolute",k.appendChild(a),k.appendChild(c);break;case"left":g.position="absolute",f.position="relative",k.appendChild(a),k.appendChild(c);break;case"outside":k.appendChild(a)}else k.appendChild(a);this.prevLegendPosition=e.position}else k.appendChild(a);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0),(this.mouseWheelScrollEnabled||this.mouseWheelZoomEnabled)&&d.addWheelListeners(),this.initChart()}},createLabelsSet:function(){d.remove(this.labelsSet),this.labelsSet=this.container.set(),this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.balloon=d.processObject(this.balloon,d.AmBalloon,this.theme),window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=d.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=d.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(d.callInitHandler(this),this.initHC=!0),d.applyLang(this.language,this);var a=this.numberFormatter;a&&(isNaN(a.precision)||(this.precision=a.precision),void 0!==a.thousandsSeparator&&(this.thousandsSeparator=a.thousandsSeparator),void 0!==a.decimalSeparator&&(this.decimalSeparator=a.decimalSeparator)),(a=this.percentFormatter)&&!isNaN(a.precision)&&(this.percentPrecision=a.precision),this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator},this.destroy(),(a=this.container)?(a.container.innerHTML="",a.width=this.realWidth,a.height=this.realHeight,a.addDefs(this),this.chartDiv.appendChild(a.container)):a=new d.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this),this.container=a,this.extension=".png",this.svgIcons&&d.SVG&&(this.extension=".svg"),this.checkDisplay(),this.checkTransform(this.div),a.chart=this,d.VML||d.SVG?(a.handDrawn=this.handDrawn,a.handDrawScatter=this.handDrawScatter,a.handDrawThickness=this.handDrawThickness,d.remove(this.set),this.set=a.set(),d.remove(this.gridSet),this.gridSet=a.set(),d.remove(this.cursorLineSet),this.cursorLineSet=a.set(),d.remove(this.graphsBehindSet),this.graphsBehindSet=a.set(),d.remove(this.bulletBehindSet),this.bulletBehindSet=a.set(),d.remove(this.columnSet),this.columnSet=a.set(),d.remove(this.graphsSet),this.graphsSet=a.set(),d.remove(this.trendLinesSet),this.trendLinesSet=a.set(),d.remove(this.axesSet),this.axesSet=a.set(),d.remove(this.cursorSet),this.cursorSet=a.set(),d.remove(this.scrollbarsSet),this.scrollbarsSet=a.set(),d.remove(this.bulletSet),this.bulletSet=a.set(),d.remove(this.freeLabelsSet),this.freeLabelsSet=a.set(),d.remove(this.axesLabelsSet),this.axesLabelsSet=a.set(),d.remove(this.balloonsSet),this.balloonsSet=a.set(),d.remove(this.plotBalloonsSet),this.plotBalloonsSet=a.set(),d.remove(this.zoomButtonSet),this.zoomButtonSet=a.set(),d.remove(this.zbSet),this.zbSet=null,d.remove(this.linkSet),this.linkSet=a.set()):this.fire({type:"failed",chart:this})},premeasure:function(){var b,c,a=this.div;if(a){try{this.boundingRect=this.chartDiv.getBoundingClientRect()}catch(e){}b=a.offsetWidth,c=a.offsetHeight,a.clientHeight&&(b=a.clientWidth,c=a.clientHeight),b==this.mw&&c==this.mh||(this.mw=b,this.mh=c,this.measure())}},measure:function(){var b,c,e,g,f;(a=this.div)&&(b=this.chartDiv,c=a.offsetWidth,e=a.offsetHeight,g=this.container,a.clientHeight&&(c=a.clientWidth,e=a.clientHeight),e=Math.round(e),c=Math.round(c),a=Math.round(d.toCoordinate(this.width,c)),f=Math.round(d.toCoordinate(this.height,e)),(c!=this.previousWidth||e!=this.previousHeight)&&a>0&&f>0&&(b.style.width=a+"px",b.style.height=f+"px",b.style.padding=0,g&&g.setSize(a,f),this.balloon=d.processObject(this.balloon,d.AmBalloon,this.theme)),this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,a-2,f),this.updateWidth(),this.balloon.chart=this,this.realWidth=a,this.realHeight=f,this.divRealWidth=c,this.divRealHeight=e)},checkDisplay:function(){if(this.autoDisplay&&this.container){var a=d.rect(this.container,10,10),b=a.getBBox();0===b.width&&0===b.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN),a.remove()}},checkTransform:function(a){var b,c;this.autoTransform&&window.getComputedStyle&&a&&(a.style&&(b=window.getComputedStyle(a,null))&&(b=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform"))&&"none"!==b&&(b=(c=b.split("(")[1].split(")")[0].split(","))[0],c=c[1],b=Math.sqrt(b*b+c*c),isNaN(b)||(this.cssScale*=b)),a.parentNode&&this.checkTransform(a.parentNode))},destroy:function(){this.chartDiv.innerHTML="",this.clearTimeOuts(),this.legend&&this.legend.destroy()},clearTimeOuts:function(){var b,a=this.timeOuts;if(a)for(b=0;b<a.length;b++)clearTimeout(a[b]);this.timeOuts=[]},clear:function(a){try{document.removeEventListener("touchstart",this.docfn1,!0),document.removeEventListener("touchend",this.docfn2,!0)}catch(b){}if(d.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]),this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null,this.clearTimeOuts(),this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv)),a||d.removeChart(this),a=this.div)for(;a.firstChild;)a.removeChild(a.firstChild);this.legend&&this.legend.destroy(),this.AmExport&&this.AmExport.clear&&this.AmExport.clear()},setMouseCursor:function(a){"auto"==a&&d.isNN&&(a="default"),this.chartDiv.style.cursor=a,this.legendDiv.style.cursor=a},redrawLabels:function(){var a,b;for(this.labels=[],a=this.allLabels,this.createLabelsSet(),b=0;b<a.length;b++)this.drawLabel(a[b])},drawLabel:function(a){var c,e,g,f,h,k,l,m,n,b=this;b.container&&!1!==a.enabled&&(c=(a=d.processObject(a,d.Label,b.theme)).y,e=a.text,g=a.align,f=a.size,h=a.color,k=a.rotation,l=a.alpha,m=a.bold,n=d.toCoordinate(a.x,b.realWidth),c=d.toCoordinate(c,b.realHeight),n||(n=0),c||(c=0),void 0===h&&(h=b.color),isNaN(f)&&(f=b.fontSize),g||(g="start"),"left"==g&&(g="start"),"right"==g&&(g="end"),"center"==g&&(g="middle",k?c=b.realHeight-c+c/2:n=b.realWidth/2-n),void 0===l&&(l=1),void 0===k&&(k=0),c+=f/2,(e=d.text(b.container,e,h,b.fontFamily,f,g,m,l)).translate(n,c),void 0!==a.tabIndex&&e.setAttr("tabindex",a.tabIndex),d.setCN(b,e,"label"),a.id&&d.setCN(b,e,"label-"+a.id),0!==k&&e.rotate(k),a.url?(e.setAttr("cursor","pointer"),e.click(function(){d.getURL(a.url,b.urlTarget)})):e.node.style.pointerEvents="none",b.labelsSet.push(e),b.labels.push(e))},addLabel:function(a,b,c,e,d,f,h,k,l,m){a={x:a,y:b,text:c,align:e,size:d,color:f,alpha:k,rotation:h,bold:l,url:m,enabled:!0},this.container&&this.drawLabel(a),this.allLabels.push(a)},clearLabels:function(){var b,a=this.labels;for(b=a.length-1;b>=0;b--)a[b].remove();this.labels=[],this.allLabels=[]},updateHeight:function(){var c,a=this.divRealHeight;return(b=this.legend)&&(c=this.legendDiv.offsetHeight,"top"!=(b=b.position)&&"bottom"!=b||((0>(a-=c)||isNaN(a))&&(a=0),this.chartDiv.style.height=a+"px")),a},updateWidth:function(){var e,d,f,h,k,a=this.divRealWidth,b=this.divRealHeight,c=this.legend;return c&&(d=(e=this.legendDiv).offsetWidth,isNaN(c.width)||(d=c.width),c.ieW&&(d=c.ieW),f=e.offsetHeight,e=e.style,h=this.chartDiv.style,"right"!=(k=c.position)&&"left"!=k||void 0!==c.divId||((0>(a-=d)||isNaN(a))&&(a=0),h.width=a+"px",this.balloon&&this.balloon.setBounds&&this.balloon.setBounds(2,2,a-2,this.realHeight),"left"==k?(h.left=d+"px",e.left="0px"):(h.left="0px",e.left=a+"px"),b>f&&(e.top=(b-f)/2+"px"))),a},getTitleHeight:function(){return this.drawTitles(!0),this.titleHeight},addTitle:function(a,b,c,e,d){return isNaN(b)&&(b=this.fontSize+2),a={text:a,size:b,color:c,alpha:e,bold:d,enabled:!0},this.titles.push(a),a},handleWheel:function(a){var b=0;a||(a=window.event),a.wheelDelta?b=a.wheelDelta/120:a.detail&&(b=-a.detail/3),b&&this.handleWheelReal(b,a.shiftKey),a.preventDefault&&a.preventDefault()},handleWheelReal:function(){},handleDocTouchStart:function(){this.handleMouseMove(),this.tmx=this.mouseX,this.tmy=this.mouseY,this.touchStartTime=(new Date).getTime()},handleDocTouchEnd:function(){this.tmx>-.5&&this.tmx<this.divRealWidth+1&&this.tmy>0&&this.tmy<this.divRealHeight?(this.handleMouseMove(),4>Math.abs(this.mouseX-this.tmx)&&4>Math.abs(this.mouseY-this.tmy)?(this.tapped=!0,this.panRequired&&this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="none",this.chartDiv.style.touchAction="none")):this.mouseIsOver||this.resetTouchStyle()):(this.tapped=!1,this.resetTouchStyle())},resetTouchStyle:function(){this.panEventsEnabled&&this.chartDiv&&(this.chartDiv.style.msTouchAction="auto",this.chartDiv.style.touchAction="auto")},checkTouchDuration:function(a){var b=this,c=(new Date).getTime();if(a)if(a.touches)b.isTouchEvent=!0;else if(!b.isTouchEvent)return!0;if(c-b.touchStartTime>b.touchClickDuration)return!0;setTimeout(function(){b.resetTouchDuration()},300)},resetTouchDuration:function(){this.isTouchEvent=!1},checkTouchMoved:function(){if(Math.abs(this.mouseX-this.tmx)>4||Math.abs(this.mouseY-this.tmy)>4)return!0},addListeners:function(){var a=this,b=a.chartDiv;document.addEventListener?("ontouchstart"in document.documentElement&&(b.addEventListener("touchstart",function(b){a.handleTouchStart.call(a,b)},!0),b.addEventListener("touchmove",function(b){a.handleMouseMove.call(a,b)},!0),b.addEventListener("touchend",function(b){a.handleTouchEnd.call(a,b)},!0),a.docfn1=function(b){a.handleDocTouchStart.call(a,b)},a.docfn2=function(b){a.handleDocTouchEnd.call(a,b)},document.addEventListener("touchstart",a.docfn1,!0),document.addEventListener("touchend",a.docfn2,!0)),b.addEventListener("mousedown",function(b){a.mouseIsOver=!0,a.handleMouseMove.call(a,b),a.handleMouseDown.call(a,b),a.handleDocTouchStart.call(a,b)},!0),b.addEventListener("mouseover",function(b){a.handleMouseOver.call(a,b)},!0),b.addEventListener("mouseout",function(b){a.handleMouseOut.call(a,b)},!0),b.addEventListener("mouseup",function(b){a.handleDocTouchEnd.call(a,b)},!0)):(b.attachEvent("onmousedown",function(b){a.handleMouseDown.call(a,b)}),b.attachEvent("onmouseover",function(b){a.handleMouseOver.call(a,b)}),b.attachEvent("onmouseout",function(b){a.handleMouseOut.call(a,b)}))},dispDUpd:function(){this.skipEvents||(this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,this.fire({type:"dataUpdated",chart:this})),this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.fire({type:"rendered",chart:this}),this.chartRendered=!0),this.fire({type:"drawn",chart:this})),this.skipEvents=!1},validateSize:function(){var b,c,a=this;a.premeasure(),a.checkDisplay(),a.cssScale=1,a.cssAngle=0,a.checkTransform(a.div),a.divRealWidth==a.previousWidth&&a.divRealHeight==a.previousHeight||(b=a.legend,a.realWidth>0&&a.realHeight>0&&(a.sizeChanged=!0,b&&(a.legendInitTO&&clearTimeout(a.legendInitTO),c=setTimeout(function(){b.invalidateSize()},10),a.timeOuts.push(c),a.legendInitTO=c),a.marginsUpdated=!1,clearTimeout(a.initTO),c=setTimeout(function(){a.initChart()},10),a.timeOuts.push(c),a.initTO=c),a.renderFix(),b&&b.renderFix&&b.renderFix(),clearTimeout(a.resizedTO),a.resizedTO=setTimeout(function(){a.fire({type:"resized",chart:a})},10),a.previousHeight=a.divRealHeight,a.previousWidth=a.divRealWidth)},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN,this.invalidateSizeReal()},invalidateSizeReal:function(){var b,a=this;a.marginsUpdated=!1,clearTimeout(a.validateTO),b=setTimeout(function(){a.validateSize()},5),a.timeOuts.push(b),a.validateTO=b},validateData:function(a){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(a))},validateNow:function(a,b){this.initTO&&clearTimeout(this.initTO),a&&(this.dataChanged=!0,this.marginsUpdated=!1),this.skipEvents=b,this.chartRendered=!1;var c=this.legend;c&&c.position!=this.prevLegendPosition&&(this.previousWidth=this.mw=0,c.invalidateSize&&(c.invalidateSize(),this.validateSize())),this.write(this.div)},showItem:function(a){a.hidden=!1,this.initChart()},hideItem:function(a){a.hidden=!0,this.initChart()},hideBalloon:function(){var a=this;clearTimeout(a.hoverInt),clearTimeout(a.balloonTO),a.hoverInt=setTimeout(function(){a.hideBalloonReal.call(a)},a.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var a=this.balloon;a&&a.hide&&a.hide()},showBalloon:function(a,b,c,e,d){var f=this;clearTimeout(f.balloonTO),clearTimeout(f.hoverInt),f.balloonTO=setTimeout(function(){f.showBalloonReal.call(f,a,b,c,e,d)},1)},showBalloonReal:function(a,b,c,e,d){this.handleMouseMove();var f=this.balloon;f.enabled&&(f.followCursor(!1),f.changeColor(b),!c||f.fixedPosition?(f.setPosition(e,d),isNaN(e)||isNaN(d)?f.followCursor(!0):f.followCursor(!1)):f.followCursor(!0),a&&f.showBalloon(a))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO),d.resetMouseOver(),this.mouseIsOver=!0},handleMouseOut:function(){var a=this;d.resetMouseOver(),a.outTO&&clearTimeout(a.outTO),a.outTO=setTimeout(function(){a.handleMouseOutReal()},10)},handleMouseOutReal:function(){this.mouseIsOver=!1},handleMouseMove:function(a){var b,c,e,d,f;if(a||(a=window.event),this.mouse2Y=this.mouse2X=NaN,a){if(a.touches){if((f=a.touches.item(1))&&this.panEventsEnabled&&this.boundingRect&&(e=f.clientX-this.boundingRect.left,d=f.clientY-this.boundingRect.top),!(a=a.touches.item(0)))return}else this.wasTouched=!1;this.boundingRect&&a.clientX&&(b=a.clientX-this.boundingRect.left,c=a.clientY-this.boundingRect.top),isNaN(e)?this.mouseX=b:(this.mouseX=Math.min(b,e),this.mouse2X=Math.max(b,e)),isNaN(d)?this.mouseY=c:(this.mouseY=Math.min(c,d),this.mouse2Y=Math.max(c,d)),this.autoTransform&&(this.mouseX/=this.cssScale,this.mouseY/=this.cssScale)}},handleTouchStart:function(a){this.hideBalloonReal(),a&&(a.touches&&this.tapToActivate&&!this.tapped||!this.panRequired)||(this.handleMouseMove(a),this.handleMouseDown(a))},handleTouchEnd:function(a){this.wasTouched=!0,this.handleMouseMove(a),d.resetMouseOver(),this.handleReleaseOutside(a)},handleReleaseOutside:function(){this.handleDocTouchEnd.call(this)},handleMouseDown:function(a){d.resetMouseOver(),this.mouseIsOver=!0,a&&a.preventDefault&&(this.panEventsEnabled?a.preventDefault():a.touches||a.preventDefault())},addLegend:function(a,b){(a=d.processObject(a,d.AmLegend,this.theme)).divId=b,a.ieW=0;var c;return c="object"!=typeof b&&b?document.getElementById(b):b,this.legend=a,a.chart=this,c?(a.div=c,a.position="outside",a.autoMargins=!1):a.div=this.legendDiv,a},removeLegend:function(){this.legend=void 0,this.previousWidth=0,this.legendDiv.innerHTML=""},handleResize:function(){(d.isPercents(this.width)||d.isPercents(this.height))&&this.invalidateSizeReal(),this.renderFix()},renderFix:function(){if(!d.VML){var a=this.container;a&&a.renderFix()}},getSVG:function(){if(d.hasSVG)return this.container},animate:function(a,b,c,e,g,f,h){return a["an_"+b]&&d.removeFromArray(this.animations,a["an_"+b]),c={obj:a,frame:0,attribute:b,from:c,to:e,time:g,effect:f,suffix:h},a["an_"+b]=c,this.animations.push(c),c},setLegendData:function(a){var b=this.legend;b&&b.setData(a)},stopAnim:function(a){d.removeFromArray(this.animations,a)},updateAnimations:function(){var a,b,c,e,g,f,h,k;if(this.container&&this.container.update(),this.animations)for(a=this.animations.length-1;a>=0;a--)b=this.animations[a],c=d.updateRate*b.time,e=b.frame+1,g=b.obj,f=b.attribute,e>c?(g.node.style[f]=+b.to+b.suffix,g.animationFinished=!0,this.animations.splice(a,1)):(b.frame++,h=+b.from,k=+b.to-h,c=d[b.effect](0,e,h,k,c),0===k?(this.animations.splice(a,1),g.node.style[f]=+b.to+b.suffix):g.node.style[f]=c+b.suffix)},update:function(){var a,b,c,e;if(this.updateAnimations(),(a=this.animatable).length>0){for(b=!0,c=a.length-1;c>=0;c--)(e=a[c])&&(e.animationFinished?a.splice(c,1):b=!1);b&&(this.fire({type:"animationFinished",chart:this}),this.animatable=[])}},inIframe:function(){try{return window.self!==window.top}catch(a){return!0}},brr:function(){var a,b,c,e,d,f,h,k,l,m;this.hideCredits||(a="amcharts.com",(b=window.location.hostname.split(".")).length>=2&&(c=b[b.length-2]+"."+b[b.length-1]),this.amLink&&(b=this.amLink.parentNode)&&b.removeChild(this.amLink),b=this.creditsPosition,c==a&&!0!==this.inIframe()||(a="http://www."+a,e=c=0,d=this.realWidth,f=this.realHeight,"serial"!=(h=this.type)&&"xy"!=h&&"gantt"!=h||(c=this.marginLeftReal,e=this.marginTopReal,d=c+this.plotAreaWidth,f=e+this.plotAreaHeight),h=a,k="JavaScript charts",l="JS chart by amCharts","ammap"==this.product&&(h=a+"/javascript-maps/",k="Interactive JavaScript maps",l="JS map by amCharts"),a=document.createElement("a"),l=document.createTextNode(l),a.setAttribute("href",h),a.setAttribute("title",k),this.urlTarget&&a.setAttribute("target",this.urlTarget),a.appendChild(l),this.chartDiv.appendChild(a),this.amLink=a,(h=a.style).position="absolute",h.textDecoration="none",h.color=this.color,h.fontFamily=this.fontFamily,h.fontSize="11px",h.opacity=.7,h.display="block",k=a.offsetWidth,a=a.offsetHeight,l=5+c,m=e+5,"bottom-left"==b&&(l=5+c,m=f-a-3),"bottom-right"==b&&(l=d-k-5,m=f-a-3),"top-right"==b&&(l=d-k-5,m=e+5),h.left=l+"px",h.top=m+"px"))}}),d.Slice=d.Class({construct:function(){}}),d.SerialDataItem=d.Class({construct:function(){}}),d.GraphDataItem=d.Class({construct:function(){}}),d.Guide=d.Class({construct:function(a){this.cname="Guide",d.applyTheme(this,a,this.cname)}}),d.Title=d.Class({construct:function(a){this.cname="Title",d.applyTheme(this,a,this.cname)}}),d.Label=d.Class({construct:function(a){this.cname="Label",d.applyTheme(this,a,this.cname)}})}(),function(){var d=window.AmCharts;d.AmGraph=d.Class({construct:function(a){this.cname="AmGraph",this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.type="line",this.stackable=!0,this.columnCount=1,this.columnIndex=0,this.centerCustomBullets=this.showBalloon=!0,this.maxBulletSize=50,this.minBulletSize=4,this.balloonText="[[value]]",this.hidden=this.scrollbar=this.animationPlayed=!1,this.pointPosition="middle",this.depthCount=1,this.includeInMinMax=!0,this.negativeBase=0,this.visibleInLegend=!0,this.showAllValueLabels=!1,this.showBulletsAt=this.showBalloonAt="close",this.lineThickness=1,this.dashLength=0,this.connect=!0,this.lineAlpha=1,this.bullet="none",this.bulletBorderThickness=2,this.bulletBorderAlpha=0,this.bulletAlpha=1,this.bulletSize=8,this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0,this.cursorBulletAlpha=1,this.gradientOrientation="vertical",this.dy=this.dx=0,this.periodValue="",this.clustered=!0,this.periodSpan=1,this.accessibleLabel="[[title]] [[category]] [[value]]",this.accessibleSkipText="Press enter to skip [[title]]",this.y=this.x=0,this.switchable=!0,this.minDistance=.8,this.tcc=1,this.labelRotation=0,this.labelAnchor="auto",this.labelOffset=3,this.bcn="graph-",this.dateFormat="MMM DD, YYYY",this.noRounding=!0,d.applyTheme(this,a,this.cname)},init:function(){this.createBalloon()},draw:function(){var b,c,e,g,f,a=this.chart;a.isRolledOverBullet=!1,b=a.type,a.drawGraphs&&(isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:a.decimalSeparator,thousandsSeparator:a.thousandsSeparator}),c=a.container,this.container=c,this.destroy(),e=c.set(),this.set=e,e.translate(this.x,this.y),g=c.set(),this.bulletSet=g,g.translate(this.x,this.y),this.behindColumns?(a.graphsBehindSet.push(e),a.bulletBehindSet.push(g)):(a.graphsSet.push(e),a.bulletSet.push(g)),f=this.bulletAxis,d.isString(f)&&(this.bulletAxis=a.getValueAxisById(f)),c=c.set(),d.remove(this.columnsSet),this.columnsSet=c,d.setCN(a,e,"graph-"+this.type),d.setCN(a,e,"graph-"+this.id),d.setCN(a,g,"graph-"+this.type),d.setCN(a,g,"graph-"+this.id),this.columnsArray=[],this.ownColumns=[],this.allBullets=[],this.animationArray=[],(g=this.labelPosition)||(f=this.valueAxis.stackType,g="top","column"==this.type&&(a.rotate&&(g="right"),"100%"==f||"regular"==f)&&(g="middle"),this.labelPosition=g),d.ifArray(this.data)&&(a=!1,"xy"==b?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(a=!0):this.valueAxis.axisCreated&&(a=!0),!this.hidden&&a&&this.createGraph()),e.push(c))},createGraph:function(){var c,a=this,b=a.chart;if(a.startAlpha=b.startAlpha,a.seqAn=b.sequencedAnimation,a.baseCoord=a.valueAxis.baseCoord,void 0===a.fillAlphas&&(a.fillAlphas=0),a.bulletColorR=a.bulletColor,void 0===a.bulletColorR&&(a.bulletColorR=a.lineColorR,a.bulletColorNegative=a.negativeLineColor),void 0===a.bulletAlpha&&(a.bulletAlpha=a.lineAlpha),("step"==c||d.VML)&&(a.noRounding=!1),"gantt"==(c=b.type)&&(c="serial"),clearTimeout(a.playedTO),!isNaN(a.valueAxis.min)&&!isNaN(a.valueAxis.max)){switch(c){case"serial":a.categoryAxis&&(a.createSerialGraph(),"candlestick"==a.type&&1>a.valueAxis.minMaxMultiplier&&a.positiveClip(a.set));break;case"radar":a.createRadarGraph();break;case"xy":a.createXYGraph()}a.playedTO=setTimeout(function(){a.setAnimationPlayed.call(a)},500*a.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var d,f,h,k,l,m,n,a=[],b=[],c=this.xAxis,e=this.yAxis;for(this.pmh=e.height,this.pmw=c.width,this.pmy=this.pmx=0,d=this.start;d<=this.end;d++)k=(h=(f=this.data[d].axes[c.id].graphs[this.id]).values).x,l=h.y,h=c.getCoordinate(k,this.noRounding),m=e.getCoordinate(l,this.noRounding),!isNaN(k)&&!isNaN(l)&&(a.push(h),b.push(m),f.x=h,f.y=m,k=this.createBullet(f,h,m,d),l=this.labelText)&&(l=this.createLabel(f,l),n=0,k&&(n=k.size),this.positionLabel(f,h,m,l,n));this.drawLineGraph(a,b),this.launchAnimation()},createRadarGraph:function(){var f,h,k,l,m,n,q,p,t,r,w,z,a=this.valueAxis.stackType,b=[],c=[],e=[],d=[];for(m=this.start;m<=this.end;m++)n=this.data[m].axes[this.valueAxis.id].graphs[this.id],"none"==a||"3d"==a?q=n.values.value:(q=n.values.close,p=n.values.open),isNaN(q)?this.connect||(this.drawLineGraph(b,c,e,d),b=[],c=[],e=[],d=[]):(t=this.valueAxis.getCoordinate(q,this.noRounding)-this.height,t*=this.valueAxis.rMultiplier,r=-360/(this.end-this.start+1)*m,"middle"==this.valueAxis.pointPosition&&(r-=180/(this.end-this.start+1)),q=t*Math.sin(r/180*Math.PI),t*=Math.cos(r/180*Math.PI),b.push(q),c.push(t),isNaN(p)||(w=this.valueAxis.getCoordinate(p,this.noRounding)-this.height,z=(w*=this.valueAxis.rMultiplier)*Math.sin(r/180*Math.PI),r=w*Math.cos(r/180*Math.PI),e.push(z),d.push(r),isNaN(k)&&(k=z),isNaN(l)&&(l=r)),r=this.createBullet(n,q,t,m),n.x=q,n.y=t,(z=this.labelText)&&(z=this.createLabel(n,z),w=0,r&&(w=r.size),this.positionLabel(n,q,t,z,w)),isNaN(f)&&(f=q),isNaN(h)&&(h=t));b.push(f),c.push(h),isNaN(k)||(e.push(k),d.push(l)),this.drawLineGraph(b,c,e,d),this.launchAnimation()},positionLabel:function(a,b,c,e,d){var f,h,k,l,m,n,q,p,t,r,w,z;if(e){switch(f=this.chart,h=this.valueAxis,k="middle",l=!1,m=this.labelPosition,n=e.getBBox(),q=this.chart.rotate,p=a.isNegative,void 0===(t=this.fontSize)&&(t=this.chart.fontSize),c-=n.height/2-t/2-1,void 0!==a.labelIsNegative&&(p=a.labelIsNegative),m){case"right":m=q&&p?"left":"right";break;case"top":m=q?"top":p?"bottom":"top";break;case"bottom":m=q?"bottom":p?"top":"bottom";break;case"left":m=q&&p?"right":"left"}switch(t=a.columnGraphics,r=0,w=0,t&&(r=t.x,w=t.y),z=this.labelOffset,m){case"right":k="start",b+=d/2+z;break;case"top":c=h.reversed?c+(d/2+n.height/2+z):c-(d/2+n.height/2+z);break;case"bottom":c=h.reversed?c-(d/2+n.height/2+z):c+(d/2+n.height/2+z);break;case"left":k="end",b-=d/2+z;break;case"inside":"column"==this.type&&(l=!0,q?p?(k="end",b=r-3-z):(k="start",b=r+3+z):c=p?w+7+z:w-10-z);break;case"middle":"column"==this.type&&(l=!0,q?b-=(b-r)/2+z-3:c-=(c-w)/2+z-3)}return"auto"!=this.labelAnchor&&(k=this.labelAnchor),e.attr({"text-anchor":k}),this.labelRotation&&e.rotate(this.labelRotation),e.translate(b,c),!this.showAllValueLabels&&t&&l&&((n=e.getBBox()).height>a.columnHeight||n.width>a.columnWidth)&&(e.remove(),e=null),e&&"radar"!=f.type&&(q?((0>c||c>this.height)&&(e.remove(),e=null),!this.showAllValueLabels&&e&&(0>b||b>this.width)&&(e.remove(),e=null)):((0>b||b>this.width)&&(e.remove(),e=null),!this.showAllValueLabels&&e&&(0>c||c>this.height)&&(e.remove(),e=null))),e&&this.allBullets.push(e),e}},getGradRotation:function(){var a=270;return"horizontal"==this.gradientOrientation&&(a=0),this.gradientRotation=a},createSerialGraph:function(){var a,b,c,e,g,f,h,k,l,m,n,q,p,t,r,w,z,x,u,A,y,B,D,C,I,H,Q,M,P,ia,J,aa,ma,na,Pa,Z,da,X,xa,ea,fa,Ba,ga,V,Y,Da,G,v,oa,ha,Qa,ca,tb,ub,vb,jb,kb,wb,Ra,Ja,ab,bb,xb,lb,Ua,Ka,Mb,La,Nb,L,T,U,Ma,Ob,mb,nb,ob,Sa,cb,db,Ta,yb,S,R,K,ba,ja,E,F,O,N,qa,ra,sa,ta,ya,Ea,ka,la,W,zb,Ab,ua,va,Na,Va,Ha,Ca,za,Bb,pb,Fa,pa,eb,Ia,Wa,wa,Ga,qb,Cb,Pb,Db,dc,Qb,Rb,rb,Aa,Xa,fb,Eb,Fb,Gb,Hb,Sb,Ya,Za,$a,Ib,Tb,Jb,Kb,Ub,Lb,Vb,Wb,Xb,gc,Yb,Zb,Oa,$b,ac,bc,gb,hb,sb,cc,ib;if(this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0,a=this.chart,b=this.id,c=this.index,e=this.data,g=this.chart.container,f=this.valueAxis,h=this.type,k=this.columnWidthReal,l=this.showBulletsAt,isNaN(this.columnWidth)||(k=this.columnWidth),isNaN(k)&&(k=.8),m=this.useNegativeColorIfDown,n=this.width,q=this.height,p=this.y,t=this.rotate,r=this.columnCount,w=d.toCoordinate(this.cornerRadiusTop,k/2),z=this.connect,x=[],u=[],C=this.chart.graphs.length,H=this.dx/this.tcc,Q=this.dy/this.tcc,M=f.stackType,P=this.start,ia=this.end,J=this.scrollbar,aa="graph-column-",J&&(aa="scrollbar-graph-column-"),ma=this.categoryAxis,na=this.baseCoord,Pa=this.negativeBase,Z=this.columnIndex,da=this.lineThickness,X=this.lineAlpha,xa=this.lineColorR,ea=this.dashLength,fa=this.set,ga=this.getGradRotation(),V=this.chart.columnSpacing,Y=ma.cellWidth,Da=(Y*k-r)/r,V>Da&&(V=Da),ha=q,Qa=n,ca=0,tb=0,ub=0,vb=0,jb=0,kb=0,wb=this.fillColorsR,Ra=this.negativeFillColors,Ja=this.negativeLineColor,ab=this.fillAlphas,bb=this.negativeFillAlphas,"object"==typeof ab&&(ab=ab[0]),"object"==typeof bb&&(bb=bb[0]),xb=this.noRounding,"step"==h&&(xb=!1),lb=f.getCoordinate(f.min),f.logarithmic&&(lb=f.getCoordinate(f.minReal)),this.minCoord=lb,this.resetBullet&&(this.bullet="none"),J||"line"!=h&&"smoothedLine"!=h&&"step"!=h||(1==e.length&&"step"!=h&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!Ra&&void 0==Ja||m)||((Ua=Pa)>f.max&&(Ua=f.max),Ua<f.min&&(Ua=f.min),f.logarithmic&&(Ua=f.minReal),Ka=f.getCoordinate(Ua),Mb=f.getCoordinate(f.max),t?(ha=q,Qa=Math.abs(Mb-Ka),ub=q,vb=Math.abs(lb-Ka),kb=tb=0,f.reversed?(ca=0,jb=Ka):(ca=Ka,jb=0)):(Qa=n,ha=Math.abs(Mb-Ka),vb=n,ub=Math.abs(lb-Ka),jb=ca=0,f.reversed?(kb=p,tb=Ka):kb=Ka)),La=Math.round,this.pmx=La(ca),this.pmy=La(tb),this.pmh=La(ha),this.pmw=La(Qa),this.nmx=La(jb),this.nmy=La(kb),this.nmh=La(ub),this.nmw=La(vb),d.isModern||(this.nmy=this.nmx=0,this.nmh=this.height),this.clustered||(r=1),1>(k="column"==h?(Y*k-V*(r-1))/r:Y*k)&&(k=1),Nb=this.fixedColumnWidth,isNaN(Nb)||(k=Nb),"line"==h||"step"==h||"smoothedLine"==h){if(P>0){for(L=P-1;L>-1;L--)if(G=e[L],v=G.axes[f.id].graphs[b],oa=v.values.value,!isNaN(oa)){P=L;break}if(this.lineColorField)for(L=P;L>-1;L--)if(G=e[L],(v=G.axes[f.id].graphs[b]).lineColor){this.lineColorSwitched=v.lineColor,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched);break}if(this.fillColorsField)for(L=P;L>-1;L--)if(G=e[L],(v=G.axes[f.id].graphs[b]).fillColors){this.fillColorsSwitched=v.fillColors;break}if(this.dashLengthField)for(L=P;L>-1;L--)if(G=e[L],v=G.axes[f.id].graphs[b],!isNaN(v.dashLength)){this.dashLengthSwitched=v.dashLength;break}}if(ia<e.length-1)for(L=ia+1;L<e.length;L++)if(G=e[L],v=G.axes[f.id].graphs[b],oa=v.values.value,!isNaN(oa)){ia=L;break}}for(ia<e.length-1&&ia++,T=[],U=[],Ma=!1,"line"!=h&&"step"!=h&&"smoothedLine"!=h||(this.stackable&&"regular"==M||"100%"==M||this.fillToGraph)&&(Ma=!0),Ob=this.noStepRisers,mb=-1e3,nb=-1e3,ob=this.minDistance,Sa=!0,cb=!1,L=P;ia>=L;L++){if(G=e[L],v=G.axes[f.id].graphs[b],v.index=L,Ta=NaN,m&&void 0==this.openField)for(yb=L+1;yb<e.length&&(!e[yb]||!(db=e[L+1].axes[f.id].graphs[b])||!db.values||(Ta=db.values.value,isNaN(Ta)));yb++);if(ja=NaN,E=NaN,F=NaN,O=NaN,N=NaN,qa=NaN,ra=NaN,sa=NaN,ta=NaN,ya=NaN,Ea=NaN,ka=NaN,la=NaN,W=NaN,zb=NaN,Ab=NaN,ua=NaN,va=void 0,Na=wb,Va=ab,Ha=xa,Bb=this.proCandlesticks,pb=this.topRadius,Fa=q-1,pa=n-1,eb=this.pattern,void 0!=v.pattern&&(eb=v.pattern),isNaN(v.alpha)||(Va=v.alpha),isNaN(v.dashLength)||(ea=v.dashLength),Ia=v.values,f.recalculateToPercents&&(Ia=v.percents),"none"==M&&(Z=isNaN(v.columnIndex)?this.columnIndex:v.columnIndex),Ia){if(W=this.stackable&&"none"!=M&&"3d"!=M?Ia.close:Ia.value,"candlestick"!=h&&"ohlc"!=h||(W=Ia.close,Ab=Ia.low,ra=f.getCoordinate(Ab),zb=Ia.high,ta=f.getCoordinate(zb)),ua=Ia.open,F=f.getCoordinate(W,xb),isNaN(ua)||(N=f.getCoordinate(ua,xb),m&&"regular"!=M&&"100%"!=M&&(Ta=ua,ua=N=NaN)),m&&(void 0==this.openField?db&&(db.isNegative=W>Ta,isNaN(Ta)&&(v.isNegative=!Sa)):v.isNegative=Ta>W),!J)switch(this.showBalloonAt){case"close":v.y=F;break;case"open":v.y=N;break;case"high":v.y=ta;break;case"low":v.y=ra}switch(ja=G.x[ma.id],Wa=this.periodSpan-1,"step"!=h||isNaN(G.cellWidth)||(Y=G.cellWidth),wa=Math.floor(Y/2)+Math.floor(Wa*Y/2),Ga=wa,qb=0,"left"==this.stepDirection&&(qb=(2*Y+Wa*Y)/2,ja-=qb),"center"==this.stepDirection&&(qb=Y/2,ja-=qb),"start"==this.pointPosition&&(ja-=Y/2+Math.floor(Wa*Y/2),wa=0,Ga=Math.floor(Y)+Math.floor(Wa*Y)),"end"==this.pointPosition&&(ja+=Y/2+Math.floor(Wa*Y/2),wa=Math.floor(Y)+Math.floor(Wa*Y),Ga=0),Ob&&(Cb=this.columnWidth,isNaN(Cb)||(wa*=Cb,Ga*=Cb)),J||(v.x=ja),-1e5>ja&&(ja=-1e5),ja>n+1e5&&(ja=n+1e5),t?(E=F,O=N,N=F=ja,isNaN(ua)&&!this.fillToGraph&&(O=na),qa=ra,sa=ta):(O=E=ja,isNaN(ua)&&!this.fillToGraph&&(N=na)),(!Bb&&ua>W||Bb&&Ba>W)&&(v.isNegative=!0,Ra&&(Na=Ra),bb&&(Va=bb),void 0!=Ja&&(Ha=Ja)),cb=!1,isNaN(W)||(m?W>Ta?(Sa&&(cb=!0),Sa=!1):(Sa||(cb=!0),Sa=!0):v.isNegative=Pa>W,Ba=W),Pb=!1,J&&a.chartScrollbar.ignoreCustomColors&&(Pb=!0),Pb||(void 0!=v.color&&(Na=v.color),v.fillColors&&(Na=v.fillColors)),F=d.fitToBounds(F,-3e4,3e4),h){case"line":isNaN(W)?z||(this.drawLineGraph(x,u,T,U),x=[],u=[],T=[],U=[]):(Math.abs(E-mb)<ob&&Math.abs(F-nb)<ob||(x.push(E),u.push(F),mb=E,nb=F),ya=E,Ea=F,ka=E,la=F,!Ma||isNaN(N)||isNaN(O)||(T.push(O),U.push(N)),(cb||void 0!=v.lineColor&&v.lineColor!=this.lineColorSwitched||void 0!=v.fillColors&&v.fillColors!=this.fillColorsSwitched||!isNaN(v.dashLength))&&(this.drawLineGraph(x,u,T,U),x=[E],u=[F],T=[],U=[],!Ma||isNaN(N)||isNaN(O)||(T.push(O),U.push(N)),m?(Sa?(this.lineColorSwitched=xa,this.fillColorsSwitched=wb):(this.lineColorSwitched=Ja,this.fillColorsSwitched=Ra),void 0===this.bulletColor&&(this.bulletColorSwitched=xa)):(this.lineColorSwitched=v.lineColor,this.fillColorsSwitched=v.fillColors,void 0===this.bulletColor&&(this.bulletColorSwitched=this.lineColorSwitched)),this.dashLengthSwitched=v.dashLength),v.gap&&(this.drawLineGraph(x,u,T,U),x=[],u=[],T=[],U=[]));break;case"smoothedLine":isNaN(W)?z||(this.drawSmoothedGraph(x,u,T,U),x=[],u=[],T=[],U=[]):(Math.abs(E-mb)<ob&&Math.abs(F-nb)<ob||(x.push(E),u.push(F),mb=E,nb=F),ya=E,Ea=F,ka=E,la=F,!Ma||isNaN(N)||isNaN(O)||(T.push(O),U.push(N)),void 0==v.lineColor&&void 0==v.fillColors&&isNaN(v.dashLength)||(this.drawSmoothedGraph(x,u,T,U),x=[E],u=[F],T=[],U=[],!Ma||isNaN(N)||isNaN(O)||(T.push(O),U.push(N)),this.lineColorSwitched=v.lineColor,this.fillColorsSwitched=v.fillColors,this.dashLengthSwitched=v.dashLength),v.gap&&(this.drawSmoothedGraph(x,u,T,U),x=[],u=[],T=[],U=[]));break;case"step":isNaN(W)?z||((1>=this.periodSpan||this.periodSpan>1&&E-A>wa+Ga)&&(A=y=NaN),this.drawLineGraph(x,u,T,U),x=[],u=[],T=[],U=[]):(t?(isNaN(A)||(x.push(A),u.push(F-wa)),u.push(F-wa),x.push(E),u.push(F+Ga),x.push(E),!Ma||isNaN(N)||isNaN(O)||(isNaN(B)||(T.push(B),U.push(N-wa)),T.push(O),U.push(N-wa),T.push(O),U.push(N+Ga))):(isNaN(y)||(u.push(y),x.push(E-wa)),x.push(E-wa),u.push(F),x.push(E+Ga),u.push(F),!Ma||isNaN(N)||isNaN(O)||(isNaN(D)||(T.push(O-wa),U.push(D)),T.push(O-wa),U.push(N),T.push(O+Ga),U.push(N))),A=E,y=F,B=O,D=N,ya=E,Ea=F,ka=E,la=F,!cb&&void 0==v.lineColor&&void 0==v.fillColors&&isNaN(v.dashLength)||(Db=x[x.length-2],dc=u[u.length-2],x.pop(),u.pop(),T.pop(),U.pop(),this.drawLineGraph(x,u,T,U),x=[Db],u=[dc],T=[],U=[],Ma&&(T=[Db,Db+wa+Ga],U=[D,D]),t?(u.push(F+Ga),x.push(E)):(x.push(E+Ga),u.push(F)),this.lineColorSwitched=v.lineColor,this.fillColorsSwitched=v.fillColors,this.dashLengthSwitched=v.dashLength,m&&(Sa?(this.lineColorSwitched=xa,this.fillColorsSwitched=wb):(this.lineColorSwitched=Ja,this.fillColorsSwitched=Ra))),(Ob||v.gap)&&(A=y=NaN,this.drawLineGraph(x,u,T,U),x=[],u=[],T=[],U=[]));break;case"column":Ca=Ha,void 0!=v.lineColor&&(Ca=v.lineColor),isNaN(W)||(m||(v.isNegative=Pa>W),v.isNegative&&(Ra&&(Na=Ra),void 0!=Ja&&(Ca=Ja)),Qb=f.min,Rb=f.max,rb=ua,isNaN(rb)&&(rb=Pa),Qb>W&&Qb>rb||W>Rb&&rb>Rb||(t?("3d"==M?(R=F-(r/2-this.depthCount+1)*(k+V)+V/2+Q*Z,S=O+H*Z,Aa=Z):(R=Math.floor(F-(r/2-Z)*(k+V)+V/2),S=O,Aa=0),ya=E,Ea=R+k/2,ka=E,la=R+k/2,R+(K=k)>q+Aa*Q&&(K=q-R+Aa*Q),Aa*Q>R&&(K+=R,R=Aa*Q),ba=E-O,ba+=S-(S=d.fitToBounds(S,0,n)),ba=d.fitToBounds(ba,-S,n-S+H*Z),v.labelIsNegative=0>ba,0===ba&&1/W==1/-0&&(v.labelIsNegative=!0),isNaN(G.percentWidthValue)||(K=this.height*G.percentWidthValue/100,R=ja-K/2,Ea=R+K/2),K=d.roundTo(K,2),ba=d.roundTo(ba,2),q>R&&K>0&&(va=new d.Cuboid(g,ba,K,H-a.d3x,Q-a.d3y,Na,Va,da,Ca,X,ga,w,t,ea,eb,pb,aa),v.columnWidth=Math.abs(ba),v.columnHeight=Math.abs(K))):("3d"==M?(S=E-(r/2-this.depthCount+1)*(k+V)+V/2+H*Z,R=N+Q*Z,Aa=Z):(S=E-(r/2-Z)*(k+V)+V/2,R=N,Aa=0),ya=S+k/2,Ea=F,ka=S+k/2,la=F,S+(K=k)>n+Aa*H&&(K=n-S+Aa*H),Aa*H>S&&(K+=S-Aa*H,S=Aa*H),ba=F-N,v.labelIsNegative=ba>0,0===ba&&1/W!=1/Math.abs(W)&&(v.labelIsNegative=!0),ba+=R-(R=d.fitToBounds(R,this.dy,q)),ba=d.fitToBounds(ba,Q*Aa-R,q-R),isNaN(G.percentWidthValue)||(K=this.width*G.percentWidthValue/100,S=ja-K/2,ya=S+K/2),K=d.roundTo(K,2),ba=d.roundTo(ba,2),n+Z*H>S&&K>0&&(this.showOnAxis&&(R-=Q/2),va=new d.Cuboid(g,K,ba,H-a.d3x,Q-a.d3y,Na,Va,da,Ca,this.lineAlpha,ga,w,t,ea,eb,pb,aa),v.columnHeight=Math.abs(ba),v.columnWidth=Math.abs(K)))),va&&(za=va.set,d.setCN(a,va.set,"graph-"+this.type),d.setCN(a,va.set,"graph-"+this.id),v.className&&d.setCN(a,va.set,v.className,!0),v.columnGraphics=za,S=d.roundTo(S,2),R=d.roundTo(R,2),za.translate(S,R),(v.url||this.showHandOnHover)&&za.setAttr("cursor","pointer"),J||("none"==M&&(I=t?(this.end+1-L)*C-c:C*L+c),"3d"==M&&(t?(I=(this.end+1-L)*C-c-1e3*this.depthCount,ya+=H*Z,ka+=H*Z,v.y+=H*Z):(I=(C-c)*(L+1)+1e3*this.depthCount,Ea+=Q*Z,la+=Q*Z,v.y+=Q*Z)),"regular"!=M&&"100%"!=M||(I=t?Ia.value>0?(this.end+1-L)*C+c:(this.end+1-L)*C-c:Ia.value>0?C*L+c:C*L-c),this.columnsArray.push({column:va,depth:I}),v.x=t?R+K/2:S+K/2,this.ownColumns.push(va),this.animateColumns(va,L,E,O,F,N),this.addListeners(za,v),void 0!==this.tabIndex&&za.setAttr("tabindex",this.tabIndex)),this.columnsSet.push(za)));break;case"candlestick":if(!isNaN(ua)&&!isNaN(W)){if(Ca=Ha,void 0!=v.lineColor&&(Ca=v.lineColor),ya=E,la=Ea=F,ka=E,t){if("open"==l&&(ka=O),"high"==l&&(ka=sa),"low"==l&&(ka=qa),E=d.fitToBounds(E,0,pa),O=d.fitToBounds(O,0,pa),qa=d.fitToBounds(qa,0,pa),sa=d.fitToBounds(sa,0,pa),0===E&&0===O&&0===qa&&0===sa)continue;if(E==pa&&O==pa&&qa==pa&&sa==pa)continue;S=O,(R=F-k/2)+(K=k)>q&&(K=q-R),0>R&&(K+=R,R=0),q>R&&K>0&&(W>ua?(Eb=[E,sa],Fb=[O,qa]):(Eb=[O,sa],Fb=[E,qa]),!isNaN(sa)&&!isNaN(qa)&&q>F&&F>0&&(Xa=d.line(g,Eb,[F,F],Ca,X,da),fb=d.line(g,Fb,[F,F],Ca,X,da)),ba=E-O,va=new d.Cuboid(g,ba,K,H,Q,Na,ab,da,Ca,X,ga,w,t,ea,eb,pb,aa))}else{if("open"==l&&(la=N),"high"==l&&(la=ta),"low"==l&&(la=ra),F=d.fitToBounds(F,0,Fa),N=d.fitToBounds(N,0,Fa),ra=d.fitToBounds(ra,0,Fa),ta=d.fitToBounds(ta,0,Fa),0===F&&0===N&&0===ra&&0===ta)continue;if(F==Fa&&N==Fa&&ra==Fa&&ta==Fa)continue;R=N+da/2,(S=E-k/2)+(K=k)>n&&(K=n-S),0>S&&(K+=S,S=0),ba=F-N,n>S&&K>0&&(Bb&&W>=ua&&(Va=0),va=new d.Cuboid(g,K,ba,H,Q,Na,Va,da,Ca,X,ga,w,t,ea,eb,pb,aa),W>ua?(Gb=[F,ta],Hb=[N,ra]):(Gb=[N,ta],Hb=[F,ra]),!isNaN(ta)&&!isNaN(ra)&&n>E&&E>0&&(Xa=d.line(g,[E,E],Gb,Ca,X,da),fb=d.line(g,[E,E],Hb,Ca,X,da),d.setCN(a,Xa,this.bcn+"line-high"),v.className&&d.setCN(a,Xa,v.className,!0),d.setCN(a,fb,this.bcn+"line-low"),v.className&&d.setCN(a,fb,v.className,!0)))}va&&(za=va.set,v.columnGraphics=za,fa.push(za),za.translate(S,R-da/2),(v.url||this.showHandOnHover)&&za.setAttr("cursor","pointer"),Xa&&(fa.push(Xa),fa.push(fb)),J||(v.x=t?R+K/2:S+K/2,this.animateColumns(va,L,E,O,F,N),this.addListeners(za,v),void 0!==this.tabIndex&&za.setAttr("tabindex",this.tabIndex)))}break;case"ohlc":if(!(isNaN(ua)||isNaN(zb)||isNaN(Ab)||isNaN(W))){if(Sb=g.set(),fa.push(Sb),ua>W&&(v.isNegative=!0,void 0!=Ja&&(Ha=Ja)),void 0!=v.lineColor&&(Ha=v.lineColor),t){if(la=F,ka=E,"open"==l&&(ka=O),"high"==l&&(ka=sa),"low"==l&&(ka=qa),qa=d.fitToBounds(qa,0,pa),sa=d.fitToBounds(sa,0,pa),0===E&&0===O&&0===qa&&0===sa)continue;if(E==pa&&O==pa&&qa==pa&&sa==pa)continue;Ib=F-k/2,Ib=d.fitToBounds(Ib,0,q),Tb=d.fitToBounds(F,0,q),Jb=F+k/2,Jb=d.fitToBounds(Jb,0,q),O>=0&&pa>=O&&(Za=d.line(g,[O,O],[Ib,Tb],Ha,X,da,ea)),F>0&&q>F&&(Ya=d.line(g,[qa,sa],[F,F],Ha,X,da,ea)),E>=0&&pa>=E&&($a=d.line(g,[E,E],[Tb,Jb],Ha,X,da,ea))}else la=F,"open"==l&&(la=N),"high"==l&&(la=ta),"low"==l&&(la=ra),ka=E,ra=d.fitToBounds(ra,0,Fa),ta=d.fitToBounds(ta,0,Fa),Kb=E-k/2,Kb=d.fitToBounds(Kb,0,n),Ub=d.fitToBounds(E,0,n),Lb=E+k/2,Lb=d.fitToBounds(Lb,0,n),N>=0&&Fa>=N&&(Za=d.line(g,[Kb,Ub],[N,N],Ha,X,da,ea)),E>0&&n>E&&(Ya=d.line(g,[E,E],[ra,ta],Ha,X,da,ea)),F>=0&&Fa>=F&&($a=d.line(g,[Ub,Lb],[F,F],Ha,X,da,ea));fa.push(Za),fa.push(Ya),fa.push($a),d.setCN(a,Za,this.bcn+"stroke-open"),d.setCN(a,$a,this.bcn+"stroke-close"),d.setCN(a,Ya,this.bcn+"stroke"),v.className&&d.setCN(a,Sb,v.className,!0),Ya&&this.addListeners(Ya,v),$a&&this.addListeners($a,v),Za&&this.addListeners(Za,v),ya=E,Ea=F}}J||isNaN(W)||(Vb=this.hideBulletsCount,this.end-this.start>Vb&&0!==Vb||(Wb=this.createBullet(v,ka,la,L),!(Xb=this.labelText)||isNaN(ya)||isNaN(ya)||(gc=this.createLabel(v,Xb),Yb=0,Wb&&(Yb=Wb.size),this.positionLabel(v,ya,Ea,gc,Yb)),"regular"!=M&&"100%"!=M||(Zb=f.totalText)&&(Oa=this.createLabel(v,Zb,f.totalTextColor),d.setCN(a,Oa,this.bcn+"label-total"),this.allBullets.push(Oa),Oa&&(ac=($b=Oa.getBBox()).width,bc=$b.height,sb=f.totalTextOffset,(cc=f.totals[L])&&cc.remove(),ib=0,"column"!=h&&(ib=this.bulletSize),t?(hb=Ea,gb=0>W?E-ac/2-2-ib-sb:E+ac/2+3+ib+sb):(gb=ya,hb=0>W?F+bc/2+ib+sb:F-bc/2-3-ib-sb),Oa.translate(gb,hb),f.totals[L]=Oa,t?(0>hb||hb>q)&&Oa.remove():(0>gb||gb>n)&&Oa.remove()))))}}this.lastDataItem=v,"line"!=h&&"step"!=h&&"smoothedLine"!=h||("smoothedLine"==h?this.drawSmoothedGraph(x,u,T,U):this.drawLineGraph(x,u,T,U),J||this.launchAnimation()),this.bulletsHidden&&this.hideBullets(),this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(a,b){var c=this,e=c.chart.startDuration;e>0&&!c.animationPlayed&&(c.seqAn?(a.set.hide(),c.animationArray.push(a),e=setTimeout(function(){c.animate.call(c)},e/(c.end-c.start+1)*(b-c.start)*1e3),c.timeOuts.push(e)):c.animate(a),c.chart.animatable.push(a))},createLabel:function(a,b,c){var f,e=this.chart,g=a.labelColor;if(g||(g=this.color),g||(g=e.color),c&&(g=c),void 0===(c=this.fontSize)&&(this.fontSize=c=e.fontSize),f=this.labelFunction,b=e.formatString(b,a),b=d.cleanFromEmpty(b),f&&(b=f(a,b)),void 0!==b&&""!==b)return a=d.text(this.container,b,g,e.fontFamily,c),a.node.style.pointerEvents="none",d.setCN(e,a,this.bcn+"label"),this.bulletSet.push(a),a},positiveClip:function(a){a.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(a){a.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(a,b,c,e){var f,h,k,l,m,n,q,p,t,r,w,z,x,u,A,y,g=this;a.length>1&&(f=g.noRounding,h=g.set,k=g.chart,m=(l=g.container).set(),n=l.set(),h.push(n),h.push(m),q=g.lineAlpha,p=g.lineThickness,h=g.fillAlphas,t=g.lineColorR,r=g.negativeLineAlpha,isNaN(r)&&(r=q),(w=g.lineColorSwitched)&&(t=w),w=g.fillColorsR,(z=g.fillColorsSwitched)&&(w=z),x=g.dashLength,(z=g.dashLengthSwitched)&&(x=z),z=g.negativeLineColor,u=g.negativeFillColors,A=g.negativeFillAlphas,y=g.baseCoord,0!==g.negativeBase&&((y=g.valueAxis.getCoordinate(g.negativeBase,f))>g.height&&(y=g.height),0>y&&(y=0)),(q=d.line(l,a,b,t,q,p,x,!1,!0,f)).node.setAttribute("stroke-linejoin","round"),d.setCN(k,q,g.bcn+"stroke"),m.push(q),m.click(function(a){g.handleGraphEvent(a,"clickGraph")}).mouseover(function(a){g.handleGraphEvent(a,"rollOverGraph")}).mouseout(function(a){g.handleGraphEvent(a,"rollOutGraph")}).touchmove(function(a){g.chart.handleMouseMove(a)}).touchend(function(a){g.chart.handleTouchEnd(a)}),void 0===z||g.useNegativeColorIfDown||((p=d.line(l,a,b,z,r,p,x,!1,!0,f)).node.setAttribute("stroke-linejoin","round"),d.setCN(k,p,g.bcn+"stroke"),d.setCN(k,p,g.bcn+"stroke-negative"),n.push(p)),(h>0||A>0)&&(p=a.join(";").split(";"),r=b.join(";").split(";"),"serial"==(q=k.type)||"radar"==q?c.length>0?(c.reverse(),e.reverse(),p=a.concat(c),r=b.concat(e)):"radar"==q?(r.push(0),p.push(0)):g.rotate?(r.push(r[r.length-1]),p.push(y),r.push(r[0]),p.push(y),r.push(r[0]),p.push(p[0])):(p.push(p[p.length-1]),r.push(y),p.push(p[0]),r.push(y),p.push(a[0]),r.push(r[0])):"xy"==q&&(b=g.fillToAxis)&&(d.isString(b)&&(b=k.getValueAxisById(b)),"H"==b.orientation?(y="top"==b.position?0:b.height,p.push(p[p.length-1]),r.push(y),p.push(p[0]),r.push(y),p.push(a[0]),r.push(r[0])):(y="left"==b.position?0:b.width,r.push(r[r.length-1]),p.push(y),r.push(r[0]),p.push(y),r.push(r[0]),p.push(p[0]))),a=g.gradientRotation,h>0&&((b=d.polygon(l,p,r,w,h,1,"#000",0,a,f)).pattern(g.pattern,NaN,k.path),d.setCN(k,b,g.bcn+"fill"),m.push(b)),(u||void 0!==z)&&(isNaN(A)&&(A=h),u||(u=z),f=d.polygon(l,p,r,u,A,1,"#000",0,a,f),d.setCN(k,f,g.bcn+"fill"),d.setCN(k,f,g.bcn+"fill-negative"),f.pattern(g.pattern,NaN,k.path),n.push(f),n.click(function(a){g.handleGraphEvent(a,"clickGraph")}).mouseover(function(a){g.handleGraphEvent(a,"rollOverGraph")}).mouseout(function(a){g.handleGraphEvent(a,"rollOutGraph")}).touchmove(function(a){g.chart.handleMouseMove(a)}).touchend(function(a){g.chart.handleTouchEnd(a)}))),g.applyMask(n,m))},applyMask:function(a,b){var c=a.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(b),c>0&&this.negativeClip(a))},drawSmoothedGraph:function(a,b,c,e){var g,f,h,k,l,m,n,q,p,t,r,w,z,x,u,A;a.length>1&&(g=this.set,f=this.chart,k=(h=this.container).set(),l=h.set(),g.push(l),g.push(k),m=this.lineAlpha,n=this.lineThickness,g=this.dashLength,q=this.fillAlphas,p=this.lineColorR,t=this.fillColorsR,r=this.negativeLineColor,w=this.negativeFillColors,z=this.negativeFillAlphas,x=this.baseCoord,(u=this.lineColorSwitched)&&(p=u),(u=this.fillColorsSwitched)&&(t=u),A=this.negativeLineAlpha,isNaN(A)&&(A=m),u=this.getGradRotation(),m=new d.Bezier(h,a,b,p,m,n,t,0,g,void 0,u),d.setCN(f,m,this.bcn+"stroke"),k.push(m.path),void 0!==r&&(n=new d.Bezier(h,a,b,r,A,n,t,0,g,void 0,u),d.setCN(f,n,this.bcn+"stroke"),d.setCN(f,n,this.bcn+"stroke-negative"),l.push(n.path)),q>0&&(n=a.join(";").split(";"),m=b.join(";").split(";"),p="",c.length>0?(c.push("M"),e.push("M"),c.reverse(),e.reverse(),n=a.concat(c),m=b.concat(e)):(this.rotate?(p+=" L"+x+","+b[b.length-1],p+=" L"+x+","+b[0]):(p+=" L"+a[a.length-1]+","+x,p+=" L"+a[0]+","+x),p+=" L"+a[0]+","+b[0]),a=new d.Bezier(h,n,m,NaN,0,0,t,q,g,p,u),d.setCN(f,a,this.bcn+"fill"),a.path.pattern(this.pattern,NaN,f.path),k.push(a.path),w||void 0!==r)&&(z||(z=q),w||(w=r),(h=new d.Bezier(h,n,m,NaN,0,0,w,z,g,p,u)).path.pattern(this.pattern,NaN,f.path),d.setCN(f,h,this.bcn+"fill"),d.setCN(f,h,this.bcn+"fill-negative"),l.push(h.path)),this.applyMask(l,k))},launchAnimation:function(){var c,e,a=this,b=a.chart.startDuration;b>0&&!a.animationPlayed&&(c=a.set,e=a.bulletSet,d.VML||(c.attr({opacity:a.startAlpha}),e.attr({opacity:a.startAlpha})),c.hide(),e.hide(),a.seqAn?(b=setTimeout(function(){a.animateGraphs.call(a)},a.index*b*1e3),a.timeOuts.push(b)):a.animateGraphs())},animateGraphs:function(){var f,h,a=this.chart,b=this.set,c=this.bulletSet,e=this.x,d=this.y;b.show(),c.show(),f=a.startDuration,h=a.startEffect,b&&(this.rotate?(b.translate(-1e3,d),c.translate(-1e3,d)):(b.translate(e,-1e3),c.translate(e,-1e3)),b.animate({opacity:1,translate:e+","+d},f,h),c.animate({opacity:1,translate:e+","+d},f,h),a.animatable.push(b))},animate:function(a){var b=this.chart,c=this.animationArray;!a&&c.length>0&&(a=c[0],c.shift()),c=d[d.getEffect(b.startEffect)],b=b.startDuration,a&&(this.rotate?a.animateWidth(b,c):a.animateHeight(b,c),a.set.show())},legendKeyColor:function(){var a=this.legendColor,b=this.lineAlpha;return void 0===a&&(a=this.lineColorR,0===b&&(b=this.fillColorsR)&&(a="object"==typeof b?b[0]:b)),a},legendKeyAlpha:function(){var a=this.legendAlpha;return void 0===a&&(a=this.lineAlpha,this.fillAlphas>a&&(a=this.fillAlphas),0===a&&(a=this.bulletAlpha),0===a&&(a=1)),a},createBullet:function(a,b,c){var e,g,f,h,k,l,m,n,q,p,t,r;if(!isNaN(b)&&!isNaN(c)&&("none"!=this.bullet||this.customBullet||a.bullet||a.customBullet))return e=this.chart,g=this.container,f=this.bulletOffset,h=this.bulletSize,isNaN(a.bulletSize)||(h=a.bulletSize),k=a.values.value,l=this.maxValue,m=this.minValue,n=this.maxBulletSize,q=this.minBulletSize,isNaN(l)||(isNaN(k)||(h=(k-m)/(l-m)*(n-q)+q),m==l&&(h=n)),l=h,this.bulletAxis&&(h=a.values.error,isNaN(h)||(k=h),h=this.bulletAxis.stepWidth*k),h<this.minBulletSize&&(h=this.minBulletSize),this.rotate?b=a.isNegative?b-f:b+f:c=a.isNegative?c+f:c-f,q=this.bulletColorR,a.lineColor&&void 0===this.bulletColor&&(this.bulletColorSwitched=a.lineColor),this.bulletColorSwitched&&(q=this.bulletColorSwitched),a.isNegative&&void 0!==this.bulletColorNegative&&(q=this.bulletColorNegative),void 0!==a.color&&(q=a.color),"xy"==e.type&&this.valueField&&(p=this.pattern,a.pattern&&(p=a.pattern)),f=this.bullet,a.bullet&&(f=a.bullet),k=this.bulletBorderThickness,m=this.bulletBorderColorR,n=this.bulletBorderAlpha,t=this.bulletAlpha,m||(m=q),this.useLineColorForBulletBorder&&(m=this.lineColorR,a.isNegative&&this.negativeLineColor&&(m=this.negativeLineColor),this.lineColorSwitched&&(m=this.lineColorSwitched)),r=a.alpha,isNaN(r)||(t=r),p=d.bullet(g,f,h,q,t,k,m,n,l,0,p,e.path),l=this.customBullet,a.customBullet&&(l=a.customBullet),l&&(p&&p.remove(),"function"==typeof l?(l=new l,l.chart=e,a.bulletConfig&&(l.availableSpace=c,l.graph=this,l.graphDataItem=a,l.bulletY=c,a.bulletConfig.minCoord=this.minCoord-c,l.bulletConfig=a.bulletConfig),l.write(g),p&&l.showBullet&&l.set.push(p),a.customBulletGraphics=l.cset,p=l.set):(p=g.set(),l=g.image(l,0,0,h,h),p.push(l),this.centerCustomBullets&&l.translate(-h/2,-h/2))),p&&((a.url||this.showHandOnHover)&&p.setAttr("cursor","pointer"),"serial"!=e.type&&"gantt"!=e.type||(-.5>b||b>this.width||-h/2>c||c>this.height)&&(p.remove(),p=null),p&&(this.bulletSet.push(p),p.translate(b,c),this.addListeners(p,a),this.allBullets.push(p)),a.bx=b,a.by=c,d.setCN(e,p,this.bcn+"bullet"),a.className&&d.setCN(e,p,a.className,!0)),p?(p.size=h||0,(e=this.bulletHitAreaSize)&&((g=d.circle(g,e,"#FFFFFF",.001,0)).translate(b,c),a.hitBullet=g,this.bulletSet.push(g),this.addListeners(g,a)),a.bulletGraphics=p,void 0!==this.tabIndex&&p.setAttr("tabindex",this.tabIndex)):p={size:0},p.graphDataItem=a,p},showBullets:function(){var b,a=this.allBullets;for(this.bulletsHidden=!1,b=0;b<a.length;b++)a[b].show()},hideBullets:function(){var b,a=this.allBullets;for(this.bulletsHidden=!0,b=0;b<a.length;b++)a[b].hide()},showCustomBullets:function(){var b,c,a=this.allBullets;for(this.customBulletsHidden=!1,b=0;b<a.length;b++)(c=a[b].graphDataItem)&&c.customBulletGraphics&&c.customBulletGraphics.show()},hideCustomBullets:function(){var b,c,a=this.allBullets;for(this.customBulletsHidden=!0,b=0;b<a.length;b++)(c=a[b].graphDataItem)&&c.customBulletGraphics&&c.customBulletGraphics.hide()},addListeners:function(a,b){var e,d,c=this;a.mouseover(function(a){c.handleRollOver(b,a)}).mouseout(function(a){c.handleRollOut(b,a)}).touchend(function(a){c.handleRollOver(b,a),c.chart.panEventsEnabled&&c.handleClick(b,a)}).touchstart(function(a){c.handleRollOver(b,a)}).click(function(a){c.handleClick(b,a)}).dblclick(function(a){c.handleDoubleClick(b,a)}).contextmenu(function(a){c.handleRightClick(b,a)}),(e=c.chart).accessible&&c.accessibleLabel&&(d=e.formatString(c.accessibleLabel,b),e.makeAccessible(a,d))},handleRollOver:function(a,b){var c,e;this.handleGraphEvent(b,"rollOverGraph"),a&&(c=this.chart,a.bulletConfig&&(c.isRolledOverBullet=!0),e={type:"rollOverGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b},this.fire(e),c.fire(e),clearTimeout(c.hoverInt),(c=c.chartCursor)&&c.valueBalloonsEnabled||this.showGraphBalloon(a,"V",!0))},handleRollOut:function(a,b){var e,c=this.chart;a&&(e={type:"rollOutGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b},this.fire(e),c.fire(e),c.isRolledOverBullet=!1),this.handleGraphEvent(b,"rollOutGraph"),(c=c.chartCursor)&&c.valueBalloonsEnabled||this.hideBalloon()},handleClick:function(a,b){if(!this.chart.checkTouchMoved()&&this.chart.checkTouchDuration(b)){if(a){var c={type:"clickGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire(c),this.chart.fire(c),d.getURL(a.url,this.urlTarget)}this.handleGraphEvent(b,"clickGraph")}},handleGraphEvent:function(a,b){var c={type:b,graph:this,target:this,chart:this.chart,event:a};this.fire(c),this.chart.fire(c)},handleRightClick:function(a,b){if(a){var c={type:"rightClickGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire(c),this.chart.fire(c)}},handleDoubleClick:function(a,b){if(a){var c={type:"doubleClickGraphItem",item:a,index:a.index,graph:this,target:this,chart:this.chart,event:b};this.fire(c),this.chart.fire(c)}},zoom:function(a,b){this.start=a,this.end=b,this.draw()},changeOpacity:function(a){var c,e,b=this.set;if(b&&b.setAttr("opacity",a),b=this.ownColumns)for(c=0;c<b.length;c++)(e=b[c].set)&&e.setAttr("opacity",a);(b=this.bulletSet)&&b.setAttr("opacity",a)},destroy:function(){var a,b;if(d.remove(this.set),d.remove(this.bulletSet),a=this.timeOuts)for(b=0;b<a.length;b++)clearTimeout(a[b]);this.timeOuts=[]},createBalloon:function(){var b,a=this.chart;this.balloon?this.balloon.destroy&&this.balloon.destroy():this.balloon={},b=this.balloon,d.extend(b,a.balloon,!0),b.chart=a,b.mainSet=a.plotBalloonsSet,b.className=this.id},hideBalloon:function(){var a=this,b=a.chart;b.chartCursor?b.chartCursor.valueBalloonsEnabled||b.hideBalloon():b.hideBalloon(),clearTimeout(a.hoverInt),a.hoverInt=setTimeout(function(){a.hideBalloonReal.call(a)},b.hideBalloonTime)},hideBalloonReal:function(){this.balloon&&this.balloon.hide(),this.fixBulletSize()},fixBulletSize:function(){var a,b,c;d.isModern&&((a=this.resizedDItem)&&(b=a.bulletGraphics)&&!b.doNotScale&&(b.translate(a.bx,a.by,1),c=this.bulletAlpha,isNaN(a.alpha)||(c=a.alpha),b.setAttr("fill-opacity",c),b.setAttr("stroke-opacity",this.bulletBorderAlpha)),this.resizedDItem=null)},showGraphBalloon:function(a,b,c,e,g){var f,h,k,l,m,n,q;if(a){if(f=this.chart,h=this.balloon,k=0,l=0,m=f.chartCursor,n=!0,m?m.valueBalloonsEnabled||(h=f.balloon,k=this.x,l=this.y,n=!1):(h=f.balloon,k=this.x,l=this.y,n=!1),clearTimeout(this.hoverInt),f.chartCursor&&(this.currentDataItem=a,"serial"==f.type&&f.isRolledOverBullet&&f.chartCursor.valueBalloonsEnabled))return void this.hideBalloonReal();this.resizeBullet(a,e,g),h&&h.enabled&&this.showBalloon&&!this.hidden?(m=f.formatString(this.balloonText,a,!0),(q=this.balloonFunction)&&(m=q(a,a.graph)),m&&(m=d.cleanFromEmpty(m)),m&&""!==m?(e=f.getBalloonColor(this,a),h.drop||(h.pointerOrientation=b),b=a.x,g=a.y,f.rotate&&(b=a.y,g=a.x),b+=k,g+=l,isNaN(b)||isNaN(g)?this.hideBalloonReal():(a=this.width,q=this.height,n&&h.setBounds(k,l,a+k,q+l),h.changeColor(e),h.setPosition(b,g),h.fixPrevious(),h.fixedPosition&&(c=!1),!c&&"radar"!=f.type&&(k-.5>b||b>a+k||l-.5>g||g>q+l)?(h.showBalloon(m),h.hide(0)):(h.followCursor(c),h.showBalloon(m)))):(this.hideBalloonReal(),h.hide(),this.resizeBullet(a,e,g))):this.hideBalloonReal()}},resizeBullet:function(a,b,c){if(this.fixBulletSize(),a&&d.isModern&&(1!=b||!isNaN(c))){var e=a.bulletGraphics;e&&!e.doNotScale&&(e.translate(a.bx,a.by,b),isNaN(c)||(e.setAttr("fill-opacity",c),e.setAttr("stroke-opacity",c)),this.resizedDItem=a)}}})}(),function(){var d=window.AmCharts;d.ChartCursor=d.Class({construct:function(a){this.cname="ChartCursor",this.createEvents("changed","zoomed","onHideCursor","onShowCursor","draw","selected","moved","panning","zoomStarted"),this.enabled=!0,this.cursorAlpha=1,this.selectionAlpha=.2,this.cursorColor="#CC0000",this.categoryBalloonAlpha=1,this.color="#FFFFFF",this.type="cursor",this.zoomed=!1,this.zoomable=!0,this.pan=!1,this.categoryBalloonDateFormat="MMM DD, YYYY",this.categoryBalloonText="[[category]]",this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0,this.rolledOver=!1,this.cursorPosition="middle",this.bulletsEnabled=this.skipZoomDispatch=!1,this.bulletSize=8,this.selectWithoutZooming=this.oneBalloonOnly=!1,this.graphBulletSize=1.7,this.animationDuration=.3,this.zooming=!1,this.adjustment=0,this.avoidBalloonOverlapping=!0,this.leaveCursor=!1,this.leaveAfterTouch=!0,this.valueZoomable=!1,this.balloonPointerOrientation="horizontal",this.hLineEnabled=this.vLineEnabled=!0,this.vZoomEnabled=this.hZoomEnabled=!1,d.applyTheme(this,a,this.cname)},draw:function(){var a,b;this.destroy(),(a=this.chart).panRequired=!0,b=a.container,this.rotate=a.rotate,this.container=b,this.prevLineHeight=this.prevLineWidth=NaN,(b=b.set()).translate(this.x,this.y),this.set=b,a.cursorSet.push(b),this.createElements(),d.isString(this.limitToGraph)&&(this.limitToGraph=d.getObjById(a.graphs,this.limitToGraph),this.fullWidth=!1,this.cursorPosition="middle"),this.pointer=this.balloonPointerOrientation.substr(0,1).toUpperCase(),this.isHidden=!1,this.hideLines(),this.valueLineAxis||(this.valueLineAxis=a.valueAxes[0])},createElements:function(){var h,k,a=this,b=a.chart,c=b.dx,e=b.dy,g=a.width,f=a.height,l=a.cursorAlpha,m=a.valueLineAlpha;a.rotate?(h=m,k=l):(k=m,h=l),"xy"==b.type&&(k=l,void 0!==m&&(k=m),h=l),a.vvLine=d.line(a.container,[c,0,0],[e,0,f],a.cursorColor,h,1),d.setCN(b,a.vvLine,"cursor-line"),d.setCN(b,a.vvLine,"cursor-line-vertical"),a.hhLine=d.line(a.container,[0,g,g+c],[0,0,e],a.cursorColor,k,1),d.setCN(b,a.hhLine,"cursor-line"),d.setCN(b,a.hhLine,"cursor-line-horizontal"),a.vLine=a.rotate?a.vvLine:a.hhLine,a.set.push(a.vvLine),a.set.push(a.hhLine),a.set.node.style.pointerEvents="none",a.fullLines=a.container.set(),(b=b.cursorLineSet).push(a.fullLines),b.translate(a.x,a.y),b.clipRect(-1,-1,g+2,f+2),void 0!==a.tabIndex&&(b.setAttr("tabindex",a.tabIndex),b.keyup(function(b){a.handleKeys(b)}).focus(function(b){a.showCursor()}).blur(function(b){a.hideCursor()})),a.set.clipRect(0,0,g,f)},handleKeys:function(a){var e,b=this.prevIndex,c=this.chart;c&&(e=c.chartData)&&(isNaN(b)&&(b=e.length-1),37!=a.keyCode&&40!=a.keyCode||b--,39!=a.keyCode&&38!=a.keyCode||b++,b=d.fitToBounds(b,c.startIndex,c.endIndex),(a=this.chart.chartData[b])&&this.setPosition(a.x.categoryAxis),this.prevIndex=b)},update:function(){var b,c,e,a=this.chart;if(a&&(b=a.mouseX-this.x,c=a.mouseY-this.y,this.mouseX=b,this.mouseY=c,this.mouse2X=a.mouse2X-this.x,this.mouse2Y=a.mouse2Y-this.y,a.chartData&&a.chartData.length>0)){if(this.mouseIsOver()?(this.hideGraphBalloons=!1,this.rolledOver=e=!0,this.updateDrawing(),this.vvLine&&isNaN(this.fx)&&(a.rotate||!this.limitToGraph)&&this.vvLine.translate(b,0),!this.hhLine||!isNaN(this.fy)||a.rotate&&this.limitToGraph||this.hhLine.translate(0,c),isNaN(this.mouse2X)?this.dispatchMovedEvent(b,c):e=!1):this.forceShow||this.hideCursor(),this.zooming){if(!isNaN(this.mouse2X))return void(isNaN(this.mouse2X0)||this.dispatchPanEvent());if(this.pan)return void this.dispatchPanEvent();(this.hZoomEnabled||this.vZoomEnabled)&&this.zooming&&this.updateSelection()}e&&this.showCursor()}},updateDrawing:function(){if(this.drawing&&this.chart.setMouseCursor("crosshair"),this.drawingNow&&(d.remove(this.drawingLine),Math.abs(this.drawStartX-this.mouseX)>1||Math.abs(this.drawStartY-this.mouseY)>1)){var b=(a=this.chart).marginTop,a=a.marginLeft;this.drawingLine=d.line(this.container,[this.drawStartX+a,this.mouseX+a],[this.drawStartY+b,this.mouseY+b],this.cursorColor,1,1)}},fixWidth:function(a){if(this.fullWidth&&this.prevLineWidth!=a){var b=this.vvLine,c=0;b&&(b.remove(),c=b.x),(b=this.container.set()).translate(c,0),c=d.rect(this.container,a,this.height,this.cursorColor,this.cursorAlpha,this.cursorAlpha,this.cursorColor),d.setCN(this.chart,c,"cursor-fill"),c.translate(-a/2-1,0),b.push(c),this.vvLine=b,this.fullLines.push(b),this.prevLineWidth=a}},fixHeight:function(a){if(this.fullWidth&&this.prevLineHeight!=a){var b=this.hhLine,c=0;b&&(b.remove(),c=b.y),(b=this.container.set()).translate(0,c),(c=d.rect(this.container,this.width,a,this.cursorColor,this.cursorAlpha)).translate(0,-a/2),b.push(c),this.fullLines.push(b),this.hhLine=b,this.prevLineHeight=a}},fixVLine:function(a,b){var c,e,d;isNaN(a)||(isNaN(this.prevLineX)?(c=0,e=this.mouseX,this.limitToGraph&&(d=this.chart.categoryAxis)&&(this.chart.rotate||(c="bottom"==d.position?this.height:-this.height),e=a),this.vvLine.translate(e,c)):this.prevLineX!=a&&this.vvLine.translate(this.prevLineX,this.prevLineY),this.fx=a,this.prevLineX!=a&&(c=this.animationDuration,this.zooming&&(c=0),this.vvLine.stop(),this.vvLine.animate({translate:a+","+b},c,"easeOutSine"),this.prevLineX=a,this.prevLineY=b))},fixHLine:function(a,b){var c,e,d;isNaN(a)||(isNaN(this.prevLineY)?(c=0,e=this.mouseY,this.limitToGraph&&(d=this.chart.categoryAxis)&&(this.chart.rotate&&(c="right"==d.position?this.width:-this.width),e=a),this.hhLine.translate(c,e)):this.prevLineY!=a&&this.hhLine.translate(this.prevLineX,this.prevLineY),this.fy=a,this.prevLineY!=a&&(c=this.animationDuration,this.zooming&&(c=0),this.hhLine.stop(),this.hhLine.animate({translate:b+","+a},c,"easeOutSine"),this.prevLineY=a,this.prevLineX=b))},hideCursor:function(a){this.forceShow=!1,this.chart.wasTouched&&this.leaveAfterTouch||this.isHidden||this.leaveCursor||(this.hideCursorReal(),a?this.chart.handleCursorHide():this.fire({target:this,chart:this.chart,type:"onHideCursor"}),this.chart.setMouseCursor("auto"))},hideCursorReal:function(){this.hideLines(),this.isHidden=!0,this.index=this.prevLineY=this.prevLineX=this.mouseY0=this.mouseX0=this.fy=this.fx=NaN},hideLines:function(){this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.hide(),this.fullLines&&this.fullLines.hide(),this.isHidden=!0,this.chart.handleCursorHide()},showCursor:function(a){!this.drawing&&this.enabled&&(this.vLineEnabled&&this.vvLine&&this.vvLine.show(),this.hLineEnabled&&this.hhLine&&this.hhLine.show(),this.isHidden=!1,this.updateFullLine(),a||this.fire({target:this,chart:this.chart,type:"onShowCursor"}),this.pan&&this.chart.setMouseCursor("move"))},updateFullLine:function(){this.zooming&&this.fullWidth&&this.selection&&(this.rotate?this.selection.height>0&&this.hhLine.hide():this.selection.width>0&&this.vvLine.hide())},updateSelection:function(){var a,b,c,e,g,f,h;!this.pan&&this.enabled&&(a=this.mouseX,b=this.mouseY,isNaN(this.fx)||(a=this.fx),isNaN(this.fy)||(b=this.fy),this.clearSelection(),c=this.mouseX0,e=this.mouseY0,g=this.width,f=this.height,a=d.fitToBounds(a,0,g),b=d.fitToBounds(b,0,f),c>a&&(h=a,a=c,c=h),e>b&&(h=b,b=e,e=h),this.hZoomEnabled?g=a-c:c=0,this.vZoomEnabled?f=b-e:e=0,isNaN(this.mouse2X)&&Math.abs(g)>0&&Math.abs(f)>0&&(a=this.chart,b=d.rect(this.container,g,f,this.cursorColor,this.selectionAlpha),d.setCN(a,b,"cursor-selection"),b.width=g,b.height=f,b.translate(c,e),this.set.push(b),this.selection=b),this.updateFullLine())},mouseIsOver:function(){var a=this.mouseX,b=this.mouseY;return this.justReleased?(this.justReleased=!1,!0):!!this.mouseIsDown||(this.chart.mouseIsOver?a>0&&a<this.width&&b>0&&b<this.height||void this.handleMouseOut():(this.handleMouseOut(),!1))},fixPosition:function(){this.prevY=this.prevX=NaN},handleMouseDown:function(){if(this.update(),this.mouseIsOver())if(this.mouseIsDown=!0,this.mouseX0=this.mouseX,this.mouseY0=this.mouseY,this.mouse2X0=this.mouse2X,this.mouse2Y0=this.mouse2Y,this.drawing)this.drawStartY=this.mouseY,this.drawStartX=this.mouseX,this.drawingNow=!0;else if(this.dispatchMovedEvent(this.mouseX,this.mouseY),!this.pan&&isNaN(this.mouse2X0)&&(isNaN(this.fx)||(this.mouseX0=this.fx),isNaN(this.fy)||(this.mouseY0=this.fy)),this.hZoomEnabled||this.vZoomEnabled){this.zooming=!0;var a={chart:this.chart,target:this,type:"zoomStarted"};a.x=this.mouseX/this.width,a.y=this.mouseY/this.height,this.index0=a.index=this.index,this.timestamp0=this.timestamp,this.fire(a)}},registerInitialMouse:function(){},handleReleaseOutside:function(){if(this.mouseIsDown=!1,this.drawingNow){this.drawingNow=!1,d.remove(this.drawingLine);var a=this.drawStartX,b=this.drawStartY,c=this.mouseX,e=this.mouseY,g=this.chart;(Math.abs(a-c)>2||Math.abs(b-e)>2)&&this.fire({type:"draw",target:this,chart:g,initialX:a,initialY:b,finalX:c,finalY:e})}this.zooming&&(this.zooming=!1,this.selectWithoutZooming?this.dispatchZoomEvent("selected"):(this.hZoomEnabled||this.vZoomEnabled)&&this.dispatchZoomEvent("zoomed"),this.rolledOver&&this.dispatchMovedEvent(this.mouseX,this.mouseY)),this.mouse2Y0=this.mouse2X0=this.mouseY0=this.mouseX0=NaN},dispatchZoomEvent:function(a){var b,c,e,d,f,h,k,l,m;this.pan||(b=this.selection)&&Math.abs(b.width)>3&&Math.abs(b.height)>3&&(d=c=Math.min(this.index,this.index0),f=e=Math.max(this.index,this.index0),k=(h=this.chart).chartData,(l=h.categoryAxis)&&l.parseDates&&!l.equalSpacing&&(d=k[c]?k[c].time:Math.min(this.timestamp0,this.timestamp),f=k[e]?h.getEndTime(k[e].time):Math.max(this.timestamp0,this.timestamp)),b={type:a,chart:this.chart,target:this,end:f,start:d,startIndex:c,endIndex:e,selectionHeight:b.height,selectionWidth:b.width,selectionY:b.y,selectionX:b.x},this.hZoomEnabled&&Math.abs(this.mouseX0-this.mouseX)>4&&(b.startX=this.mouseX0/this.width,b.endX=this.mouseX/this.width,m=!0),this.vZoomEnabled&&Math.abs(this.mouseY0-this.mouseY)>4&&(b.startY=1-this.mouseY0/this.height,b.endY=1-this.mouseY/this.height,m=!0),m&&(this.prevY=this.prevX=NaN,this.fire(b),"selected"!=a&&this.clearSelection()),this.hideCursor())},dispatchMovedEvent:function(a,b,c,e){var d,f,h;a=Math.round(a),b=Math.round(b),this.isHidden||a==this.prevX&&b==this.prevY&&"changed"!=c||(c||(c="moved"),d=this.fx,f=this.fy,isNaN(d)&&(d=a),isNaN(f)&&(f=b),h=!1,this.zooming&&this.pan&&(h=!0),h={hidden:this.isHidden,type:c,chart:this.chart,target:this,x:a,y:b,finalX:d,finalY:f,zooming:this.zooming,panning:h,mostCloseGraph:this.mostCloseGraph,index:this.index,skip:e,hideBalloons:this.hideGraphBalloons},this.prevIndex=this.index,this.rotate?(h.position=b,h.finalPosition=f):(h.position=a,h.finalPosition=d),this.prevX=a,this.prevY=b,e?this.chart.handleCursorMove(h):(this.fire(h),"changed"==c&&this.chart.fire(h)))},dispatchPanEvent:function(){if(this.mouseIsDown){var a=d.roundTo((this.mouseX-this.mouseX0)/this.width,3),b=d.roundTo((this.mouseY-this.mouseY0)/this.height,3),c=d.roundTo((this.mouse2X-this.mouse2X0)/this.width,3),e=d.roundTo((this.mouse2Y-this.mouse2Y0)/this.height,2),g=!1;0!==Math.abs(a)&&0!==Math.abs(b)&&(g=!0),this.prevDeltaX!=a&&this.prevDeltaY!=b||(g=!1),isNaN(c)||isNaN(e)||(0!==Math.abs(c)&&0!==Math.abs(e)&&(g=!0),this.prevDelta2X!=c&&this.prevDelta2Y!=e)||(g=!1),g&&(this.hideLines(),this.fire({type:"panning",chart:this.chart,target:this,deltaX:a,deltaY:b,delta2X:c,delta2Y:e,index:this.index}),this.prevDeltaX=a,this.prevDeltaY=b,this.prevDelta2X=c,this.prevDelta2Y=e)}},clearSelection:function(){var a=this.selection;a&&(a.width=0,a.height=0,a.remove())},destroy:function(){this.clear(),d.remove(this.selection),this.selection=null,clearTimeout(this.syncTO),d.remove(this.set)},clear:function(){},setTimestamp:function(a){this.timestamp=a},setIndex:function(a,b){a!=this.index&&(this.index=a,b||this.isHidden||this.dispatchMovedEvent(this.mouseX,this.mouseY,"changed"))},handleMouseOut:function(){this.enabled&&this.rolledOver&&(this.leaveCursor||this.setIndex(void 0),this.forceShow=!1,this.hideCursor(),this.rolledOver=!1)},showCursorAt:function(a){var b=this.chart.categoryAxis;b&&this.setPosition(b.categoryToCoordinate(a),a)},setPosition:function(a,b){var d,f,c=this.chart,e=c.categoryAxis;e&&(void 0===b&&(b=e.coordinateToValue(a)),e.showBalloonAt(b,a),this.forceShow=!0,e.stickBalloonToCategory?c.rotate?this.fixHLine(a,0):this.fixVLine(a,0):(this.showCursor(),c.rotate?this.hhLine.translate(0,a):this.vvLine.translate(a,0)),c.rotate?d=a:f=a,c.rotate?(this.vvLine&&this.vvLine.hide(),this.hhLine&&this.hhLine.show()):(this.hhLine&&this.hhLine.hide(),this.vvLine&&this.vvLine.show()),this.updateFullLine(),this.isHidden=!1,this.dispatchMovedEvent(f,d,"moved",!0))},enableDrawing:function(a){this.enabled=!a,this.hideCursor(),this.drawing=a},syncWithCursor:function(a,b){clearTimeout(this.syncTO),a&&(a.isHidden?this.hideCursor(!0):this.syncWithCursorReal(a,b))},isZooming:function(a){this.zooming=a},syncWithCursorReal:function(a,b){var d,f,c=a.vvLine,e=a.hhLine;this.index=a.index,this.forceShow=!0,this.zooming&&this.pan||this.showCursor(!0),this.hideGraphBalloons=b,this.justReleased=a.justReleased,this.zooming=a.zooming,this.index0=a.index0,this.mouseX0=a.mouseX0,this.mouseY0=a.mouseY0,this.mouse2X0=a.mouse2X0,this.mouse2Y0=a.mouse2Y0,this.timestamp0=a.timestamp0,this.prevDeltaX=a.prevDeltaX,this.prevDeltaY=a.prevDeltaY,this.prevDelta2X=a.prevDelta2X,this.prevDelta2Y=a.prevDelta2Y,this.fx=a.fx,this.fy=a.fy,a.zooming&&this.updateSelection(),d=a.mouseX,f=a.mouseY,this.rotate?(d=NaN,this.vvLine&&this.vvLine.hide(),this.hhLine&&e&&(isNaN(a.fy)?this.hhLine.translate(0,a.mouseY):this.fixHLine(a.fy,0))):(f=NaN,this.hhLine&&this.hhLine.hide(),this.vvLine&&c&&(isNaN(a.fx)?this.vvLine.translate(a.mouseX,0):this.fixVLine(a.fx,0))),this.dispatchMovedEvent(d,f,"moved",!0)}})}(),function(){var d=window.AmCharts;d.SimpleChartScrollbar=d.Class({construct:function(a){this.createEvents("zoomed","zoomStarted","zoomEnded"),this.backgroundColor="#D4D4D4",this.backgroundAlpha=1,this.selectedBackgroundColor="#EFEFEF",this.scrollDuration=this.selectedBackgroundAlpha=1,this.resizeEnabled=!0,this.hideResizeGrips=!1,this.scrollbarHeight=20,this.updateOnReleaseOnly=!1,9>document.documentMode&&(this.updateOnReleaseOnly=!0),this.dragIconHeight=this.dragIconWidth=35,this.dragIcon="dragIconRoundBig",this.dragCursorHover="cursor: move; cursor: grab; cursor: -moz-grab; cursor: -webkit-grab;",this.dragCursorDown="cursor: move; cursor: grab; cursor: -moz-grabbing; cursor: -webkit-grabbing;",this.vResizeCursor="ns-resize",this.hResizeCursor="ew-resize",this.enabled=!0,this.percentStart=this.offset=0,this.percentEnd=1,d.applyTheme(this,a,"SimpleChartScrollbar")},getPercents:function(){var b=(a=this.getDBox()).x,c=a.y,e=a.width,a=a.height;this.rotate?(b=1-c/this.height,c=1-(c+a)/this.height):(c=b/this.width,b=(b+e)/this.width),this.percentStart=c,this.percentEnd=b},draw:function(){var b,c,e,g,f,h,k,l,m,n,q,p,a=this;a.destroy(),a.enabled&&(b=a.chart.container,c=a.rotate,(e=a.chart).panRequired=!0,g=b.set(),a.set=g,c?d.setCN(e,g,"scrollbar-vertical"):d.setCN(e,g,"scrollbar-horizontal"),e.scrollbarsSet.push(g),c?(f=a.scrollbarHeight,h=e.plotAreaHeight):(h=a.scrollbarHeight,f=e.plotAreaWidth),a.width=f,(a.height=h)&&f&&(k=d.rect(b,f,h,a.backgroundColor,a.backgroundAlpha,1,a.backgroundColor,a.backgroundAlpha),d.setCN(e,k,"scrollbar-bg"),a.bg=k,g.push(k),k=d.rect(b,f,h,"#000",.005),g.push(k),a.invisibleBg=k,k.click(function(){a.handleBgClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()}).touchend(function(){a.handleBgClick()}),k=d.rect(b,f,h,a.selectedBackgroundColor,a.selectedBackgroundAlpha),d.setCN(e,k,"scrollbar-bg-selected"),a.selectedBG=k,g.push(k),f=d.rect(b,f,h,"#000",.005),a.dragger=f,g.push(f),f.mousedown(function(b){a.handleDragStart(b)}).mouseup(function(){a.handleDragStop()}).mouseover(function(){a.handleDraggerOver()}).mouseout(function(){a.handleMouseOut()}).touchstart(function(b){a.handleDragStart(b)}).touchend(function(){a.handleDragStop()}),h=e.pathToImages,k=a.dragIcon.replace(/\.[a-z]*$/i,""),d.isAbsolute(k)&&(h=""),c?(l=h+k+"H"+e.extension,h=a.dragIconWidth,c=a.dragIconHeight):(l=h+k+e.extension,c=a.dragIconWidth,h=a.dragIconHeight),k=b.image(l,0,0,c,h),d.setCN(e,k,"scrollbar-grip-left"),l=b.image(l,0,0,c,h),d.setCN(e,l,"scrollbar-grip-right"),m=10,n=20,e.panEventsEnabled&&(m=25,n=a.scrollbarHeight),q=d.rect(b,m,n,"#000",.005),(p=d.rect(b,m,n,"#000",.005)).translate(-(m-c)/2,-(n-h)/2),q.translate(-(m-c)/2,-(n-h)/2),c=b.set([k,p]),b=b.set([l,q]),a.iconLeft=c,g.push(a.iconLeft),a.iconRight=b,g.push(b),a.updateGripCursor(!1),e.makeAccessible(c,a.accessibleLabel),e.makeAccessible(b,a.accessibleLabel),e.makeAccessible(f,a.accessibleLabel),c.setAttr("role","menuitem"),b.setAttr("role","menuitem"),f.setAttr("role","menuitem"),void 0!==a.tabIndex&&(c.setAttr("tabindex",a.tabIndex),c.keyup(function(b){a.handleKeys(b,1,0)})),void 0!==a.tabIndex&&(f.setAttr("tabindex",a.tabIndex),f.keyup(function(b){a.handleKeys(b,1,1)})),void 0!==a.tabIndex&&(b.setAttr("tabindex",a.tabIndex),b.keyup(function(b){a.handleKeys(b,0,1)})),c.mousedown(function(){a.leftDragStart()}).mouseup(function(){a.leftDragStop()}).mouseover(function(){a.iconRollOver()}).mouseout(function(){a.iconRollOut()}).touchstart(function(){a.leftDragStart()}).touchend(function(){a.leftDragStop()}),b.mousedown(function(){a.rightDragStart()}).mouseup(function(){a.rightDragStop()}).mouseover(function(){a.iconRollOver()}).mouseout(function(){a.iconRollOut()}).touchstart(function(){a.rightDragStart()}).touchend(function(){a.rightDragStop()}),d.ifArray(e.chartData)?g.show():g.hide(),a.hideDragIcons(),a.clipDragger(!1)),g.translate(a.x,a.y),g.node.style.msTouchAction="none",g.node.style.touchAction="none")},handleKeys:function(a,b,c){var e,d,f;this.getPercents(),e=this.percentStart,d=this.percentEnd,this.rotate&&(f=d,d=e,e=f),37!=a.keyCode&&40!=a.keyCode||(e-=.02*b,d-=.02*c),39!=a.keyCode&&38!=a.keyCode||(e+=.02*b,d+=.02*c),this.rotate&&(a=d,d=e,e=a),isNaN(d)||isNaN(e)||this.percentZoom(e,d,!0)},updateScrollbarSize:function(a,b){if(!isNaN(a)&&!isNaN(b)){a=Math.round(a),b=Math.round(b);var e,d,f,h,k,c=this.dragger;this.rotate?(e=0,d=a,f=this.width+1,h=b-a,c.setAttr("height",b-a),c.setAttr("y",d)):(e=a,d=0,f=b-a,h=this.height+1,k=b-a,c.setAttr("x",e),c.setAttr("width",k)),this.clipAndUpdate(e,d,f,h)}},update:function(){var a,c,e,l,m,n,q,p,t,r,b=!1,d=this.x,f=this.y,h=this.dragger;(k=this.getDBox())&&(c=k.x+d,e=k.y+f,l=k.width,k=k.height,m=this.rotate,n=this.chart,q=this.width,p=this.height,t=n.mouseX,n=n.mouseY,a=this.initialMouse,this.forceClip&&this.clipDragger(!0),this.dragging&&(r=this.initialCoord,m?(0>(a=r+(n-a))&&(a=0),r=p-k,a>r&&(a=r),h.setAttr("y",a)):(0>(a=r+(t-a))&&(a=0),(a>(r=q-l)||isNaN(a))&&(a=r),h.setAttr("x",a)),this.clipDragger(!0)),this.resizingRight&&(m?(a=n-e,!isNaN(this.maxHeight)&&a>this.maxHeight&&(a=this.maxHeight),a+e>p+f&&(a=p-e+f),0>a?(this.resizingRight=!1,b=this.resizingLeft=!0):((0===a||isNaN(a))&&(a=.1),h.setAttr("height",a))):(a=t-c,!isNaN(this.maxWidth)&&a>this.maxWidth&&(a=this.maxWidth),a+c>q+d&&(a=q-c+d),0>a?(this.resizingRight=!1,b=this.resizingLeft=!0):((0===a||isNaN(a))&&(a=.1),h.setAttr("width",a))),this.clipDragger(!0)),this.resizingLeft&&(m?(c=e,e=n,f>e&&(e=f),isNaN(e)&&(e=f),e>p+f&&(e=p+f),a=!0===b?c-e:k+c-e,!isNaN(this.maxHeight)&&a>this.maxHeight&&(a=this.maxHeight,e=c),0>a?(this.resizingRight=!0,this.resizingLeft=!1,h.setAttr("y",c+k-f)):((0===a||isNaN(a))&&(a=.1),h.setAttr("y",e-f),h.setAttr("height",a))):(e=t,d>e&&(e=d),isNaN(e)&&(e=d),e>q+d&&(e=q+d),a=!0===b?c-e:l+c-e,!isNaN(this.maxWidth)&&a>this.maxWidth&&(a=this.maxWidth,e=c),0>a?(this.resizingRight=!0,this.resizingLeft=!1,h.setAttr("x",c+l-d)):((0===a||isNaN(a))&&(a=.1),h.setAttr("x",e-d),h.setAttr("width",a))),this.clipDragger(!0)))},stopForceClip:function(){this.animating=this.forceClip=!1},clipDragger:function(a){var c,e,d,f;(b=this.getDBox())&&(c=b.x,e=b.y,d=b.width,b=b.height,f=!1,this.rotate?(c=0,d=this.width+1,(this.clipY!=e||this.clipH!=b)&&(f=!0)):(e=0,b=this.height+1,(this.clipX!=c||this.clipW!=d)&&(f=!0)),f&&this.clipAndUpdate(c,e,d,b),a&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))},maskGraphs:function(){},clipAndUpdate:function(a,b,c,d){this.clipX=a,this.clipY=b,this.clipW=c,this.clipH=d,this.selectedBG.setAttr("width",c),this.selectedBG.setAttr("height",d),this.selectedBG.translate(a,b),this.updateDragIconPositions(),this.maskGraphs(a,b,c,d)},dispatchScrollbarEvent:function(){var a,b,c,d,g;this.skipEvent?this.skipEvent=!1:((a=this.chart).hideBalloon(),c=(b=this.getDBox()).x,d=b.y,g=b.width,b=b.height,this.getPercents(),this.rotate?(c=d,g=this.height/b):g=this.width/g,a={type:"zoomed",position:c,chart:a,target:this,multiplier:g,relativeStart:this.percentStart,relativeEnd:this.percentEnd},this.percentStart==this.prevPercentStart&&this.percentEnd==this.prevPercentEnd&&this.prevMultiplier==g||(this.fire(a),this.prevPercentStart=this.percentStart,this.prevPercentEnd=this.percentEnd,this.prevMultiplier=g))},updateDragIconPositions:function(){var f,h,a=this.getDBox(),b=a.x,c=a.y,d=this.iconLeft,g=this.iconRight,k=this.scrollbarHeight;this.rotate?(f=this.dragIconWidth,h=this.dragIconHeight,d.translate((k-h)/2,c-f/2),g.translate((k-h)/2,c+a.height-f/2)):(f=this.dragIconHeight,h=this.dragIconWidth,d.translate(b-h/2,(k-f)/2),g.translate(b-h/2+a.width,(k-f)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){this.resizingLeft||this.resizingRight||this.dragging||(!this.hideResizeGrips&&this.resizeEnabled||(this.iconLeft.hide(),this.iconRight.hide()),this.removeCursors())},removeCursors:function(){this.chart.setMouseCursor("auto")},fireZoomEvent:function(a){this.fire({type:a,chart:this.chart,target:this})},percentZoom:function(a,b,c){if(a=d.fitToBounds(a,0,b),b=d.fitToBounds(b,a,1),this.dragger&&this.enabled){this.dragger.stop(),isNaN(a)&&(a=0),isNaN(b)&&(b=1);var e,g;this.rotate?(e=this.height,b=e-e*b,g=e-e*a):(e=this.width,g=e*b,b=e*a),this.updateScrollbarSize(b,g),this.clipDragger(!1),this.getPercents(),c&&this.dispatchScrollbarEvent()}},destroy:function(){this.clear(),d.remove(this.set),d.remove(this.iconRight),d.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){var a,b;this.enabled&&(this.fireZoomEvent("zoomStarted"),a=this.chart,this.dragger.stop(),this.removeCursors(),d.isModern&&(this.dragger.node.style.cssText=this.dragCursorDown),this.dragging=!0,b=this.getDBox(),this.rotate?(this.initialCoord=b.y,this.initialMouse=a.mouseY):(this.initialCoord=b.x,this.initialMouse=a.mouseX))},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent()),this.dragging=!1,this.mouseIsOver&&this.removeCursors(),d.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover),this.update(),this.fireZoomEvent("zoomEnded")},handleDraggerOver:function(){this.handleMouseOver(),d.isModern&&(this.dragger.node.style.cssText=this.dragCursorHover)},leftDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingLeft=!0,this.updateGripCursor(!0)},updateGripCursor:function(a){d.isModern&&(a=this.rotate?a?this.vResizeCursorDown:this.vResizeCursorHover:a?this.hResizeCursorDown:this.hResizeCursorHover)&&(this.iconRight&&(this.iconRight.node.style.cssText=a),this.iconLeft&&(this.iconLeft.node.style.cssText=a))},leftDragStop:function(){this.resizingLeft&&(this.resizingLeft=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},rightDragStart:function(){this.fireZoomEvent("zoomStarted"),this.dragger.stop(),this.resizingRight=!0,this.updateGripCursor(!0)},rightDragStop:function(){this.resizingRight&&(this.resizingRight=!1,this.mouseIsOver||this.removeCursors(),this.updateOnRelease(),this.fireZoomEvent("zoomEnded")),this.updateGripCursor(!1)},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.vResizeCursor&&this.chart.setMouseCursor(this.vResizeCursor):this.hResizeCursor&&this.chart.setMouseCursor(this.hResizeCursor),this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var b,c,e,g,f,h,k,l,m,a=this;a.resizingRight||a.resizingLeft||(a.zooming=!0,e=a.scrollDuration,g=a.dragger,f=(b=a.getDBox()).height,h=b.width,c=a.chart,k=a.y,l=a.x,(m=a.rotate)?(b="y",c=c.mouseY-f/2-k,c=d.fitToBounds(c,0,a.height-f)):(b="x",c=c.mouseX-h/2-l,c=d.fitToBounds(c,0,a.width-h)),a.updateOnReleaseOnly?(a.skipEvent=!1,g.setAttr(b,c),a.dispatchScrollbarEvent(),a.clipDragger()):(a.animating=!0,c=Math.round(c),m?g.animate({y:c},e,">"):g.animate({x:c},e,">"),a.forceClip=!0,clearTimeout(a.forceTO),a.forceTO=setTimeout(function(){a.stopForceClip.call(a)},5e3*e)))},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){this.set&&((this.resizingLeft||this.resizingRight||this.dragging)&&(this.dragging=this.resizingRight=this.resizingLeft=!1,this.updateOnRelease(),this.removeCursors()),this.animating=this.mouseIsOver=!1,this.hideDragIcons(),this.update())},handleMouseOver:function(){this.mouseIsOver=!0,this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1,this.hideDragIcons(),this.removeCursors()}})}(),function(){var d=window.AmCharts;d.ChartScrollbar=d.Class({inherits:d.SimpleChartScrollbar,construct:function(a){this.cname="ChartScrollbar",d.ChartScrollbar.base.construct.call(this,a),this.graphLineColor="#BBBBBB",this.graphLineAlpha=0,this.graphFillColor="#BBBBBB",this.graphFillAlpha=1,this.selectedGraphLineColor="#888888",this.selectedGraphLineAlpha=0,this.selectedGraphFillColor="#888888",this.selectedGraphFillAlpha=1,this.gridCount=0,this.gridColor="#FFFFFF",this.gridAlpha=.7,this.skipEvent=this.autoGridCount=!1,this.color="#FFFFFF",this.scrollbarCreated=!1,this.oppositeAxis=!0,this.accessibleLabel="Zoom chart using cursor arrows",d.applyTheme(this,a,this.cname)},init:function(){var e,a=this.categoryAxis,b=this.chart,c=this.gridAxis;a||("CategoryAxis"==this.gridAxis.cname?(this.catScrollbar=!0,a=new d.CategoryAxis,a.id="scrollbar"):(a=new d.ValueAxis,a.data=b.chartData,a.id=c.id,a.type=c.type,a.maximumDate=c.maximumDate,a.minimumDate=c.minimumDate,a.minPeriod=c.minPeriod,a.minMaxField=c.minMaxField),this.categoryAxis=a),a.chart=b,(e=b.categoryAxis)&&(a.firstDayOfWeek=e.firstDayOfWeek),a.dateFormats=c.dateFormats,a.markPeriodChange=c.markPeriodChange,a.boldPeriodBeginning=c.boldPeriodBeginning,a.labelFunction=c.labelFunction,a.axisItemRenderer=d.RecItem,a.axisRenderer=d.RecAxis,a.guideFillRenderer=d.RecFill,a.inside=!0,a.fontSize=this.fontSize,a.tickLength=0,a.axisAlpha=0,d.isString(this.graph)&&(this.graph=d.getObjById(b.graphs,this.graph)),(a=this.graph)&&this.catScrollbar&&((c=this.valueAxis)||(this.valueAxis=c=new d.ValueAxis,c.visible=!1,c.scrollbar=!0,c.axisItemRenderer=d.RecItem,c.axisRenderer=d.RecAxis,c.guideFillRenderer=d.RecFill,c.labelsEnabled=!1,c.chart=b),(b=this.unselectedGraph)||(b=new d.AmGraph,b.scrollbar=!0,this.unselectedGraph=b,b.negativeBase=a.negativeBase,b.noStepRisers=a.noStepRisers),(b=this.selectedGraph)||(b=new d.AmGraph,b.scrollbar=!0,this.selectedGraph=b,b.negativeBase=a.negativeBase,b.noStepRisers=a.noStepRisers)),this.scrollbarCreated=!0},draw:function(){var b,c,e,g,f,h,k,l,m,n,q,p,t,r,w,z,a=this;if(d.ChartScrollbar.base.draw.call(a),a.enabled){if(a.scrollbarCreated||a.init(),b=a.chart,c=b.chartData,e=a.categoryAxis,g=a.rotate,f=a.x,h=a.y,k=a.width,l=a.height,m=a.gridAxis,n=a.set,e.setOrientation(!g),e.parseDates=m.parseDates,"ValueAxis"==a.categoryAxis.cname&&(e.rotate=!g),e.equalSpacing=m.equalSpacing,e.minPeriod=m.minPeriod,e.startOnAxis=m.startOnAxis,e.width=k-1,e.height=l,e.gridCount=a.gridCount,e.gridColor=a.gridColor,e.gridAlpha=a.gridAlpha,e.color=a.color,e.tickLength=0,e.axisAlpha=0,e.autoGridCount=a.autoGridCount,e.parseDates&&!e.equalSpacing&&e.timeZoom(b.firstTime,b.lastTime),e.minimum=a.gridAxis.fullMin,e.maximum=a.gridAxis.fullMax,e.strictMinMax=!0,e.zoom(0,c.length-1),(m=a.graph)&&a.catScrollbar){for(q=a.valueAxis,p=m.valueAxis,q.id=p.id,q.rotate=g,q.setOrientation(g),q.width=k,q.height=l,q.dataProvider=c,q.reversed=p.reversed,q.logarithmic=p.logarithmic,q.gridAlpha=0,q.axisAlpha=0,n.push(q.set),g?(q.y=h,q.x=0):(q.x=f,q.y=0),f=Infinity,h=-Infinity,t=0;t<c.length;t++){r=c[t].axes[p.id].graphs[m.id].values;for(w in r)r.hasOwnProperty(w)&&"percents"!=w&&"total"!=w&&(f>(z=r[w])&&(f=z),z>h&&(h=z))}Infinity!=f&&(q.minimum=f),-Infinity!=h&&(q.maximum=h+.1*(h-f)),f==h&&(--q.minimum,q.maximum+=1),void 0!==a.minimum&&(q.minimum=a.minimum),void 0!==a.maximum&&(q.maximum=a.maximum),q.zoom(0,c.length-1),(w=a.unselectedGraph).id=m.id,w.bcn="scrollbar-graph-",w.rotate=g,w.chart=b,w.data=c,w.valueAxis=q,w.chart=m.chart,w.categoryAxis=a.categoryAxis,w.periodSpan=m.periodSpan,w.valueField=m.valueField,w.openField=m.openField,w.closeField=m.closeField,w.highField=m.highField,w.lowField=m.lowField,w.lineAlpha=a.graphLineAlpha,w.lineColorR=a.graphLineColor,w.fillAlphas=a.graphFillAlpha,w.fillColorsR=a.graphFillColor,w.connect=m.connect,w.hidden=m.hidden,w.width=k,w.height=l,w.pointPosition=m.pointPosition,w.stepDirection=m.stepDirection,w.periodSpan=m.periodSpan,(p=a.selectedGraph).id=m.id,p.bcn=w.bcn+"selected-",p.rotate=g,p.chart=b,p.data=c,p.valueAxis=q,p.chart=m.chart,p.categoryAxis=e,p.periodSpan=m.periodSpan,p.valueField=m.valueField,p.openField=m.openField,p.closeField=m.closeField,p.highField=m.highField,p.lowField=m.lowField,p.lineAlpha=a.selectedGraphLineAlpha,p.lineColorR=a.selectedGraphLineColor,p.fillAlphas=a.selectedGraphFillAlpha,p.fillColorsR=a.selectedGraphFillColor,p.connect=m.connect,p.hidden=m.hidden,p.width=k,p.height=l,p.pointPosition=m.pointPosition,p.stepDirection=m.stepDirection,p.periodSpan=m.periodSpan,(b=a.graphType)||(b=m.type),w.type=b,p.type=b,c=c.length-1,w.zoom(0,c),p.zoom(0,c),p.set.click(function(){a.handleBackgroundClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()}),w.set.click(function(){a.handleBackgroundClick()}).mouseover(function(){a.handleMouseOver()}).mouseout(function(){a.handleMouseOut()}),n.push(w.set),n.push(p.set)}n.push(e.set),n.push(e.labelsSet),a.bg.toBack(),a.invisibleBg.toFront(),a.dragger.toFront(),a.iconLeft.toFront(),a.iconRight.toFront()}},timeZoom:function(a,b,c){this.startTime=a,this.endTime=b,this.timeDifference=b-a,this.skipEvent=!d.toBoolean(c),this.zoomScrollbar(),this.dispatchScrollbarEvent()},zoom:function(a,b){this.start=a,this.end=b,this.skipEvent=!0,this.zoomScrollbar()},dispatchScrollbarEvent:function(){var a,b,c,e,g,f,h,k,l,m;this.categoryAxis&&"ValueAxis"==this.categoryAxis.cname?d.ChartScrollbar.base.dispatchScrollbarEvent.call(this):this.skipEvent?this.skipEvent=!1:(a=this.chart.chartData,b=(e=this.dragger.getBBox()).x,g=e.y,f=e.width,e=e.height,h=this.chart,this.rotate?(b=g,c=e):c=f,(f={type:"zoomed",target:this}).chart=h,k=this.categoryAxis,l=this.stepWidth,g=h.minSelectedTime,e=h.maxSelectedTime,m=!1,k.parseDates&&!k.equalSpacing?(a=h.lastTime,h=h.firstTime,(k=Math.round(b/l)+h)>(b=this.dragging?k+this.timeDifference:Math.round((b+c)/l)+h)&&(k=b),g>0&&g>b-k&&(b=Math.round(k+(b-k)/2),m=Math.round(g/2),k=b-m,b+=m,m=!0),e>0&&b-k>e&&(b=Math.round(k+(b-k)/2),m=Math.round(e/2),k=b-m,b+=m,m=!0),b>a&&(b=a),k>b-g&&(k=b-g),h>k&&(k=h),k+g>b&&(b=k+g),(k!=this.startTime||b!=this.endTime)&&(this.startTime=k,this.endTime=b,f.start=k,f.end=b,f.startDate=new Date(k),f.endDate=new Date(b),this.fire(f))):(k.startOnAxis||(b+=l/2),c-=this.stepWidth/2,g=k.xToIndex(b),b=k.getCoordinate(g)-this.stepWidth/2,b=k.xToIndex(b+c),g==this.start&&this.end==b||(k.startOnAxis&&(this.resizingRight&&g==b&&b++,this.resizingLeft&&g==b&&(g>0?g--:b=1)),this.start=g,this.end=this.dragging?this.start+this.difference:b,f.start=this.start,f.end=this.end,k.parseDates&&(a[this.start]&&(f.startDate=new Date(a[this.start].time)),a[this.end]&&(f.endDate=new Date(a[this.end].time))),this.fire(f)),this.percentStart=g,this.percentEnd=b),m&&this.zoomScrollbar(!0))},zoomScrollbar:function(a){var b,c,d,g;(!(this.dragging||this.resizingLeft||this.resizingRight||this.animating)||a)&&this.dragger&&this.enabled&&(a=(d=this.chart).chartData,(g=this.categoryAxis).parseDates&&!g.equalSpacing?(a=g.stepWidth,c=d.firstTime,b=a*(this.startTime-c),c=a*(this.endTime-c)):(a[this.start]&&(b=a[this.start].x[g.id]),a[this.end]&&(c=a[this.end].x[g.id]),a=g.stepWidth,g.startOnAxis||(d=a/2,b-=d,c+=d)),this.stepWidth=a,isNaN(b)||isNaN(c)||this.updateScrollbarSize(b,c))},maskGraphs:function(a,b,c,d){var g=this.selectedGraph;g&&g.set.clipRect(a,b,c,d)},handleDragStart:function(){d.ChartScrollbar.base.handleDragStart.call(this),this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){d.ChartScrollbar.base.handleBackgroundClick.call(this),this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})}(),function(){var d=window.AmCharts;d.AmBalloon=d.Class({construct:function(a){this.cname="AmBalloon",this.enabled=!0,this.fillColor="#FFFFFF",this.fillAlpha=.8,this.borderThickness=2,this.borderColor="#FFFFFF",this.borderAlpha=1,this.cornerRadius=0,this.maxWidth=220,this.horizontalPadding=8,this.verticalPadding=4,this.pointerWidth=6,this.pointerOrientation="V",this.color="#000000",this.adjustBorderColor=!0,this.show=this.follow=this.showBullet=!1,this.bulletSize=3,this.shadowAlpha=.4,this.shadowColor="#000000",this.fadeOutDuration=this.animationDuration=.3,this.fixedPosition=!0,this.offsetY=6,this.offsetX=1,this.textAlign="center",this.disableMouseEvents=!0,this.deltaSignX=this.deltaSignY=1,d.isModern||(this.offsetY*=1.5),this.sdy=this.sdx=0,d.applyTheme(this,a,this.cname)},draw:function(){var c,e,g,f,h,k,l,m,n,q,p,t,r,w,z,x,u,A,y,B,D,C,I,H,Q,M,P,ia,J,aa,a=this.pointToX,b=this.pointToY;d.isModern||(this.drop=!1),c=this.chart,d.VML&&(this.fadeOutDuration=0),this.xAnim&&c.stopAnim(this.xAnim),this.yAnim&&c.stopAnim(this.yAnim),this.sdy=this.sdx=0,isNaN(a)||(e=this.follow,g=c.container,f=this.set,d.remove(f),this.removeDiv(),(f=g.set()).node.style.pointerEvents="none",this.set=f,this.mainSet?(this.mainSet.push(this.set),this.sdx=this.mainSet.x,this.sdy=this.mainSet.y):c.balloonsSet.push(f),this.show&&(h=this.l,k=this.t,l=this.r,m=this.b,n=this.balloonColor,q=this.fillColor,p=this.borderColor,t=q,void 0!=n&&(this.adjustBorderColor?t=p=n:q=n),r=this.horizontalPadding,w=this.verticalPadding,z=this.pointerWidth,x=this.pointerOrientation,u=this.cornerRadius,A=c.fontFamily,void 0==(y=this.fontSize)&&(y=c.fontSize),n=document.createElement("div"),B=c.classNamePrefix,n.className=B+"-balloon-div",this.className&&(n.className=n.className+" "+B+"-balloon-div-"+this.className),B=n.style,this.disableMouseEvents&&(B.pointerEvents="none"),B.position="absolute",D=this.minWidth,C=document.createElement("div"),n.appendChild(C),I=C.style,isNaN(D)||(I.minWidth=D-2*r+"px"),I.textAlign=this.textAlign,I.maxWidth=this.maxWidth+"px",I.fontSize=y+"px",I.color=this.color,I.fontFamily=A,C.innerHTML=this.text,c.chartDiv.appendChild(n),this.textDiv=n,I=n.offsetWidth,H=n.offsetHeight,n.clientHeight&&(I=n.clientWidth,H=n.clientHeight),A=H+2*w,C=I+2*r,!isNaN(D)&&D>C&&(C=D),window.opera&&(A+=2),Q=!1,y=this.offsetY,c.handDrawn&&(y+=c.handDrawScatter+2),"H"!=x?(D=a-C/2,k+A+10>b&&"down"!=x?(Q=!0,e&&(b+=y),y=b+z,this.deltaSignY=-1):(e&&(b-=y),y=b-A-z,this.deltaSignY=1)):(2*z>A&&(z=A/2),y=b-A/2,h+(l-h)/2>a?(D=a+z,this.deltaSignX=-1):(D=a-C-z,this.deltaSignX=1)),y+A>=m&&(y=m-A),k>y&&(y=k),h>D&&(D=h),D+C>l&&(D=l-C),k=y+w,m=D+r,M=this.shadowAlpha,P=this.shadowColor,r=this.borderThickness,ia=this.bulletSize,w=this.fillAlpha,aa=this.borderAlpha,this.showBullet&&(J=d.circle(g,ia,t,w),f.push(J)),this.drop?(h=C/1.6,l=0,"V"==x&&(x="down"),"H"==x&&(x="left"),"down"==x&&(D=a+1,y=b-h-h/3),"up"==x&&(l=180,D=a+1,y=b+h+h/3),"left"==x&&(l=270,D=a+h+h/3+2,y=b),"right"==x&&(l=90,D=a-h-h/3+2,y=b),k=y-H/2+1,m=D-I/2-1,q=d.drop(g,h,l,q,w,r,p,aa)):u>0||0===z?(M>0&&(a=d.rect(g,C,A,q,0,r+1,P,M,u),d.isModern?a.translate(1,1):a.translate(4,4),f.push(a)),q=d.rect(g,C,A,q,w,r,p,aa,u)):(t=[],u=[],"H"!=x?((h=a-D)>C-z&&(h=C-z),z>h&&(h=z),t=[0,h-z,a-D,h+z,C,C,0,0],u=Q?[0,0,b-y,0,0,A,A,0]:[A,A,b-y,A,A,0,0,A]):((x=b-y)>A-z&&(x=A-z),z>x&&(x=z),u=[0,x-z,b-y,x+z,A,A,0,0],t=h+(l-h)/2>a?[0,0,a>D?0:a-D,0,0,C,C,0]:[C,C,D+C>a?C:a-D,C,C,0,0,C]),M>0&&((a=d.polygon(g,t,u,q,0,r,P,M)).translate(1,1),f.push(a)),q=d.polygon(g,t,u,q,w,r,p,aa)),this.bg=q,f.push(q),q.toFront(),d.setCN(c,q,"balloon-bg"),this.className&&d.setCN(c,q,"balloon-bg-"+this.className),g=1*this.deltaSignX,m+=this.sdx,k+=this.sdy,B.left=m+"px",B.top=k+"px",f.translate(D-g,y,1,!0),q=q.getBBox(),this.bottom=y+A+1,this.yPos=q.y+y,J&&J.translate(this.pointToX-D+g,b-y),b=this.animationDuration,this.animationDuration>0&&!e&&!isNaN(this.prevX)&&(f.translate(this.prevX,this.prevY,NaN,!0),f.animate({translate:D-g+","+y},b,"easeOutSine"),n&&(B.left=this.prevTX+"px",B.top=this.prevTY+"px",this.xAnim=c.animate({node:n},"left",this.prevTX,m,b,"easeOutSine","px"),this.yAnim=c.animate({node:n},"top",this.prevTY,k,b,"easeOutSine","px"))),this.prevX=D-g,this.prevY=y,this.prevTX=m,this.prevTY=k))},fixPrevious:function(){this.rPrevX=this.prevX,this.rPrevY=this.prevY,this.rPrevTX=this.prevTX,this.rPrevTY=this.prevTY},restorePrevious:function(){this.prevX=this.rPrevX,this.prevY=this.rPrevY,this.prevTX=this.rPrevTX,this.prevTY=this.rPrevTY},followMouse:function(){var a,b,c,d,g;this.follow&&this.show&&(a=this.chart.mouseX-this.offsetX*this.deltaSignX-this.sdx,b=this.chart.mouseY-this.sdy,this.pointToX=a,this.pointToY=b,a==this.previousX&&b==this.previousY||(this.previousX=a,this.previousY=b,0===this.cornerRadius?this.draw():(c=this.set)&&(a-=(d=c.getBBox()).width/2,g=b-d.height-10,a<this.l&&(a=this.l),a>this.r-d.width&&(a=this.r-d.width),g<this.t&&(g=b+10),c.translate(a,g),(b=this.textDiv.style).left=a+this.horizontalPadding+"px",b.top=g+this.verticalPadding+"px")))},changeColor:function(a){this.balloonColor=a},setBounds:function(a,b,c,d){this.l=a,this.t=b,this.r=c,this.b=d,this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(a){(this.text!=a||this.positionChanged)&&(this.text=a,this.isHiding=!1,this.show=!0,this.destroyTO&&clearTimeout(this.destroyTO),a=this.chart,this.fadeAnim1&&a.stopAnim(this.fadeAnim1),this.fadeAnim2&&a.stopAnim(this.fadeAnim2),this.draw(),this.positionChanged=!1)},hide:function(a){var c,d,b=this;b.text=void 0,isNaN(a)&&(a=b.fadeOutDuration),c=b.chart,a>0&&!b.isHiding?(b.isHiding=!0,b.destroyTO&&clearTimeout(b.destroyTO),b.destroyTO=setTimeout(function(){b.destroy.call(b)},1e3*a),b.follow=!1,b.show=!1,(d=b.set)&&(d.setAttr("opacity",b.fillAlpha),b.fadeAnim1=d.animate({opacity:0},a,"easeInSine")),b.textDiv&&(b.fadeAnim2=c.animate({node:b.textDiv},"opacity",1,0,a,"easeInSine",""))):(b.show=!1,b.follow=!1,b.destroy())},setPosition:function(a,b){a==this.pointToX&&b==this.pointToY||(this.previousX=this.pointToX,this.previousY=this.pointToY,this.pointToX=a,this.pointToY=b,this.positionChanged=!0)},followCursor:function(a){var c,d,b=this;b.follow=a,clearInterval(b.interval),c=b.chart.mouseX-b.sdx,d=b.chart.mouseY-b.sdy,!isNaN(c)&&a&&(b.pointToX=c-b.offsetX*b.deltaSignX,b.pointToY=d,b.followMouse(),b.interval=setInterval(function(){b.followMouse.call(b)},40))},removeDiv:function(){if(this.textDiv){var a=this.textDiv.parentNode;a&&a.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval),d.remove(this.set),this.removeDiv(),this.set=null}})}(),function(){var d=window.AmCharts;d.AmCoordinateChart=d.Class({inherits:d.AmChart,construct:function(a){d.AmCoordinateChart.base.construct.call(this,a),this.theme=a,this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph"),this.startAlpha=1,this.startDuration=0,this.startEffect="elastic",this.sequencedAnimation=!0,this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.balloonDateFormat="MMM DD, YYYY",this.valueAxes=[],this.graphs=[],this.guides=[],this.gridAboveGraphs=!1,d.applyTheme(this,a,"AmCoordinateChart")},initChart:function(){d.AmCoordinateChart.base.initChart.call(this),this.drawGraphs=!0;var a=this.categoryAxis;a&&(this.categoryAxis=d.processObject(a,d.CategoryAxis,this.theme)),this.processValueAxes(),this.createValueAxes(),this.processGraphs(),this.processGuides(),d.VML&&(this.startAlpha=1),this.setLegendData(this.graphs),this.gridAboveGraphs&&(this.gridSet.toFront(),this.bulletSet.toFront(),this.balloonsSet.toFront())},createValueAxes:function(){if(0===this.valueAxes.length){var a=new d.ValueAxis;this.addValueAxis(a)}},parseData:function(){this.processValueAxes(),this.processGraphs()},parseSerialData:function(a){var b,c;if(this.chartData=[],a)if(this.processTimeout>0)for(1>this.processCount&&(this.processCount=1),b=a.length/this.processCount,this.parseCount=Math.ceil(b)-1,c=0;b>c;c++)this.delayParseSerialData(a,c);else this.parseCount=0,this.parsePartSerialData(a,0,a.length,0);else this.onDataUpdated()},delayParseSerialData:function(a,b){var c=this,d=c.processCount;setTimeout(function(){c.parsePartSerialData.call(c,a,b*d,(b+1)*d,b)},c.processTimeout)},parsePartSerialData:function(a,b,c,e){var g,f,h,k,l,m,n,q,p,t,r,w,z,x,u,A,y,B,D,C,I,H,Q,M,P,ia,J,aa,ma;for(c>a.length&&(c=a.length),g=this.graphs,f={},(h=this.seriesIdField)||(h=this.categoryField),k=!1,(m=this.categoryAxis)&&(k=m.parseDates,n=m.forceShowField,p=m.classNameField,q=m.labelColorField,l=m.categoryFunction),w={},k&&(t=d.extractPeriod(m.minPeriod),r=t.period,t=t.count,z=d.getPeriodDuration(r,t)),x={},this.lookupTable=x,A=this.dataDateFormat,y={},u=b;c>u;u++)if(B={},D=a[u],b=D[this.categoryField],B.dataContext=D,B.category=l?l(b,D,m):b+"",n&&(B.forceShow=D[n]),p&&(B.className=D[p]),q&&(B.labelColor=D[q]),x[D[h]]=B,!k||(m.categoryFunction?b=m.categoryFunction(b,D,m):(!A||b instanceof Date||(b+=" |"),b=d.getDate(b,A,m.minPeriod)),b=d.resetDateToMin(b,r,t,m.firstDayOfWeek),B.category=b,B.time=b.getTime(),!isNaN(B.time))){for(C=this.valueAxes,B.axes={},B.x={},I=0;I<C.length;I++)for(H=C[I].id,B.axes[H]={},B.axes[H].graphs={},Q=0;Q<g.length;Q++)if(b=g[Q],M=b.id,P=1.1,isNaN(b.gapPeriod)||(P=b.gapPeriod),ia=b.periodValue,b.valueAxis.id==H){if(B.axes[H].graphs[M]={},J={},J.index=u,aa=D,b.dataProvider&&(aa=f),J.values=this.processValues(aa,b,ia),!b.connect||b.forceGap&&!isNaN(b.gapPeriod))if(y&&y[M]&&P>0&&B.time-w[M]>=z*P&&(y[M].gap=!0),b.forceGap){P=0;for(ma in J.values)P++;P>0&&(w[M]=B.time,y[M]=J)}else w[M]=B.time,y[M]=J;this.processFields(b,J,aa),J.category=B.category,J.serialDataItem=B,J.graph=b,B.axes[H].graphs[M]=J}this.chartData[u]=B}if(this.parseCount==e){for(a=0;a<g.length;a++)(b=g[a]).dataProvider&&this.parseGraphData(b);this.dataChanged=!1,this.dispatchDataUpdated=!0,this.onDataUpdated()}},processValues:function(a,b,c){var g,h,k,l,m,e={},f=!1;for("candlestick"!=b.type&&"ohlc"!=b.type||""===c||(f=!0),h="value error open close low high".split(" "),k=0;k<h.length;k++)"value"!=(l=h[k])&&"error"!=l&&f&&(c=l.charAt(0).toUpperCase()+l.slice(1)),null!==(m=a[b[l+"Field"]+c])&&(g=+m,isNaN(g)||(e[l]=g),"date"==b.valueAxis.type&&void 0!==m&&(g=d.getDate(m,b.chart.dataDateFormat),e[l]=g.getTime()));return e},parseGraphData:function(a){var d,g,f,h,b=a.dataProvider,c=a.seriesIdField;for(c||(c=this.seriesIdField),c||(c=this.categoryField),d=0;d<b.length;d++)g=b[d],f=this.lookupTable[g[c]+""],h=a.valueAxis.id,f&&(h=f.axes[h].graphs[a.id],h.serialDataItem=f,h.values=this.processValues(g,a,a.periodValue),this.processFields(a,h,g))},addValueAxis:function(a){a.chart=this,this.valueAxes.push(a),this.validateData()},removeValueAxesAndGraphs:function(){var b,a=this.valueAxes;for(b=a.length-1;b>-1;b--)this.removeValueAxis(a[b])},removeValueAxis:function(a){var c,d,b=this.graphs;for(c=b.length-1;c>=0;c--)(d=b[c])&&d.valueAxis==a&&this.removeGraph(d);for(c=(b=this.valueAxes).length-1;c>=0;c--)b[c]==a&&b.splice(c,1);this.validateData()},addGraph:function(a){this.graphs.push(a),this.chooseGraphColor(a,this.graphs.length-1),this.validateData()},removeGraph:function(a){var c,b=this.graphs;for(c=b.length-1;c>=0;c--)b[c]==a&&(b.splice(c,1),a.destroy());this.validateData()},handleValueAxisZoom:function(){},processValueAxes:function(){var b,c,a=this.valueAxes;for(b=0;b<a.length;b++)c=a[b],c=d.processObject(c,d.ValueAxis,this.theme),a[b]=c,c.chart=this,c.init(),this.listenTo(c,"axisIntZoomed",this.handleValueAxisZoom),c.id||(c.id="valueAxisAuto"+b+"_"+(new Date).getTime()),void 0===c.usePrefixes&&(c.usePrefixes=this.usePrefixes)},processGuides:function(){var c,e,g,a=this.guides,b=this.categoryAxis;if(a)for(c=0;c<a.length;c++)(void 0!==(e=a[c]).category||void 0!==e.date)&&b&&b.addGuide(e),e.id||(e.id="guideAuto"+c+"_"+(new Date).getTime()),(g=e.valueAxis)?(d.isString(g)&&(g=this.getValueAxisById(g)),g?g.addGuide(e):this.valueAxes[0].addGuide(e)):isNaN(e.value)||this.valueAxes[0].addGuide(e)},processGraphs:function(){var b,c,a=this.graphs;for(this.graphsById={},b=0;b<a.length;b++)c=a[b],c=d.processObject(c,d.AmGraph,this.theme),a[b]=c,this.chooseGraphColor(c,b),c.chart=this,c.init(),d.isString(c.valueAxis)&&(c.valueAxis=this.getValueAxisById(c.valueAxis)),c.valueAxis||(c.valueAxis=this.valueAxes[0]),c.id||(c.id="graphAuto"+b+"_"+(new Date).getTime()),this.graphsById[c.id]=c},formatString:function(a,b,c){var e=b.graph,g=e.valueAxis;return g.duration&&b.values.value&&(g=d.formatDuration(b.values.value,g.duration,"",g.durationUnits,g.maxInterval,g.numberFormatter),a=a.split("[[value]]").join(g)),a=d.massReplace(a,{"[[title]]":e.title,"[[description]]":b.description}),a=c?d.fixNewLines(a):d.fixBrakes(a),a=d.cleanFromEmpty(a)},getBalloonColor:function(a,b,c){var e=a.lineColor,g=a.balloonColor;return c&&(g=e),"object"==typeof(c=a.fillColorsR)?e=c[0]:void 0!==c&&(e=c),b.isNegative&&(c=a.negativeLineColor,"object"==typeof(a=a.negativeFillColors)?c=a[0]:void 0!==a&&(c=a),void 0!==c&&(e=c)),void 0!==b.color&&(e=b.color),void 0!==b.lineColor&&(e=b.lineColor),void 0!==(b=b.fillColors)&&(e=b,d.ifArray(b)&&(e=b[0])),void 0===g&&(g=e),g},getGraphById:function(a){return d.getObjById(this.graphs,a)},getValueAxisById:function(a){return d.getObjById(this.valueAxes,a)},processFields:function(a,b,c){var e,g,f,h;for(a.itemColors&&(e=a.itemColors,g=b.index,b.color=g<e.length?e[g]:d.randomColor()),e="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className columnIndex".split(" "),g=0;g<e.length;g++)(h=a[(f=e[g])+"Field"])&&(h=c[h],d.isDefined(h)&&(b[f]=h));b.dataContext=c},chooseGraphColor:function(a,b){if(a.lineColor)a.lineColorR=a.lineColor;else{var c;c=this.colors.length>b?this.colors[b]:a.lineColorR?a.lineColorR:d.randomColor(),a.lineColorR=c}a.fillColorsR=a.fillColors?a.fillColors:a.lineColorR,a.bulletBorderColorR=a.bulletBorderColor?a.bulletBorderColor:a.useLineColorForBulletBorder?a.lineColorR:a.bulletColor,a.bulletColorR=a.bulletColor?a.bulletColor:a.lineColorR,(c=this.patterns)&&(a.pattern=c[b])},handleLegendEvent:function(a){var c,d,b=a.type;if(a=a.dataItem)switch(c=a.hidden,d=a.showBalloon,b){case"clickMarker":this.textClickEnabled&&(d?this.hideGraphsBalloon(a):this.showGraphsBalloon(a));break;case"clickLabel":d?this.hideGraphsBalloon(a):this.showGraphsBalloon(a);break;case"rollOverItem":c||this.highlightGraph(a);break;case"rollOutItem":c||this.unhighlightGraph();break;case"hideItem":this.hideGraph(a);break;case"showItem":this.showGraph(a)}},highlightGraph:function(a){var c,d,g,b=this.graphs;if(b&&(d=.2,this.legend&&(d=this.legend.rollOverGraphAlpha),1!=d))for(c=0;c<b.length;c++)(g=b[c])!=a&&g.changeOpacity(d)},unhighlightGraph:function(){var a,b;if(this.legend&&(a=this.legend.rollOverGraphAlpha),1!=a)for(a=this.graphs,b=0;b<a.length;b++)a[b].changeOpacity(1)},showGraph:function(a){a.switchable&&(a.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(a){a.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),a.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(a){a.showBalloon=!1,this.updateLegend()},showGraphsBalloon:function(a){a.showBalloon=!0,this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var b,a=this.graphs;if(a)for(b=0;b<a.length;b++)a[b].animationPlayed=!1},animateAgain:function(){this.resetAnimation(),this.validateNow()}})}(),function(){var d=window.AmCharts;d.TrendLine=d.Class({construct:function(a){this.cname="TrendLine",this.createEvents("click","rollOver","rollOut"),this.isProtected=!1,this.dashLength=0,this.lineColor="#00CC00",this.lineThickness=this.lineAlpha=1,d.applyTheme(this,a,this.cname)},draw:function(){var b,c,e,g,f,h,k,l,m,n,q,p,t,r,w,z,x,u,A,a=this;a.destroy(),c=(b=a.chart).container,k=a.categoryAxis,l=a.initialDate,m=a.initialCategory,n=a.finalDate,q=a.finalCategory,p=a.valueAxis,t=a.valueAxisX,r=a.initialXValue,w=a.finalXValue,z=a.initialValue,x=a.finalValue,u=p.recalculateToPercents,A=b.dataDateFormat,k&&(l&&(l=d.getDate(l,A,"fff"),a.initialDate=l,e=k.dateToCoordinate(l)),m&&(e=k.categoryToCoordinate(m)),n&&(n=d.getDate(n,A,"fff"),a.finalDate=n,g=k.dateToCoordinate(n)),q&&(g=k.categoryToCoordinate(q))),t&&!u&&(isNaN(r)||(e=t.getCoordinate(r)),isNaN(w)||(g=t.getCoordinate(w))),p&&!u&&(isNaN(z)||(f=p.getCoordinate(z)),isNaN(x)||(h=p.getCoordinate(x))),isNaN(e)||isNaN(g)||isNaN(f)||isNaN(f)||(b.rotate?(k=[f,h],h=[e,g]):(k=[e,g],h=[f,h]),f=d.line(c,k,h,a.lineColor,a.lineAlpha,a.lineThickness,a.dashLength),e=k,g=h,n=k[1]-k[0],q=h[1]-h[0],0===n&&(n=.01),0===q&&(q=.01),l=n/Math.abs(n),m=q/Math.abs(q),q=90*Math.PI/180-Math.asin(n/(n*q/Math.abs(n*q)*Math.sqrt(Math.pow(n,2)+Math.pow(q,2)))),n=Math.abs(5*Math.cos(q)),q=Math.abs(5*Math.sin(q)),e.push(k[1]-l*q,k[0]-l*q),g.push(h[1]+m*n,h[0]+m*n),h=d.polygon(c,e,g,"#ffffff",.005,0),(c=c.set([h,f])).translate(b.marginLeftReal,b.marginTopReal),b.trendLinesSet.push(c),d.setCN(b,f,"trend-line"),d.setCN(b,f,"trend-line-"+a.id),a.line=f,a.set=c,(f=a.initialImage)&&(f=d.processObject(f,d.Image,a.theme),f.chart=b,f.draw(),f.translate(e[0]+f.offsetX,g[0]+f.offsetY),c.push(f.set)),(f=a.finalImage)&&(f=d.processObject(f,d.Image,a.theme),f.chart=b,f.draw(),f.translate(e[1]+f.offsetX,g[1]+f.offsetY),c.push(f.set)),c.mouseup(function(){a.handleLineClick()}).mouseover(function(){a.handleLineOver()}).mouseout(function(){a.handleLineOut()}),c.touchend&&c.touchend(function(){a.handleLineClick()}),c.clipRect(0,0,b.plotAreaWidth,b.plotAreaHeight))},handleLineClick:function(){this.fire({type:"click",trendLine:this,chart:this.chart})},handleLineOver:function(){var a=this.rollOverColor;void 0!==a&&this.line.attr({stroke:a}),this.balloonText&&(clearTimeout(this.chart.hoverInt),a=this.line.getBBox(),this.chart.showBalloon(this.balloonText,this.lineColor,!0,this.x+a.x+a.width/2,this.y+a.y+a.height/2)),this.fire({type:"rollOver",trendLine:this,chart:this.chart})},handleLineOut:function(){this.line.attr({stroke:this.lineColor}),this.balloonText&&this.chart.hideBalloon(),this.fire({type:"rollOut",trendLine:this,chart:this.chart})},destroy:function(){d.remove(this.set)}})}(),function(){var d=window.AmCharts;d.Image=d.Class({construct:function(a){this.cname="Image",this.height=this.width=20,this.rotation=this.offsetY=this.offsetX=0,this.balloonColor=this.color="#000000",this.opacity=1,d.applyTheme(this,a,this.cname)},draw:function(){var b,c,d,a=this;a.set&&a.set.remove(),b=a.chart.container,a.set=b.set(),a.url?(c=b.image(a.url,0,0,a.width,a.height),d=1):a.svgPath&&((c=b.path(a.svgPath)).setAttr("fill",a.color),c.setAttr("stroke",a.outlineColor),b=c.getBBox(),d=Math.min(a.width/b.width,a.height/b.height)),c&&(c.setAttr("opacity",a.opacity),a.set.rotate(a.rotation),c.translate(-a.width/2,-a.height/2,d),a.balloonText&&c.mouseover(function(){a.chart.showBalloon(a.balloonText,a.balloonColor,!0)}).mouseout(function(){a.chart.hideBalloon()}).touchend(function(){a.chart.hideBalloon()}).touchstart(function(){a.chart.showBalloon(a.balloonText,a.balloonColor,!0)}),a.set.push(c))},translate:function(a,b){this.set&&this.set.translate(a,b)}})}(),function(){var d=window.AmCharts;d.circle=function(a,b,c,e,g,f,h,k,l){return 0>=b&&(b=.001),void 0!=g&&0!==g||(g=.01),void 0===f&&(f="#000000"),void 0===h&&(h=0),e={fill:c,stroke:f,"fill-opacity":e,"stroke-width":g,"stroke-opacity":h},a=isNaN(l)?a.circle(0,0,b).attr(e):a.ellipse(0,0,b,l).attr(e),k&&a.gradient("radialGradient",[c,d.adjustLuminosity(c,-.6)]),a},d.text=function(a,b,c,e,g,f,h,k){return f||(f="middle"),"right"==f&&(f="end"),"left"==f&&(f="start"),isNaN(k)&&(k=1),void 0!==b&&(b+="",d.isIE&&!d.isModern&&(b=b.replace("&amp;","&"),b=b.replace("&","&amp;"))),c={fill:c,"font-family":e,"font-size":g+"px",opacity:k},!0===h&&(c["font-weight"]="bold"),c["text-anchor"]=f,a.text(b,c)},d.polygon=function(a,b,c,e,g,f,h,k,l,m,n){isNaN(f)&&(f=.01),isNaN(k)&&(k=g);var q=e,p=!1;for("object"==typeof q&&q.length>1&&(p=!0,q=q[0]),void 0===h&&(h=q),g={fill:q,stroke:h,"fill-opacity":g,"stroke-width":f,"stroke-opacity":k},void 0!==n&&n>0&&(g["stroke-dasharray"]=n),n=d.dx,f=d.dy,a.handDrawn&&(c=d.makeHD(b,c,a.handDrawScatter),b=c[0],c=c[1]),h=Math.round,m&&(h=Number),k="M"+(h(b[0])+n)+","+(h(c[0])+f),q=1;q<b.length;q++)m&&(b[q]=d.roundTo(b[q],5),c[q]=d.roundTo(c[q],5)),k+=" L"+(h(b[q])+n)+","+(h(c[q])+f);return a=a.path(k+" Z").attr(g),p&&a.gradient("linearGradient",e,l),a},d.rect=function(a,b,c,e,g,f,h,k,l,m,n){var q,p,t,r;return isNaN(b)||isNaN(c)?a.set():(isNaN(f)&&(f=0),void 0===l&&(l=0),void 0===m&&(m=270),isNaN(g)&&(g=0),q=e,p=!1,"object"==typeof q&&(q=q[0],p=!0),void 0===h&&(h=q),void 0===k&&(k=g),b=Math.round(b),c=Math.round(c),t=0,r=0,0>b&&(b=Math.abs(b),t=-b),0>c&&(c=Math.abs(c),r=-c),t+=d.dx,r+=d.dy,g={fill:q,stroke:h,"fill-opacity":g,"stroke-opacity":k},void 0!==n&&n>0&&(g["stroke-dasharray"]=n),a=a.rect(t,r,b,c,l,f).attr(g),p&&a.gradient("linearGradient",e,m),a)},d.bullet=function(a,b,c,e,g,f,h,k,l,m,n,q,p){var t;switch("circle"==b&&(b="round"),b){case"round":t=d.circle(a,c/2,e,g,f,h,k);break;case"square":t=d.polygon(a,[-c/2,c/2,c/2,-c/2],[c/2,c/2,-c/2,-c/2],e,g,f,h,k,m-180,void 0,p);break;case"rectangle":t=d.polygon(a,[-c,c,c,-c],[c/2,c/2,-c/2,-c/2],e,g,f,h,k,m-180,void 0,p);break;case"diamond":t=d.polygon(a,[-c/2,0,c/2,0],[0,-c/2,0,c/2],e,g,f,h,k);break;case"triangleUp":t=d.triangle(a,c,0,e,g,f,h,k);break;case"triangleDown":t=d.triangle(a,c,180,e,g,f,h,k);break;case"triangleLeft":t=d.triangle(a,c,270,e,g,f,h,k);break;case"triangleRight":t=d.triangle(a,c,90,e,g,f,h,k);break;case"bubble":t=d.circle(a,c/2,e,g,f,h,k,!0);break;case"line":t=d.line(a,[-c/2,c/2],[0,0],e,g,f,h,k);break;case"yError":(t=a.set()).push(d.line(a,[0,0],[-c/2,c/2],e,g,f)),t.push(d.line(a,[-l,l],[-c/2,-c/2],e,g,f)),t.push(d.line(a,[-l,l],[c/2,c/2],e,g,f));break;case"xError":(t=a.set()).push(d.line(a,[-c/2,c/2],[0,0],e,g,f)),t.push(d.line(a,[-c/2,-c/2],[-l,l],e,g,f)),t.push(d.line(a,[c/2,c/2],[-l,l],e,g,f))}return t&&t.pattern(n,NaN,q),t},d.triangle=function(a,b,c,d,g,f,h,k){void 0!==f&&0!==f||(f=1),void 0===h&&(h="#000"),void 0===k&&(k=0),d={fill:d,stroke:h,"fill-opacity":g,"stroke-width":f,"stroke-opacity":k},b/=2;var l;return 0===c&&(l=" M"+-b+","+b+" L0,"+-b+" L"+b+","+b+" Z"),180==c&&(l=" M"+-b+","+-b+" L0,"+b+" L"+b+","+-b+" Z"),90==c&&(l=" M"+-b+","+-b+" L"+b+",0 L"+-b+","+b+" Z"),270==c&&(l=" M"+-b+",0 L"+b+","+b+" L"+b+","+-b+" Z"),a.path(l).attr(d)},d.line=function(a,b,c,e,g,f,h,k,l,m,n){if(a.handDrawn&&!n)return d.handDrawnLine(a,b,c,e,g,f,h,k,l,m,n);for(f={fill:"none","stroke-width":f},void 0!==h&&h>0&&(f["stroke-dasharray"]=h),isNaN(g)||(f["stroke-opacity"]=g),e&&(f.stroke=e),e=Math.round,m&&(e=Number,b[0]=d.roundTo(b[0],5),c[0]=d.roundTo(c[0],5)),m=d.dx,g=d.dy,h="M"+(e(b[0])+m)+","+(e(c[0])+g),k=1;k<b.length;k++)b[k]=d.roundTo(b[k],5),c[k]=d.roundTo(c[k],5),h+=" L"+(e(b[k])+m)+","+(e(c[k])+g);return d.VML?a.path(h,void 0,!0).attr(f):(l&&(h+=" M0,0 L0,0"),a.path(h).attr(f))},d.makeHD=function(a,b,c){var d,g,f,h,k,l,m,n,q,p;for(d=[],g=[],f=1;f<a.length;f++)for(h=+a[f-1],k=+b[f-1],l=+a[f],m=+b[f],n=Math.round(Math.sqrt(Math.pow(l-h,2)+Math.pow(m-k,2))/50)+1,l=(l-h)/n,m=(m-k)/n,q=0;n>=q;q++)p=k+q*m+Math.random()*c,d.push(h+q*l+Math.random()*c),g.push(p);return[d,g]},d.handDrawnLine=function(a,b,c,e,g,f,h,k,l,m){var n,p,t,r,q=a.set();for(n=1;n<b.length;n++)for(p=[b[n-1],b[n]],t=[c[n-1],c[n]],t=d.makeHD(p,t,a.handDrawScatter),p=t[0],t=t[1],r=1;r<p.length;r++)q.push(d.line(a,[p[r-1],p[r]],[t[r-1],t[r]],e,g,f+Math.random()*a.handDrawThickness-a.handDrawThickness/2,h,k,l,m,!0));return q},d.doNothing=function(a){return a},d.drop=function(a,b,c,d,g,f,h,k){var l=1/180*Math.PI,m=c-20,n=Math.sin(m*l)*b,q=Math.cos(m*l)*b,p=Math.sin((m+40)*l)*b,t=Math.cos((m+40)*l)*b,r=.8*b,w=-b/3,z=b/3;return 0===c&&(w=-w,z=0),180==c&&(z=0),90==c&&(w=0),270==c&&(w=0,z=-z),c={fill:d,stroke:h,"stroke-width":f,"stroke-opacity":k,"fill-opacity":g},b="M"+n+","+q+" A"+b+","+b+",0,1,1,"+p+","+t+" A"+r+","+r+",0,0,0,"+(Math.sin((m+20)*l)*b+z)+","+(Math.cos((m+20)*l)*b+w),b+=" A"+r+","+r+",0,0,0,"+n+","+q,a.path(b,void 0,void 0,"1000,1000").attr(c)},d.wedge=function(a,b,c,e,g,f,h,k,l,m,n,q,p,t){var w,z,x,u,A,y,B,D,C,I,H,Q,M,P,ia,J,aa,r=Math.round;if(f=r(f),h=r(h),k=r(k),w=r(h/f*k),z=d.VML,(x=359.5+f/100)>359.94&&(x=359.94),g>=x&&(g=x),u=1/180*Math.PI,x=b+Math.sin(e*u)*k,A=c-Math.cos(e*u)*w,y=b+Math.sin(e*u)*f,B=c-Math.cos(e*u)*h,D=b+Math.sin((e+g)*u)*f,C=c-Math.cos((e+g)*u)*h,I=b+Math.sin((e+g)*u)*k,u=c-Math.cos((e+g)*u)*w,H={fill:d.adjustLuminosity(m.fill,-.2),"stroke-opacity":0,"fill-opacity":m["fill-opacity"]},Q=0,Math.abs(g)>180&&(Q=1),e=a.set(),z&&(x=r(10*x),y=r(10*y),D=r(10*D),I=r(10*I),A=r(10*A),B=r(10*B),C=r(10*C),u=r(10*u),b=r(10*b),l=r(10*l),c=r(10*c),f*=10,h*=10,k*=10,w*=10,1>Math.abs(g)&&1>=Math.abs(D-y)&&1>=Math.abs(C-B)&&(M=!0)),g="",q&&(H["fill-opacity"]=0,H["stroke-opacity"]=m["stroke-opacity"]/2,H.stroke=m.stroke),l>0){for(P=" M"+x+","+(A+l)+" L"+y+","+(B+l),z?(M||(P+=" A"+(b-f)+","+(l+c-h)+","+(b+f)+","+(l+c+h)+","+y+","+(B+l)+","+D+","+(C+l)),P+=" L"+I+","+(u+l),k>0&&(M||(P+=" B"+(b-k)+","+(l+c-w)+","+(b+k)+","+(l+c+w)+","+I+","+(l+u)+","+x+","+(l+A)))):(P+=" A"+f+","+h+",0,"+Q+",1,"+D+","+(C+l)+" L"+I+","+(u+l),k>0&&(P+=" A"+k+","+w+",0,"+Q+",0,"+x+","+(A+l))),P+=" Z",ia=l,z&&(ia/=10),J=0;ia>J;J+=10)aa=a.path(P,void 0,void 0,"1000,1000").attr(H),e.push(aa),aa.translate(0,-J);P=a.path(" M"+x+","+A+" L"+x+","+(A+l)+" L"+y+","+(B+l)+" L"+y+","+B+" L"+x+","+A+" Z",void 0,void 0,"1000,1000").attr(H),l=a.path(" M"+D+","+C+" L"+D+","+(C+l)+" L"+I+","+(u+l)+" L"+I+","+u+" L"+D+","+C+" Z",void 0,void 0,"1000,1000").attr(H),e.push(P),e.push(l)}if(z?(M||(g=" A"+r(b-f)+","+r(c-h)+","+r(b+f)+","+r(c+h)+","+r(y)+","+r(B)+","+r(D)+","+r(C)),h=" M"+r(x)+","+r(A)+" L"+r(y)+","+r(B)+g+" L"+r(I)+","+r(u)):h=" M"+x+","+A+" L"+y+","+B+" A"+f+","+h+",0,"+Q+",1,"+D+","+C+" L"+I+","+u,k>0&&(z?M||(h+=" B"+(b-k)+","+(c-w)+","+(b+k)+","+(c+w)+","+I+","+u+","+x+","+A):h+=" A"+k+","+w+",0,"+Q+",0,"+x+","+A),a.handDrawn&&(k=d.line(a,[x,y],[A,B],m.stroke,m.thickness*Math.random()*a.handDrawThickness,m["stroke-opacity"]),e.push(k)),a=a.path(h+" Z",void 0,void 0,"1000,1000").attr(m),n){for(k=[],w=0;w<n.length;w++)k.push(d.adjustLuminosity(m.fill,n[w]));"radial"!=t||d.isModern||(k=[]),k.length>0&&a.gradient(t+"Gradient",k)}return d.isModern&&"radial"==t&&a.grad&&(a.grad.setAttribute("gradientUnits","userSpaceOnUse"),a.grad.setAttribute("r",f),a.grad.setAttribute("cx",b),a.grad.setAttribute("cy",c)),a.pattern(q,NaN,p),e.wedge=a,e.push(a),e},d.rgb2hex=function(a){return(a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""},d.adjustLuminosity=function(a,b){a&&-1!=a.indexOf("rgb")&&(a=d.rgb2hex(a)),6>(a=(a+"").replace(/[^0-9a-f]/gi,"")).length&&(a=a[0]+""+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var e,g,c="#";for(g=0;3>g;g++)e=parseInt(a.substr(2*g,2),16),e=Math.round(Math.min(Math.max(0,e+e*b),255)).toString(16),c+=("00"+e).substr(e.length);return c}}(),function(){var d=window.AmCharts;d.Bezier=d.Class({construct:function(a,b,c,e,g,f,h,k,l,m,n){var r,w,q=a.chart,p=d.bezierX,t=d.bezierY;for(isNaN(q.bezierX)||(p=q.bezierX),isNaN(q.bezierY)||(t=q.bezierY),isNaN(p)&&(q.rotate?(p=20,t=4):(t=20,p=4)),"object"==typeof h&&h.length>1&&(w=!0,r=h,h=h[0]),"object"==typeof k&&(k=k[0]),0===k&&(h="none"),f={fill:h,"fill-opacity":k,"stroke-width":f},void 0!==l&&l>0&&(f["stroke-dasharray"]=l),isNaN(g)||(f["stroke-opacity"]=g),e&&(f.stroke=e),e="M"+Math.round(b[0])+","+Math.round(c[0])+" ",g=[],l=0;l<b.length;l++)isNaN(b[l])||isNaN(c[l])?(e+=this.drawSegment(g,p,t),l<b.length-1&&(e+="L"+b[l+1]+","+c[l+1]+" "),g=[]):g.push({x:+b[l],y:+c[l]});e+=this.drawSegment(g,p,t),m?e+=m:d.VML||(e+="M0,0 L0,0"),this.path=a.path(e).attr(f),this.node=this.path.node,w&&this.path.gradient("linearGradient",r,n)},drawSegment:function(a,b,c){var g,f,h,k,l,m,d="";if(a.length>2)for(g=0;g<a.length-1;g++)f=[],h=a[g-1],k=a[g],l=a[g+1],m=a[g+2],0===g?(f.push({x:k.x,y:k.y}),f.push({x:k.x,y:k.y}),f.push({x:l.x,y:l.y}),f.push({x:m.x,y:m.y})):g<a.length-2?(f.push({x:h.x,y:h.y}),f.push({x:k.x,y:k.y}),f.push({x:l.x,y:l.y}),f.push({x:m.x,y:m.y})):(f.push({x:h.x,y:h.y}),f.push({x:k.x,y:k.y}),f.push({x:l.x,y:l.y}),f.push({x:l.x,y:l.y})),h=[],k=Math.round,h.push({x:k(f[1].x),y:k(f[1].y)}),h.push({x:k((-f[0].x+b*f[1].x+f[2].x)/b),y:k((-f[0].y+c*f[1].y+f[2].y)/c)}),h.push({x:k((f[1].x+b*f[2].x-f[3].x)/b),y:k((f[1].y+c*f[2].y-f[3].y)/c)}),h.push({x:k(f[2].x),y:k(f[2].y)}),d+="C"+h[1].x+","+h[1].y+","+h[2].x+","+h[2].y+","+h[3].x+","+h[3].y+" ";else a.length>1&&(d+="L"+a[1].x+","+a[1].y);return d}})}(),function(){var d=window.AmCharts;d.AmDraw=d.Class({construct:function(a,b,c,e){d.SVG_NS="http://www.w3.org/2000/svg",d.SVG_XLINK="http://www.w3.org/1999/xlink",d.hasSVG=!!document.createElementNS&&!!document.createElementNS(d.SVG_NS,"svg").createSVGRect,1>b&&(b=10),1>c&&(c=10),this.div=a,this.width=b,this.height=c,this.rBin=document.createElement("div"),d.hasSVG?(d.SVG=!0,b=this.createSvgElement("svg"),a.appendChild(b),this.container=b,this.addDefs(e),this.R=new d.SVGRenderer(this)):d.isIE&&d.VMLRenderer&&(d.VML=!0,d.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?((b=document.createStyleSheet()).addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),d.vmlStyleSheet=b):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=a,this.R=new d.VMLRenderer(this,e),this.R.disableSelection(a))},createSvgElement:function(a){return document.createElementNS(d.SVG_NS,a)},circle:function(a,b,c,e){var g=new d.AmDObject("circle",this);return g.attr({r:c,cx:a,cy:b}),this.addToContainer(g.node,e),g},ellipse:function(a,b,c,e,g){var f=new d.AmDObject("ellipse",this);return f.attr({rx:c,ry:e,cx:a,cy:b}),this.addToContainer(f.node,g),f},setSize:function(a,b){a>0&&b>0&&(this.container.style.width=a+"px",this.container.style.height=b+"px")},rect:function(a,b,c,e,g,f,h){var k=new d.AmDObject("rect",this);return d.VML&&(g=Math.round(100*g/Math.min(c,e)),c+=2*f,e+=2*f,k.bw=f,k.node.style.marginLeft=-f,k.node.style.marginTop=-f),1>c&&(c=1),1>e&&(e=1),k.attr({x:a,y:b,width:c,height:e,rx:g,ry:g,"stroke-width":f}),this.addToContainer(k.node,h),k},image:function(a,b,c,e,g,f){var h=new d.AmDObject("image",this);return h.attr({x:b,y:c,width:e,height:g}),this.R.path(h,a),this.addToContainer(h.node,f),h},addToContainer:function(a,b){b||(b=this.container),b.appendChild(a)},text:function(a,b,c){return this.R.text(a,b,c)},path:function(a,b,c,e){var g=new d.AmDObject("path",this);return e||(e="100,100"),g.attr({cs:e}),c?g.attr({dd:a}):g.attr({d:a}),this.addToContainer(g.node,b),g},set:function(a){return this.R.set(a)},remove:function(a){if(a){var b=this.rBin;b.appendChild(a),b.innerHTML=""}},renderFix:function(){var c,d,g,a=this.container,b=a.style;b.top="0px",b.left="0px";try{d=(c=a.getBoundingClientRect()).left-Math.round(c.left),g=c.top-Math.round(c.top),d&&(b.left=d+"px"),g&&(b.top=g+"px")}catch(f){}},update:function(){this.R.update()},addDefs:function(a){var b,c,e;d.hasSVG&&(b=this.createSvgElement("desc"),(c=this.container).setAttribute("version","1.1"),c.style.position="absolute",this.setSize(this.width,this.height),a.accessibleTitle&&(e=this.createSvgElement("text"),c.appendChild(e),e.innerHTML=a.accessibleTitle,e.style.opacity=0),d.rtl&&(c.setAttribute("direction","rtl"),c.style.left="auto",c.style.right="0px"),a&&(a.addCodeCredits&&b.appendChild(document.createTextNode("JavaScript chart by amCharts "+a.version)),c.appendChild(b),a.defs&&(b=this.createSvgElement("defs"),c.appendChild(b),d.parseDefs(a.defs,b),this.defs=b)))}})}(),function(){var d=window.AmCharts;d.AmDObject=d.Class({construct:function(a,b){this.D=b,this.R=b.R,this.node=this.R.create(this,a),this.y=this.x=0,this.scale=1},attr:function(a){return this.R.attr(this,a),this},getAttr:function(a){return this.node.getAttribute(a)},setAttr:function(a,b){return this.R.setAttr(this,a,b),this},clipRect:function(a,b,c,d){this.R.clipRect(this,a,b,c,d)},translate:function(a,b,c,d){d||(a=Math.round(a),b=Math.round(b)),this.R.move(this,a,b,c),this.x=a,this.y=b,this.scale=c,this.angle&&this.rotate(this.angle)},rotate:function(a,b){this.R.rotate(this,a,b),this.angle=a},animate:function(a,b,c){var e,g,f;for(e in a)a.hasOwnProperty(e)&&(g=e,f=a[e],c=d.getEffect(c),this.R.animate(this,g,f,b,c))},push:function(a){var b,c;a&&((b=this.node).appendChild(a.node),(c=a.clipPath)&&b.appendChild(c),(a=a.grad)&&b.appendChild(a))},text:function(a){this.R.setText(this,a)},remove:function(){this.stop(),this.R.remove(this)},clear:function(){var a=this.node;if(a.hasChildNodes())for(;a.childNodes.length>=1;)a.removeChild(a.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var b,a=this.node;a&&(this.prevNextNode=a.nextSibling,(b=a.parentNode)&&b.appendChild(a))},toPrevious:function(){var a=this.node;a&&this.prevNextNode&&(a=a.parentNode)&&a.insertBefore(this.prevNextNode,null)},toBack:function(){var b,c,a=this.node;a&&(this.prevNextNode=a.nextSibling,(b=a.parentNode)&&(c=b.firstChild)&&b.insertBefore(a,c))},mouseover:function(a){return this.R.addListener(this,"mouseover",a),this},mouseout:function(a){return this.R.addListener(this,"mouseout",a),this},click:function(a){return this.R.addListener(this,"click",a),this},dblclick:function(a){return this.R.addListener(this,"dblclick",a),this},mousedown:function(a){return this.R.addListener(this,"mousedown",a),this},mouseup:function(a){return this.R.addListener(this,"mouseup",a),this},touchmove:function(a){return this.R.addListener(this,"touchmove",a),this},touchstart:function(a){return this.R.addListener(this,"touchstart",a),this},touchend:function(a){return this.R.addListener(this,"touchend",a),this},keyup:function(a){return this.R.addListener(this,"keyup",a),this},focus:function(a){return this.R.addListener(this,"focus",a),this},blur:function(a){return this.R.addListener(this,"blur",a),this},contextmenu:function(a){return this.node.addEventListener?this.node.addEventListener("contextmenu",a,!0):this.R.addListener(this,"contextmenu",a),this},stop:function(){d.removeFromArray(this.R.animations,this.an_translate),d.removeFromArray(this.R.animations,this.an_y),d.removeFromArray(this.R.animations,this.an_x)},length:function(){return this.node.childNodes.length},gradient:function(a,b,c){this.R.gradient(this,a,b,c)},pattern:function(a,b,c){a&&this.R.pattern(this,a,b,c)}})}(),function(){var d=window.AmCharts;d.VMLRenderer=d.Class({construct:function(a,b){this.chart=b,this.D=a,this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"},this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(a,b){var c,d,g;return"group"==b?(c=document.createElement("div"),a.type="div"):"text"==b?(c=document.createElement("div"),a.type="text"):"image"==b?(c=document.createElement("img"),a.type="image"):(a.type="shape",a.shapeType=this.cNames[b],c=document.createElement("amvml:"+this.cNames[b]),d=document.createElement("amvml:stroke"),c.appendChild(d),a.stroke=d,g=document.createElement("amvml:fill"),c.appendChild(g),a.fill=g,g.className="amvml",d.className="amvml",c.className="amvml"),c.style.position="absolute",c.style.top=0,c.style.left=0,c},path:function(a,b){a.node.setAttribute("src",b)},setAttr:function(a,b,c){var e,g,f,h,k;if(void 0!==c){if(8===document.documentMode&&(e=!0),g=a.node,f=a.type,h=g.style,"r"==b&&(h.width=2*c,h.height=2*c),"oval"==a.shapeType&&("rx"==b&&(h.width=2*c),"ry"==b&&(h.height=2*c)),"roundrect"==a.shapeType&&("width"!=b&&"height"!=b||--c),"cursor"==b&&(h.cursor=c),"cx"==b&&(h.left=c-d.removePx(h.width)/2),"cy"==b&&(h.top=c-d.removePx(h.height)/2),"width"==(k=this.styleMap[b])&&0>c&&(c=0),void 0!==k&&(h[k]=c),"text"==f&&("text-anchor"==b&&(a.anchor=c,k=g.clientWidth,"end"==c&&(h.marginLeft=-k+"px"),"middle"==c&&(h.marginLeft=-k/2+"px",h.textAlign="center"),"start"==c&&(h.marginLeft="0px")),"fill"==b&&(h.color=c),"font-weight"==b&&(h.fontWeight=c)),h=a.children)for(k=0;k<h.length;k++)h[k].setAttr(b,c);"shape"==f&&("cs"==b&&(g.style.width="100px",g.style.height="100px",g.setAttribute("coordsize",c)),"d"==b&&g.setAttribute("path",this.svgPathToVml(c)),"dd"==b&&g.setAttribute("path",c),f=a.stroke,a=a.fill,"stroke"==b&&(e?f.color=c:f.setAttribute("color",c)),"stroke-width"==b&&(e?f.weight=c:f.setAttribute("weight",c)),"stroke-opacity"==b&&(e?f.opacity=c:f.setAttribute("opacity",c)),"stroke-dasharray"==b&&(h="solid",c>0&&3>c&&(h="dot"),c>=3&&6>=c&&(h="dash"),c>6&&(h="longdash"),e?f.dashstyle=h:f.setAttribute("dashstyle",h)),"fill-opacity"!=b&&"opacity"!=b||(0===c?e?a.on=!1:a.setAttribute("on",!1):e?a.opacity=c:a.setAttribute("opacity",c)),"fill"==b&&(e?a.color=c:a.setAttribute("color",c)),"rx"==b&&(e?g.arcSize=c+"%":g.setAttribute("arcsize",c+"%")))}},attr:function(a,b){for(var c in b)b.hasOwnProperty(c)&&this.setAttr(a,c,b[c])},text:function(a,b,c){var e=new d.AmDObject("text",this.D),g=e.node;return g.style.whiteSpace="pre",g.innerHTML=a,this.D.addToContainer(g,c),this.attr(e,b),e},getBBox:function(a){return this.getBox(a.node)},getBox:function(a){var f,h,k,l,m,n,b=a.offsetLeft,c=a.offsetTop,d=a.offsetWidth,g=a.offsetHeight;if(a.hasChildNodes()){for(l=0;l<a.childNodes.length;l++)m=(f=this.getBox(a.childNodes[l])).x,isNaN(m)||(isNaN(h)?h=m:h>m&&(h=m)),n=f.y,isNaN(n)||(isNaN(k)?k=n:k>n&&(k=n)),m=f.width+m,isNaN(m)||(d=Math.max(d,m)),f=f.height+n,isNaN(f)||(g=Math.max(g,f));0>h&&(b+=h),0>k&&(c+=k)}return{x:b,y:c,width:d,height:g}},setText:function(a,b){var c=a.node;c&&(c.innerHTML=b),this.setAttr(a,"text-anchor",a.anchor)},addListener:function(a,b,c){a.node["on"+b]=c},move:function(a,b,c){var e=a.node,g=e.style;"text"==a.type&&(c-=d.removePx(g.fontSize)/2-1),"oval"==a.shapeType&&(b-=d.removePx(g.width)/2,c-=d.removePx(g.height)/2),a=a.bw,isNaN(a)||(b-=a,c-=a),isNaN(b)||isNaN(c)||(e.style.left=b+"px",e.style.top=c+"px")},svgPathToVml:function(a){var c,d,g,f,h,k,l,m,n,q,p,t,b=a.split(" ");for(a="",d=Math.round,g=0;g<b.length;g++)h=(f=b[g]).substring(0,1),l=d((k=(f=f.substring(1)).split(","))[0])+","+d(k[1]),"M"==h&&(a+=" m "+l),"L"==h&&(a+=" l "+l),"Z"==h&&(a+=" x e"),"Q"==h&&(n=c[(m=c.length)-1],q=k[0],p=k[1],l=k[2],t=k[3],a+=" c "+(c=d(c[m-2]/3+2/3*q))+","+(n=d(n/3+2/3*p))+","+(q=d(2/3*q+l/3))+","+(p=d(2/3*p+t/3))+","+l+","+t),"C"==h&&(a+=" c "+k[0]+","+k[1]+","+k[2]+","+k[3]+","+k[4]+","+k[5]),"A"==h&&(a+=" wa "+f),"B"==h&&(a+=" at "+f),c=k;return a},animate:function(a,b,c,d,g){var k,f=a.node,h=this.chart;a.animationFinished=!1,"translate"==b&&(c=(b=c.split(","))[1],k=f.offsetTop,h.animate(a,"left",f.offsetLeft,b[0],d,g,"px"),h.animate(a,"top",k,c,d,g,"px"))},clipRect:function(a,b,c,d,g){a=a.node,0===b&&0===c?(a.style.width=d+"px",a.style.height=g+"px",a.style.overflow="hidden"):a.style.clip="rect("+c+"px "+(b+d)+"px "+(c+g)+"px "+b+"px)"},rotate:function(a,b,c){var e,g,f,h,k,l;0!=+b&&(a=(e=a.node).style,c||(c=this.getBGColor(e.parentNode)),a.backgroundColor=c,a.paddingLeft=1,c=b*Math.PI/180,g=Math.cos(c),f=Math.sin(c),h=d.removePx(a.left),k=d.removePx(a.top),l=e.offsetWidth,e=e.offsetHeight,b/=Math.abs(b),a.left=h+l/2-l/2*Math.cos(c)-b*e/2*Math.sin(c)+3,a.top=k-b*l/2*Math.sin(c)+b*e/2*Math.sin(c),a.cssText=a.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+g+"', M12='"+-f+"', M21='"+f+"', M22='"+g+"', sizingmethod='auto expand');")},getBGColor:function(a){var c,b="#FFFFFF";return a.style&&(""!==(c=a.style.backgroundColor)?b=c:a.parentNode&&(b=this.getBGColor(a.parentNode))),b},set:function(a){var c,b=new d.AmDObject("group",this.D);if(this.D.container.appendChild(b.node),a)for(c=0;c<a.length;c++)b.push(a[c]);return b},gradient:function(a,b,c,d){var f,g="";for("radialGradient"==b&&(b="gradientradial",c.reverse()),"linearGradient"==b&&(b="gradient"),f=0;f<c.length;f++)g+=Math.round(100*f/(c.length-1))+"% "+c[f],f<c.length-1&&(g+=",");a=a.fill,90==d?d=0:270==d?d=180:180==d?d=90:0===d&&(d=270),8===document.documentMode?(a.type=b,a.angle=d):(a.setAttribute("type",b),a.setAttribute("angle",d)),g&&(a.colors.value=g)},remove:function(a){a.clipPath&&this.D.remove(a.clipPath),this.D.remove(a.node)},disableSelection:function(a){a.onselectstart=function(){return!1},a.style.cursor="default"},pattern:function(a,b,c,e){c=a.node,a=a.fill;var g="none";b.color&&(g=b.color),c.fillColor=g,b=b.url,d.isAbsolute(b)||(b=e+b),8===document.documentMode?(a.type="tile",a.src=b):(a.setAttribute("type","tile"),a.setAttribute("src",b))},update:function(){}})}(),function(){var d=window.AmCharts;d.SVGRenderer=d.Class({construct:function(a){this.D=a,this.animations=[]},create:function(a,b){return document.createElementNS(d.SVG_NS,b)},attr:function(a,b){for(var c in b)b.hasOwnProperty(c)&&this.setAttr(a,c,b[c])},setAttr:function(a,b,c){void 0!==c&&a.node.setAttribute(b,c)},animate:function(a,b,c,e,g){a.animationFinished=!1;var f=a.node;a["an_"+b]&&d.removeFromArray(this.animations,a["an_"+b]),"translate"==b?(f=(f=f.getAttribute("transform"))?(f+"").substring(10,f.length-1):"0,0",f=f.split(", ").join(" "),0===(f=f.split(" ").join(","))&&(f="0,0")):f=+f.getAttribute(b),c={obj:a,frame:0,attribute:b,from:f,to:c,time:e,effect:g},this.animations.push(c),a["an_"+b]=c},update:function(){var a,c,e,g,f,h,k,l,m,b=this.animations;for(a=b.length-1;a>=0;a--)if(c=b[a],e=c.time*d.updateRate,g=c.frame+1,f=c.obj,h=c.attribute,g>e)"translate"==h?(l=c.to.split(","),m=+l[0],l=+l[1],f.translate(m,l)):(k=+c.to,this.setAttr(f,h,k)),f.animationFinished=!0,this.animations.splice(a,1);else{if(c.frame++,"translate"==h){if(k=c.from.split(","),h=+k[0],k=+k[1],isNaN(k)&&(k=0),l=c.to.split(","),m=+l[0],l=+l[1],m=0==m-h?m:Math.round(d[c.effect](0,g,h,m-h,e)),c=0==l-k?l:Math.round(d[c.effect](0,g,k,l-k,e)),h="transform",isNaN(m)||isNaN(c))continue;c="translate("+m+","+c+")"}else l=+c.from,k=+c.to,m=k-l,c=d[c.effect](0,g,l,m,e),isNaN(c)&&(c=k),0===m&&this.animations.splice(a,1);this.setAttr(f,h,c)}},getBBox:function(a){if(a=a.node)try{return a.getBBox()}catch(b){}return{width:0,height:0,x:0,y:0}},path:function(a,b){a.node.setAttributeNS(d.SVG_XLINK,"xlink:href",b)},clipRect:function(a,b,c,e,g){var k,f=a.node,h=a.clipPath;h&&this.D.remove(h),(k=f.parentNode)&&(f=document.createElementNS(d.SVG_NS,"clipPath"),h=d.getUniqueId(),f.setAttribute("id",h),this.D.rect(b,c,e,g,0,0,f),k.appendChild(f),b="#",d.baseHref&&!d.isIE&&(b=this.removeTarget(window.location.href)+b),this.setAttr(a,"clip-path","url("+b+h+")"),this.clipPathC++,a.clipPath=f)},text:function(a,b,c){var g,f,h,e=new d.AmDObject("text",this.D);for(a=(a+"").split("\n"),g=d.removePx(b["font-size"]),f=0;f<a.length;f++)(h=this.create(null,"tspan")).appendChild(document.createTextNode(a[f])),h.setAttribute("y",(g+2)*f+Math.round(g/2)),h.setAttribute("x",0),e.node.appendChild(h);return e.node.setAttribute("y",Math.round(g/2)),this.attr(e,b),this.D.addToContainer(e.node,c),e},setText:function(a,b){var c=a.node;c&&(c.removeChild(c.firstChild),c.appendChild(document.createTextNode(b)))},move:function(a,b,c,d){isNaN(b)&&(b=0),isNaN(c)&&(c=0),b="translate("+b+","+c+")",d&&(b=b+" scale("+d+")"),this.setAttr(a,"transform",b)},rotate:function(a,b){var c=a.node.getAttribute("transform"),d="rotate("+b+")";c&&(d=c+" "+d),this.setAttr(a,"transform",d)},set:function(a){var c,b=new d.AmDObject("g",this.D);if(this.D.container.appendChild(b.node),a)for(c=0;c<a.length;c++)b.push(a[c]);return b},addListener:function(a,b,c){a.node["on"+b]=c},gradient:function(a,b,c,e){var h,k,l,m,g=a.node,f=a.grad;for(f&&this.D.remove(f),b=document.createElementNS(d.SVG_NS,b),f=d.getUniqueId(),b.setAttribute("id",f),isNaN(e)||(h=0,k=0,l=0,m=0,90==e?l=100:270==e?m=100:180==e?h=100:0===e&&(k=100),b.setAttribute("x1",h+"%"),b.setAttribute("x2",k+"%"),b.setAttribute("y1",l+"%"),b.setAttribute("y2",m+"%")),e=0;e<c.length;e++)h=document.createElementNS(d.SVG_NS,"stop"),k=100*e/(c.length-1),0===e&&(k=0),h.setAttribute("offset",k+"%"),h.setAttribute("stop-color",c[e]),b.appendChild(h);g.parentNode.appendChild(b),c="#",d.baseHref&&!d.isIE&&(c=this.removeTarget(window.location.href)+c),g.setAttribute("fill","url("+c+f+")"),a.grad=b},removeTarget:function(a){return a.split("#")[0]},pattern:function(a,b,c,e){var f,h,k,l,m,n,g=a.node;isNaN(c)&&(c=1),(f=a.patternNode)&&this.D.remove(f),f=document.createElementNS(d.SVG_NS,"pattern"),h=d.getUniqueId(),k=b,b.url&&(k=b.url),d.isAbsolute(k)||-1!=k.indexOf("data:image")||(k=e+k),e=+b.width,isNaN(e)&&(e=4),l=+b.height,isNaN(l)&&(l=4),e/=c,l/=c,c=b.x,isNaN(c)&&(c=0),m=-Math.random()*+b.randomX,isNaN(m)||(c=m),m=b.y,isNaN(m)&&(m=0),n=-Math.random()*+b.randomY,isNaN(n)||(m=n),f.setAttribute("id",h),f.setAttribute("width",e),f.setAttribute("height",l),f.setAttribute("patternUnits","userSpaceOnUse"),f.setAttribute("xlink:href",k),b.color&&((n=document.createElementNS(d.SVG_NS,"rect")).setAttributeNS(null,"height",e),n.setAttributeNS(null,"width",l),n.setAttributeNS(null,"fill",b.color),f.appendChild(n)),this.D.image(k,0,0,e,l,f).translate(c,m),k="#",d.baseHref&&!d.isIE&&(k=this.removeTarget(window.location.href)+k),g.setAttribute("fill","url("+k+h+")"),a.patternNode=f,g.parentNode.appendChild(f)},remove:function(a){a.clipPath&&this.D.remove(a.clipPath),a.grad&&this.D.remove(a.grad),a.patternNode&&this.D.remove(a.patternNode),this.D.remove(a.node)}})}(),function(){var d=window.AmCharts;d.AmLegend=d.Class({construct:function(a){this.enabled=!0,this.cname="AmLegend",this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","clickLabel"),this.position="bottom",this.borderColor=this.color="#000000",this.borderAlpha=0,this.markerLabelGap=5,this.verticalGap=10,this.align="left",this.horizontalGap=0,this.spacing=10,this.markerDisabledColor="#AAB3B3",this.markerType="square",this.markerSize=16,this.markerBorderThickness=this.markerBorderAlpha=1,this.marginBottom=this.marginTop=0,this.marginLeft=this.marginRight=20,this.autoMargins=!0,this.valueWidth=50,this.switchable=!0,this.switchType="x",this.switchColor="#FFFFFF",this.rollOverColor="#CC0000",this.reversedOrder=!1,this.labelText="[[title]]",this.valueText="[[value]]",this.accessibleLabel="[[title]]",this.useMarkerColorForLabels=!1,this.rollOverGraphAlpha=1,this.textClickEnabled=!1,this.equalWidths=!0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.useGraphSettings=!1,this.showEntries=!0,this.labelDx=0,d.applyTheme(this,a,this.cname)},setData:function(a){this.legendData=a,this.invalidateSize()},invalidateSize:function(){this.destroy(),this.entries=[],this.valueLabels=[];var a=this.legendData;this.enabled&&(d.ifArray(a)||d.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var k,a=this.chart,b=this.position,c=this.width,e=a.divRealWidth,g=a.divRealHeight,f=this.div,h=this.legendData;if(this.data&&(h=this.combineLegend?this.legendData.concat(this.data):this.data),isNaN(this.fontSize)&&(this.fontSize=a.fontSize),this.maxColumnsReal=this.maxColumns,"right"==b||"left"==b?(this.maxColumnsReal=1,this.autoMargins&&(this.marginLeft=this.marginRight=10)):this.autoMargins&&(this.marginRight=a.marginRight,this.marginLeft=a.marginLeft,k=a.autoMarginOffset,"bottom"==b?(this.marginBottom=k,this.marginTop=0):(this.marginTop=k,this.marginBottom=0)),c=void 0!==c?d.toCoordinate(c,e):"right"!=b&&"left"!=b?a.realWidth:this.ieW>0?this.ieW:a.realWidth,"outside"==b?(c=f.offsetWidth,g=f.offsetHeight,f.clientHeight&&(c=f.clientWidth,g=f.clientHeight)):(isNaN(c)||(f.style.width=c+"px"),f.className="amChartsLegend "+a.classNamePrefix+"-legend-div"),this.divWidth=c,(b=this.container)?(b.container.innerHTML="",f.appendChild(b.container),b.width=c,b.height=g,b.setSize(c,g),b.addDefs(a)):b=new d.AmDraw(f,c,g,a),this.container=b,this.lx=0,this.ly=8,(g=this.markerSize)>this.fontSize&&(this.ly=g/2-1),g>0&&(this.lx+=g+this.markerLabelGap),this.titleWidth=0,(g=this.title)&&(g=d.text(this.container,g,this.color,a.fontFamily,this.fontSize,"start",!0),d.setCN(a,g,"legend-title"),g.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),a=g.getBBox(),this.titleWidth=a.width+15,this.titleHeight=a.height+6),this.index=this.maxLabelWidth=0,this.showEntries){for(a=0;a<h.length;a++)this.createEntry(h[a]);for(a=this.index=0;a<h.length;a++)this.createValue(h[a])}this.arrangeEntries(),this.updateValues()},arrangeEntries:function(){var w,z,x,u,A,y,B,D,C,I,H,a=this.position,b=this.marginLeft+this.titleWidth,c=this.marginRight,e=this.marginTop,g=this.marginBottom,f=this.horizontalGap,h=this.div,k=this.divWidth,l=this.maxColumnsReal,m=this.verticalGap,n=this.spacing,q=k-c-b,p=0,t=0,r=this.container;for(this.set&&this.set.remove(),w=r.set(),this.set=w,z=r.set(),w.push(z),x=this.entries,A=0;A<x.length;A++)(y=(u=x[A].getBBox()).width)>p&&(p=y),(u=u.height)>t&&(t=u);for(y=t=0,B=f,D=0,C=0,A=0;A<x.length;A++)I=x[A],this.reversedOrder&&(I=x[x.length-A-1]),u=I.getBBox(),this.equalWidths?H=y*(p+n+this.markerLabelGap):(H=B,B=B+u.width+f+n),H+u.width>q&&A>0&&0!==y&&(t++,H=y=0,B=H+u.width+f+n,D=D+C+m,C=0),u.height>C&&(C=u.height),I.translate(H,D),y++,!isNaN(l)&&y>=l&&(y=0,t++,D=D+C+m,B=f,C=0),z.push(I);l=(u=z.getBBox()).height+2*m-1,"left"==a||"right"==a?(n=u.width+2*f,k=n+b+c,h.style.width=k+"px",this.ieW=k):n=k-b-c-1,c=d.polygon(this.container,[0,n,n,0],[0,0,l,l],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),d.setCN(this.chart,c,"legend-bg"),w.push(c),w.translate(b,e),c.toBack(),b=f,"top"!=a&&"bottom"!=a&&"absolute"!=a&&"outside"!=a||("center"==this.align?b=f+(n-u.width)/2:"right"==this.align&&(b=f+n-u.width)),z.translate(b,m+1),this.titleHeight>l&&(l=this.titleHeight),0>(e=l+e+g+1)&&(e=0),"absolute"!=a&&"outside"!=a&&e>this.chart.divRealHeight&&(h.style.top="0px"),h.style.height=Math.round(e)+"px",r.setSize(this.divWidth,e)},createEntry:function(a){var b,c,e,g,f,h,k,l,m,n,q,p,t,r,w,z,x,u;!1===a.visibleInLegend||a.hideFromLegend||(c=(b=this).chart,e=b.useGraphSettings,(g=a.markerType)&&(e=!1),a.legendEntryWidth=b.markerSize,g||(g=b.markerType),f=a.color,h=a.alpha,a.legendKeyColor&&(f=a.legendKeyColor()),a.legendKeyAlpha&&(h=a.legendKeyAlpha()),!0===a.hidden&&(k=f=b.markerDisabledColor),l=a.pattern,(n=a.customMarker)||(n=b.customMarker),q=b.container,t=0,r=0,w=(p=b.markerSize)/2,e?(e=a.type,b.switchType=void 0,"line"==e||"step"==e||"smoothedLine"==e||"ohlc"==e?(m=q.set(),a.hidden||(f=a.lineColorR,k=a.bulletBorderColorR),t=d.line(q,[0,2*p],[p/2,p/2],f,a.lineAlpha,a.lineThickness,a.dashLength),d.setCN(c,t,"graph-stroke"),m.push(t),a.bullet&&(a.hidden||(f=a.bulletColorR),t=d.bullet(q,a.bullet,a.bulletSize,f,a.bulletAlpha,a.bulletBorderThickness,k,a.bulletBorderAlpha))&&(d.setCN(c,t,"graph-bullet"),t.translate(p+1,p/2),m.push(t)),w=0,t=p,r=p/3):(a.getGradRotation&&0===(m=a.getGradRotation())&&(m=180),t=a.fillColorsR,!0===a.hidden&&(t=f),(m=b.createMarker("rectangle",t,a.fillAlphas,a.lineThickness,f,a.lineAlpha,m,l,a.dashLength))&&(w=p,m.translate(w,p/2)),t=p),d.setCN(c,m,"graph-"+e),d.setCN(c,m,"graph-"+a.id)):n?m=q.image(n,0,0,p,p):(isNaN(b.gradientRotation)||(z=180+b.gradientRotation),(m=b.createMarker(g,f,h,void 0,void 0,void 0,z,l))&&m.translate(p/2,p/2)),d.setCN(c,m,"legend-marker"),b.addListeners(m,a),q=q.set([m]),b.switchable&&a.switchable&&q.setAttr("cursor","pointer"),void 0!==a.id&&d.setCN(c,q,"legend-item-"+a.id),d.setCN(c,q,a.className,!0),(k=b.switchType)&&"none"!=k&&p>0&&("x"==k?(x=b.createX()).translate(p/2,p/2):x=b.createV(),x.dItem=a,!0!==a.hidden?"x"==k?x.hide():x.show():"x"!=k&&x.hide(),b.switchable||x.hide(),b.addListeners(x,a),a.legendSwitch=x,q.push(x),d.setCN(c,x,"legend-switch")),k=b.color,a.showBalloon&&b.textClickEnabled&&void 0!==b.selectedColor&&(k=b.selectedColor),b.useMarkerColorForLabels&&!l&&(k=f),!0===a.hidden&&(k=b.markerDisabledColor),f=d.massReplace(b.labelText,{"[[title]]":a.title}),void 0!==b.tabIndex&&(q.setAttr("tabindex",b.tabIndex),q.setAttr("role","menuitem"),q.keyup(function(c){13==c.keyCode&&b.clickMarker(a,c)})),c.accessible&&b.accessibleLabel&&(l=d.massReplace(b.accessibleLabel,{"[[title]]":a.title}),c.makeAccessible(q,l)),l=b.fontSize,m&&(l>=p&&(p=p/2+b.ly-l/2+(l+2-p)/2-r,m.translate(w,p),x&&x.translate(x.x,p)),a.legendEntryWidth=m.getBBox().width),f&&(f=d.fixBrakes(f),a.legendTextReal=f,u=b.labelWidth,u=isNaN(u)?d.text(b.container,f,k,c.fontFamily,l,"start"):d.wrappedText(b.container,f,k,c.fontFamily,l,"start",!1,u,0),d.setCN(c,u,"legend-label"),u.translate(b.lx+t,b.ly),q.push(u),b.labelDx=t,c=u.getBBox().width,b.maxLabelWidth<c&&(b.maxLabelWidth=c)),b.entries[b.index]=q,a.legendEntry=b.entries[b.index],a.legendMarker=m,a.legendLabel=u,b.index++)},addListeners:function(a,b){var c=this;a&&a.mouseover(function(a){c.rollOverMarker(b,a)}).mouseout(function(a){c.rollOutMarker(b,a)}).click(function(a){c.clickMarker(b,a)})},rollOverMarker:function(a,b){this.switchable&&this.dispatch("rollOverMarker",a,b),this.dispatch("rollOverItem",a,b)},rollOutMarker:function(a,b){this.switchable&&this.dispatch("rollOutMarker",a,b),this.dispatch("rollOutItem",a,b)},clickMarker:function(a,b){this.switchable&&(!0===a.hidden?this.dispatch("showItem",a,b):this.dispatch("hideItem",a,b)),this.dispatch("clickMarker",a,b)},rollOverLabel:function(a,b){a.hidden||this.textClickEnabled&&a.legendLabel&&a.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",a,b)},rollOutLabel:function(a,b){if(!a.hidden&&this.textClickEnabled&&a.legendLabel){var c=this.color;void 0!==this.selectedColor&&a.showBalloon&&(c=this.selectedColor),this.useMarkerColorForLabels&&void 0===(c=a.lineColor)&&(c=a.color),a.legendLabel.attr({fill:c})}this.dispatch("rollOutItem",a,b)},clickLabel:function(a,b){this.textClickEnabled?a.hidden||this.dispatch("clickLabel",a,b):this.switchable&&(!0===a.hidden?this.dispatch("showItem",a,b):this.dispatch("hideItem",a,b))},dispatch:function(a,b,c){a={type:a,dataItem:b,target:this,event:c,chart:this.chart},this.chart&&this.chart.handleLegendEvent(a),this.fire(a)},createValue:function(a){var g,f,h,k,l,b=this,c=b.fontSize,e=b.chart;!1===a.visibleInLegend||a.hideFromLegend||(g=b.maxLabelWidth,b.forceWidth&&(g=b.labelWidth),b.equalWidths||(b.valueAlign="left"),"left"==b.valueAlign&&a.legendLabel&&(g=a.legendLabel.getBBox().width),f=g,b.valueText&&b.valueWidth>0&&(h=b.color,b.useMarkerColorForValues&&(h=a.color,a.legendKeyColor&&(h=a.legendKeyColor())),!0===a.hidden&&(h=b.markerDisabledColor),k=b.valueText,g=g+b.lx+b.labelDx+b.markerLabelGap+b.valueWidth,l="end","left"==b.valueAlign&&(g-=b.valueWidth,l="start"),h=d.text(b.container,k,h,b.chart.fontFamily,c,l),d.setCN(e,h,"legend-value"),h.translate(g,b.ly),b.entries[b.index].push(h),f+=b.valueWidth+2*b.markerLabelGap,h.dItem=a,b.valueLabels.push(h)),b.index++,c+7>(e=b.markerSize)&&(e=c+7,d.VML&&(e+=3)),(c=b.container.rect(a.legendEntryWidth,0,f,e,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005})).dItem=a,b.entries[b.index-1].push(c),c.mouseover(function(c){b.rollOverLabel(a,c)}).mouseout(function(c){b.rollOutLabel(a,c)}).click(function(c){b.clickLabel(a,c)}))},createV:function(){var a=this.markerSize;return d.polygon(this.container,[a/5,a/2,a-a/5,a/2],[a/3,a-a/5,a/5,a/1.7],this.switchColor)},createX:function(){var a=(this.markerSize-4)/2,b={stroke:this.switchColor,"stroke-width":3},c=this.container,e=d.line(c,[-a,a],[-a,a]).attr(b),a=d.line(c,[-a,a],[a,-a]).attr(b);return this.container.set([e,a])},createMarker:function(a,b,c,e,g,f,h,k,l){var m=this.markerSize,n=this.container;return g||(g=this.markerBorderColor),g||(g=b),isNaN(e)&&(e=this.markerBorderThickness),isNaN(f)&&(f=this.markerBorderAlpha),d.bullet(n,a,m,b,c,e,g,f,m,h,k,this.chart.path,l)},validateNow:function(){this.invalidateSize()},updateValues:function(){var c,g,f,h,k,l,m,n,a=this.valueLabels,b=this.chart,e=this.data;if(a)for(c=0;c<a.length;c++)(f=(g=a[c]).dItem).periodDataItem=void 0,f.periodPercentDataItem=void 0,h=" ",e?f.value?g.text(f.value):g.text(""):(k=null,void 0!==f.type?(k=f.currentDataItem,l=this.periodValueText,f.legendPeriodValueText&&(l=f.legendPeriodValueText),f.legendPeriodValueTextR&&(l=f.legendPeriodValueTextR),k?(h=this.valueText,f.legendValueText&&(h=f.legendValueText),f.legendValueTextR&&(h=f.legendValueTextR),h=b.formatString(h,k)):l&&b.formatPeriodString&&(l=d.massReplace(l,{"[[title]]":f.title}),h=b.formatPeriodString(l,f))):h=b.formatString(this.valueText,f),l=f,k&&(l=k),(m=this.valueFunction)&&(h=m(l,h,b.periodDataItem)),this.useMarkerColorForLabels&&!k&&f.lastDataItem&&(k=f.lastDataItem),k?n=b.getBalloonColor(f,k):f.legendKeyColor&&(n=f.legendKeyColor()),f.legendColorFunction&&(n=f.legendColorFunction(l,h,f.periodDataItem,f.periodPercentDataItem)),g.text(h),!f.pattern&&(this.useMarkerColorForValues&&g.setAttr("fill",n),this.useMarkerColorForLabels)&&((g=f.legendMarker)&&(g.setAttr("fill",n),g.setAttr("stroke",n)),(g=f.legendLabel)&&(f.hidden?g.setAttr("fill",this.markerDisabledColor):g.setAttr("fill",n))))},renderFix:function(){if(!d.VML&&this.enabled){var a=this.container;a&&a.renderFix()}},destroy:function(){this.div.innerHTML="",d.remove(this.set)}})}(),function(){var d=window.AmCharts;d.formatMilliseconds=function(a,b){if(-1!=a.indexOf("fff")){var c=b.getMilliseconds(),d=c+"";10>c&&(d="00"+c),c>=10&&100>c&&(d="0"+c),a=a.replace(/fff/g,d)}return a},d.extractPeriod=function(a){var b=d.stripNumbers(a),c=1;return b!=a&&(c=+a.slice(0,a.indexOf(b))),{period:b,count:c}},d.getDate=function(a,b,c){return a instanceof Date?d.newDate(a,c):b&&isNaN(a)?d.stringToDate(a,b):new Date(a)},d.daysInMonth=function(a){return new Date(a.getYear(),a.getMonth()+1,0).getDate()},d.newDate=function(a,b){return b&&-1==b.indexOf("fff")?new Date(a):new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())},d.resetDateToMin=function(a,b,c,e){void 0===e&&(e=1);var g,f,h,k,l,m,n;switch(d.useUTC?(g=a.getUTCFullYear(),f=a.getUTCMonth(),h=a.getUTCDate(),k=a.getUTCHours(),l=a.getUTCMinutes(),m=a.getUTCSeconds(),n=a.getUTCMilliseconds(),a=a.getUTCDay()):(g=a.getFullYear(),f=a.getMonth(),h=a.getDate(),k=a.getHours(),l=a.getMinutes(),m=a.getSeconds(),n=a.getMilliseconds(),a=a.getDay()),b){case"YYYY":g=Math.floor(g/c)*c,f=0,h=1,n=m=l=k=0;break;case"MM":f=Math.floor(f/c)*c,h=1,n=m=l=k=0;break;case"WW":h=e>a?h-(7+a)+e:h-a+e,n=m=l=k=0;break;case"DD":n=m=l=k=0;break;case"hh":k=Math.floor(k/c)*c,n=m=l=0;break;case"mm":l=Math.floor(l/c)*c,n=m=0;break;case"ss":m=Math.floor(m/c)*c,n=0;break;case"fff":n=Math.floor(n/c)*c}return d.useUTC?((a=new Date).setUTCFullYear(g,f,h),a.setUTCHours(k,l,m,n)):a=new Date(g,f,h,k,l,m,n),a},d.getPeriodDuration=function(a,b){void 0===b&&(b=1);var c;switch(a){case"YYYY":c=316224e5;break;case"MM":c=26784e5;break;case"WW":c=6048e5;break;case"DD":c=864e5;break;case"hh":c=36e5;break;case"mm":c=6e4;break;case"ss":c=1e3;break;case"fff":c=1}return c*b},d.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}},d.getMaxInterval=function(a,b){var c=d.intervals;return a<c[b].contains?"ss"==b?c[b].nextInterval:b:(a=Math.round(a/c[b].contains),b=c[b].nextInterval,d.getMaxInterval(a,b))},d.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" "),d.monthNames="January February March April May June July August September October November December".split(" "),d.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),d.getWeekNumber=function(a){(a=new Date(a)).setHours(0,0,0),a.setDate(a.getDate()+4-(a.getDay()||7));var b=new Date(a.getFullYear(),0,1);return Math.ceil(((a-b)/864e5+1)/7)},d.stringToDate=function(a,b){var h,k,l,m,c={},e=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],g=!0;for(-1!=(f=b.indexOf("AA"))&&(a.substr(f,2),"pm"==a.toLowerCase&&(g=!1)),f=b,l=0;l<e.length;l++)k=e[l].period,c[k]=0,"date"==k&&(c[k]=1);for(l=0;l<e.length;l++)h=e[l].pattern,k=e[l].period,-1!=b.indexOf(h)&&(m=d.getFromDateString(h,a,f),b=b.replace(h,""),"KK"!=h&&"K"!=h&&"LL"!=h&&"L"!=h||g||(m+=12),c[k]=m);return d.useUTC?((e=new Date).setUTCFullYear(c.year,c.month,c.date),e.setUTCHours(c.hours,c.minutes,c.seconds,c.milliseconds)):e=new Date(c.year,c.month,c.date,c.hours,c.minutes,c.seconds,c.milliseconds),e},d.getFromDateString=function(a,b,c){if(void 0!==b)return c=c.indexOf(a),b+="","0"==(b=b.substr(c,a.length)).charAt(0)&&(b=b.substr(1,b.length-1)),b=+b,isNaN(b)&&(b=0),-1!=a.indexOf("M")&&b--,b},d.formatDate=function(a,b,c){var e,g,f,h,k,l,m,n,q,p,t,r,w;return c||(c=d),q=d.getWeekNumber(a),d.useUTC?(e=a.getUTCFullYear(),g=a.getUTCMonth(),f=a.getUTCDate(),h=a.getUTCDay(),k=a.getUTCHours(),l=a.getUTCMinutes(),m=a.getUTCSeconds(),n=a.getUTCMilliseconds()):(e=a.getFullYear(),g=a.getMonth(),f=a.getDate(),h=a.getDay(),k=a.getHours(),l=a.getMinutes(),m=a.getSeconds(),n=a.getMilliseconds()),p=(e+"").substr(2,2),t="0"+h,b=b.replace(/W/g,q),24==(q=k)&&(q=0),10>(r=q)&&(r="0"+r),b=b.replace(/JJ/g,r),b=b.replace(/J/g,q),0===(r=k)&&(r=24,-1!=b.indexOf("H")&&0==--f&&((e=new Date(a)).setDate(e.getDate()-1),g=e.getMonth(),f=e.getDate(),e=e.getFullYear())),a=g+1,9>g&&(a="0"+a),q=f,10>f&&(q="0"+f),10>(w=r)&&(w="0"+w),b=b.replace(/HH/g,w),b=b.replace(/H/g,r),(r=k)>11&&(r-=12),10>(w=r)&&(w="0"+w),b=b.replace(/KK/g,w),b=b.replace(/K/g,r),0===(r=k)&&(r=12),r>12&&(r-=12),10>(w=r)&&(w="0"+w),b=b.replace(/LL/g,w),b=b.replace(/L/g,r),10>(r=l)&&(r="0"+r),b=b.replace(/NN/g,r),b=b.replace(/N/g,l),10>(l=m)&&(l="0"+l),b=b.replace(/SS/g,l),b=b.replace(/S/g,m),10>(m=n)?m="00"+m:100>m&&(m="0"+m),10>(l=n)&&(l="00"+l),b=b.replace(/A/g,"@A@"),b=b.replace(/QQQ/g,m),b=b.replace(/QQ/g,l),b=b.replace(/Q/g,n),b=b.replace(/YYYY/g,"@IIII@"),b=b.replace(/YY/g,"@II@"),b=b.replace(/MMMM/g,"@XXXX@"),b=b.replace(/MMM/g,"@XXX@"),b=b.replace(/MM/g,"@XX@"),b=b.replace(/M/g,"@X@"),b=b.replace(/DD/g,"@RR@"),b=b.replace(/D/g,"@R@"),b=b.replace(/EEEE/g,"@PPPP@"),b=b.replace(/EEE/g,"@PPP@"),b=b.replace(/EE/g,"@PP@"),b=b.replace(/E/g,"@P@"),b=b.replace(/@IIII@/g,e),b=b.replace(/@II@/g,p),b=b.replace(/@XXXX@/g,c.monthNames[g]),b=b.replace(/@XXX@/g,c.shortMonthNames[g]),b=b.replace(/@XX@/g,a),b=b.replace(/@X@/g,g+1),b=b.replace(/@RR@/g,q),b=b.replace(/@R@/g,f),b=b.replace(/@PPPP@/g,c.dayNames[h]),b=b.replace(/@PPP@/g,c.shortDayNames[h]),b=b.replace(/@PP@/g,t),b=b.replace(/@P@/g,h),b=12>k?b.replace(/@A@/g,c.amString):b.replace(/@A@/g,c.pmString)},d.changeDate=function(a,b,c,e,g){if(d.useUTC)return d.changeUTCDate(a,b,c,e,g);var f=-1;switch(void 0===e&&(e=!0),void 0===g&&(g=!1),!0===e&&(f=1),b){case"YYYY":a.setFullYear(a.getFullYear()+c*f),e||g||a.setDate(a.getDate()+1);break;case"MM":b=a.getMonth(),a.setMonth(a.getMonth()+c*f),a.getMonth()>b+c*f&&a.setDate(a.getDate()-1),e||g||a.setDate(a.getDate()+1);break;case"DD":a.setDate(a.getDate()+c*f);break;case"WW":a.setDate(a.getDate()+c*f*7);break;case"hh":a.setHours(a.getHours()+c*f);break;case"mm":a.setMinutes(a.getMinutes()+c*f);break;case"ss":a.setSeconds(a.getSeconds()+c*f);break;case"fff":a.setMilliseconds(a.getMilliseconds()+c*f)}return a},d.changeUTCDate=function(a,b,c,d,g){var f=-1;switch(void 0===d&&(d=!0),void 0===g&&(g=!1),!0===d&&(f=1),b){case"YYYY":a.setUTCFullYear(a.getUTCFullYear()+c*f),d||g||a.setUTCDate(a.getUTCDate()+1);break;case"MM":b=a.getUTCMonth(),a.setUTCMonth(a.getUTCMonth()+c*f),a.getUTCMonth()>b+c*f&&a.setUTCDate(a.getUTCDate()-1),d||g||a.setUTCDate(a.getUTCDate()+1);break;case"DD":a.setUTCDate(a.getUTCDate()+c*f);break;case"WW":a.setUTCDate(a.getUTCDate()+c*f*7);break;case"hh":a.setUTCHours(a.getUTCHours()+c*f);break;case"mm":a.setUTCMinutes(a.getUTCMinutes()+c*f);break;case"ss":a.setUTCSeconds(a.getUTCSeconds()+c*f);break;case"fff":a.setUTCMilliseconds(a.getUTCMilliseconds()+c*f)}return a}}(),function(){var e=window.AmCharts;e.AmRectangularChart=e.Class({inherits:e.AmCoordinateChart,construct:function(a){e.AmRectangularChart.base.construct.call(this,a),this.theme=a,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,e.applyTheme(this,a,"AmRectangularChart")},initChart:function(){e.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){if(e.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),e.ifArray(this.chartData)){var a=this.chartCursor;a&&a.draw()}},resetMargins:function(){var b,c,d,g,a={};if("xy"==this.type){for(c=this.xAxes,d=this.yAxes,b=0;b<c.length;b++)(g=c[b]).ignoreAxisWidth||(g.setOrientation(!0),g.fixAxisPosition(),a[g.position]=!0);for(b=0;b<d.length;b++)(c=d[b]).ignoreAxisWidth||(c.setOrientation(!1),c.fixAxisPosition(),a[c.position]=!0)}else{for(d=this.valueAxes,b=0;b<d.length;b++)(c=d[b]).ignoreAxisWidth||(c.setOrientation(this.rotate),c.fixAxisPosition(),a[c.position]=!0);(b=this.categoryAxis)&&!b.ignoreAxisWidth&&(b.setOrientation(!this.rotate),b.fixAxisPosition(),b.fixAxisPosition(),a[b.position]=!0)}a.left&&(this.marginLeft=0),a.right&&(this.marginRight=0),a.top&&(this.marginTop=0),a.bottom&&(this.marginBottom=0),this.fixMargins=a},measureMargins:function(){var m,a=this.valueAxes,c=this.autoMarginOffset,d=this.fixMargins,g=this.realWidth,h=this.realHeight,f=c,e=c,l=g,b=h;for(m=0;m<a.length;m++)a[m].handleSynchronization(),b=this.getAxisBounds(a[m],f,l,e,b),f=Math.round(b.l),l=Math.round(b.r),e=Math.round(b.t),b=Math.round(b.b);(a=this.categoryAxis)&&(b=this.getAxisBounds(a,f,l,e,b),f=Math.round(b.l),l=Math.round(b.r),e=Math.round(b.t),b=Math.round(b.b)),d.left&&c>f&&(this.marginLeft=Math.round(-f+c),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),d.right&&l>=g-c&&(this.marginRight=Math.round(l-g+c),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),d.top&&e<c+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-e+c+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),d.bottom&&b>h-c&&(this.marginBottom=Math.round(this.marginBottom+b-h+c),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(a,b,c,d,g){if(!a.ignoreAxisWidth){var h=a.labelsSet,f=a.tickLength;if(a.inside&&(f=0),h)switch(h=a.getBBox(),a.position){case"top":d>(a=h.y)&&(d=a);break;case"bottom":(a=h.y+h.height)>g&&(g=a);break;case"right":(a=h.x+h.width+f+3)>c&&(c=a);break;case"left":b>(a=h.x-f)&&(b=a)}}return{l:b,t:d,r:c,b:g}},drawZoomOutButton:function(){var b,c,d,g,h,f,k,l,m,p,n,u,a=this;if(!a.zbSet){for(b=a.container.set(),a.zoomButtonSet.push(b),c=a.color,d=a.fontSize,g=a.zoomOutButtonImageSize,h=a.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),f=a.langObj.zoomOutText||a.zoomOutText,k=a.zoomOutButtonColor,l=a.zoomOutButtonAlpha,m=a.zoomOutButtonFontSize,p=a.zoomOutButtonPadding,isNaN(m)||(d=m),(m=a.zoomOutButtonFontColor)&&(c=m),(m=a.zoomOutButton)&&(m.fontSize&&(d=m.fontSize),m.color&&(c=m.color),m.backgroundColor&&(k=m.backgroundColor),isNaN(m.backgroundAlpha)||(a.zoomOutButtonRollOverAlpha=m.backgroundAlpha)),u=m=0,u=a.pathToImages,h&&((e.isAbsolute(h)||void 0===u)&&(u=""),n=a.container.image(u+h+a.extension,0,0,g,g),e.setCN(a,n,"zoom-out-image"),b.push(n),m=(n=n.getBBox()).width+5),void 0!==f&&(c=e.text(a.container,f,c,a.fontFamily,d,"start"),e.setCN(a,c,"zoom-out-label"),d=c.getBBox(),u=n?n.height/2-3:d.height/2,c.translate(m,u),b.push(c)),n=b.getBBox(),c=1,e.isModern||(c=0),(k=e.rect(a.container,n.width+2*p+5,n.height+2*p-2,k,1,1,k,c)).setAttr("opacity",l),k.translate(-p,-p),e.setCN(a,k,"zoom-out-bg"),b.push(k),k.toBack(),a.zbBG=k,n=k.getBBox(),b.translate(a.marginLeftReal+a.plotAreaWidth-n.width+p,a.marginTopReal+p),b.hide(),b.mouseover(function(){a.rollOverZB()}).mouseout(function(){a.rollOutZB()}).click(function(){a.clickZB()}).touchstart(function(){a.rollOverZB()}).touchend(function(){a.rollOutZB(),a.clickZB()}),l=0;l<b.length;l++)b[l].attr({cursor:"pointer"});void 0!==a.zoomOutButtonTabIndex&&(b.setAttr("tabindex",a.zoomOutButtonTabIndex),b.setAttr("role","menuitem"),b.keyup(function(b){13==b.keyCode&&a.clickZB()})),a.zbSet=b}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var a=this.dx,b=this.dy,c=this.marginLeftReal,d=this.marginTopReal,g=this.plotAreaWidth-1,h=this.plotAreaHeight-1,f=this.plotAreaFillColors,k=this.plotAreaFillAlphas,l=this.plotAreaBorderColor,m=this.plotAreaBorderAlpha;"object"==typeof k&&(k=k[0]),f=e.polygon(this.container,[0,g,g,0,0],[0,0,h,h,0],f,k,1,l,m,this.plotAreaGradientAngle),e.setCN(this,f,"plot-area"),f.translate(c+a,d+b),this.set.push(f),0!==a&&0!==b&&("object"==typeof(f=this.plotAreaFillColors)&&(f=f[0]),f=e.adjustLuminosity(f,-.15),g=e.polygon(this.container,[0,a,g+a,g,0],[0,b,b,0,0],f,k,1,l,m),e.setCN(this,g,"plot-area-bottom"),g.translate(c,d+h),this.set.push(g),a=e.polygon(this.container,[0,0,a,a,0],[0,h,h+b,b,0],f,k,1,l,m),e.setCN(this,a,"plot-area-left"),a.translate(c,d),this.set.push(a)),(c=this.bbset)&&this.scrollbarOnly&&c.remove()},updatePlotArea:function(){var d,a=this.updateWidth(),b=this.updateHeight(),c=this.container;this.realWidth=a,this.realWidth=b,c&&this.container.setSize(a,b),c=this.marginLeftReal,d=this.marginTopReal,a=a-c-this.marginRightReal-this.dx,b=b-d-this.marginBottomReal,1>a&&(a=1),1>b&&(b=1),this.plotAreaWidth=Math.round(a),this.plotAreaHeight=Math.round(b),this.plotBalloonsSet.translate(c,d)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var a=this.getTitleHeight();this.titleHeight=a,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=a),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){var b,c,a=this.valueAxes;for(b=0;b<a.length;b++)c=a[b],this.setAxisRenderers(c),this.updateObjectSize(c)},setAxisRenderers:function(a){a.axisRenderer=e.RecAxis,a.guideFillRenderer=e.RecFill,a.axisItemRenderer=e.RecItem,a.marginsChanged=!0},updateGraphs:function(){var b,c,a=this.graphs;for(b=0;b<a.length;b++)(c=a[b]).index=b,c.rotate=this.rotate,this.updateObjectSize(c)},updateObjectSize:function(a){a.width=this.plotAreaWidth-1,a.height=this.plotAreaHeight-1,a.x=this.marginLeftReal,a.y=this.marginTopReal,a.dx=this.dx,a.dy=this.dy},updateChartCursor:function(){var a=this.chartCursor;a&&(a=e.processObject(a,e.ChartCursor,this.theme),this.updateObjectSize(a),this.addChartCursor(a),a.chart=this)},processScrollbars:function(){var a=this.chartScrollbar;a&&(a=e.processObject(a,e.ChartScrollbar,this.theme),this.addChartScrollbar(a))},updateScrollbars:function(){},removeChartCursor:function(){e.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){var b,c,a=this.trendLines;for(b=0;b<a.length;b++)(c=a[b]).valueAxis.recalculateToPercents?c.set&&c.set.hide():(c.x=this.marginLeftReal,c.y=this.marginTopReal,c.draw())},handleCursorValueZoom:function(){},addTrendLine:function(a){this.trendLines.push(a)},zoomOutValueAxes:function(){for(var a=this.valueAxes,b=0;b<a.length;b++)a[b].zoomOut()},removeTrendLine:function(a){var c,b=this.trendLines;for(c=b.length-1;c>=0;c--)b[c]==a&&b.splice(c,1)},adjustMargins:function(a,b){var c=a.position,d=a.scrollbarHeight+a.offset;a.enabled&&("top"==c?b?this.marginLeftReal+=d:this.marginTopReal+=d:b?this.marginRightReal+=d:this.marginBottomReal+=d)},getScrollbarPosition:function(a,b,c){var d="bottom",g="top";a.oppositeAxis||(g=d,d="top"),a.position=b?"bottom"==c||"left"==c?d:g:"top"==c||"right"==c?d:g},updateChartScrollbar:function(a,b){if(a){a.rotate=b;var c=this.marginTopReal,d=this.marginLeftReal,g=a.scrollbarHeight,h=this.dx,f=this.dy,e=a.offset;"top"==a.position?b?(a.y=c,a.x=d-g-e):(a.y=c-g+f-e,a.x=d+h):b?(a.y=c+f,a.x=d+this.plotAreaWidth+h+e):(a.y=c+this.plotAreaHeight+e,a.x=this.marginLeftReal)}},showZB:function(a){var b=this.zbSet;a&&""!==(b=this.zoomOutText)&&b&&this.drawZoomOutButton(),(b=this.zbSet)&&(this.zoomButtonSet.push(b),a?b.show():b.hide(),this.rollOutZB())},handleReleaseOutside:function(a){e.AmRectangularChart.base.handleReleaseOutside.call(this,a),(a=this.chartCursor)&&a.handleReleaseOutside&&a.handleReleaseOutside()},handleMouseDown:function(a){e.AmRectangularChart.base.handleMouseDown.call(this,a);var b=this.chartCursor;b&&b.handleMouseDown&&!this.rolledOverZB&&b.handleMouseDown(a)},update:function(){e.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(a){this.relativeZoomValueAxes(a.target.valueAxes,a.relativeStart,a.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(a){if(a&&a.enabled){var b=a.valueAxes[0],c=b.relativeStart,d=b.relativeEnd;b.reversed&&(d=1-c,c=1-b.relativeEnd),a.percentZoom(c,d)}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var b,a=this.valueAxes;for(b=0;b<a.length;b++)a[b].zoom(this.start,this.end);for(a=this.graphs,b=0;b<a.length;b++)a[b].zoom(this.start,this.end);(b=this.chartCursor)&&b.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(a,b){var g;(c=a.relativeStart)>(d=a.relativeEnd)&&(g=c,c=d,d=g),this.relativeZoomValueAxes(b,c,d),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(a,b,c){var d,g,h;if(this.hideBalloonReal(),b=e.fitToBounds(b,0,1),c=e.fitToBounds(c,0,1),b>c&&(d=b,b=c,c=d),d=1/this.maxZoomFactor,g=e.getDecimals(d)+4,d>c-b&&(c=b+(c-b)/2,b=c-d/2,(c+=d/2)>1&&(b-=c-1,c=1),0>b&&(b=0,c=d)),b=e.roundTo(b,g),c=e.roundTo(c,g),d=!1,a){for(g=0;g<a.length;g++)(h=a[g].zoomToRelativeValues(b,c,!0))&&(d=h);this.showZB()}return d},addChartCursor:function(a){e.callMethod("destroy",[this.chartCursor]),a&&(this.listenTo(a,"moved",this.handleCursorMove),this.listenTo(a,"zoomed",this.handleCursorZoom),this.listenTo(a,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(a,"panning",this.handleCursorPanning),this.listenTo(a,"onHideCursor",this.handleCursorHide)),this.chartCursor=a},handleCursorChange:function(){},handleCursorMove:function(a){var b,d,c=this.valueAxes;for(b=0;b<c.length;b++)a.panning||(d=c[b])&&d.showBalloon&&d.showBalloon(a.x,a.y)},handleCursorZoom:function(a){if(this.skipZoomed)this.skipZoomed=!1;else{var b=this.startX0,c=this.endX0,d=this.endY0,g=this.startY0,e=a.startX,f=a.endX,k=a.startY,l=a.endY;this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(b+e*(c-b),b+f*(c-b),g+k*(d-g),g+l*(d-g),a)}},handleCursorHide:function(){var a,b=this.valueAxes;for(a=0;a<b.length;a++)b[a].hideBalloon();for(b=this.graphs,a=0;a<b.length;a++)b[a].hideBalloonReal()}})}(),function(){var e=window.AmCharts;e.AmSerialChart=e.Class({inherits:e.AmRectangularChart,construct:function(a){this.type="serial",e.AmSerialChart.base.construct.call(this,a),this.cname="AmSerialChart",this.theme=a,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var b=new e.CategoryAxis(a);b.chart=this,this.categoryAxis=b,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,e.applyTheme(this,a,this.cname)},initChart:function(){e.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){var d,g,a=this.countColumns(),b=this.chartData,c=this.graphs;for(d=0;d<c.length;d++)(g=c[d]).data=b,g.columnCount=a;b.length>0&&(this.firstTime=this.getStartTime(b[0].time),this.lastTime=this.getEndTime(b[b.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){var a,b,c,d,g,h,f;if(this.synchronizeGrid&&(a=this.valueAxes).length>0){for(d=0,c=0;c<a.length;c++)b=a[c],d<b.gridCountReal&&(d=b.gridCountReal);for(g=!1,c=0;c<a.length;c++)(b=a[c]).gridCountReal<d&&(f=g=h=(d-b.gridCountReal)/2,0!=h-Math.round(h)&&(g-=.5,f+=.5),b.min>=0&&0>b.min-g*b.step&&(f+=g,g=0),0>=b.max&&b.max+f*b.step>0&&(g+=f,f=0),h=e.getDecimals(b.step),b.minimum=e.roundTo(b.min-g*b.step,h),b.maximum=e.roundTo(b.max+f*b.step,h),b.setStep=b.step,g=b.strictMinMax=!0);for(g&&this.updateAfterValueZoom(),c=0;c<a.length;c++)b=a[c],b.minimum=NaN,b.maximum=NaN,b.setStep=NaN,b.strictMinMax=!1}},handleWheelReal:function(a,b){var c,d,g,e,f,k,l;this.wheelBusy||(d=(c=this.categoryAxis).parseDates,g=c.minDuration(),e=1,f=1,this.mouseWheelZoomEnabled?b||(e=-1):b&&(e=-1),(k=this.chartCursor)&&(l=k.mouseX,k=k.mouseY,e!=f&&(l=this.rotate?k/this.plotAreaHeight:l/this.plotAreaWidth,e*=l,f*=1-l),l=.05*(this.end-this.start),d&&(l=.05*(this.endTime-this.startTime)/g),1>l&&(l=1),e*=l,f*=l,d&&!c.equalSpacing||(e=Math.round(e),f=Math.round(f))),k=this.chartData.length,c=this.lastTime,l=this.firstTime,0>a?d?(k=this.endTime-this.startTime,d=this.startTime+e*g,g=this.endTime+f*g,f>0&&e>0&&g>=c&&(g=c,d=c-k),this.zoomToDates(new Date(d),new Date(g))):(f>0&&e>0&&this.end>=k-1&&(e=f=0),d=this.start+e,g=this.end+f,this.zoomToIndexes(d,g)):d?(k=this.endTime-this.startTime,d=this.startTime-e*g,g=this.endTime-f*g,f>0&&e>0&&l>=d&&(d=l,g=l+k),this.zoomToDates(new Date(d),new Date(g))):(f>0&&e>0&&1>this.start&&(e=f=0),d=this.start-e,g=this.end-f,this.zoomToIndexes(d,g)))},validateData:function(a){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!a&&(this.endTime=this.end=this.startTime=this.start=NaN);var b=a=!1,c=!1,d=this.chartScrollbar;d&&(d.dragging&&(a=!0,d.handleDragStop()),d.resizingRight&&(c=!0,d.rightDragStop()),d.resizingLeft&&(b=!0,d.leftDragStop())),e.AmSerialChart.base.validateData.call(this),a&&d.handleDragStart(),c&&d.rightDragStart(),b&&d.leftDragStart()},drawChart:function(){var a,b,c,d;this.realWidth>0&&this.realHeight>0?(e.AmSerialChart.base.drawChart.call(this),a=this.chartData,e.ifArray(a)&&(!(b=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||b.draw(),(b=this.valueScrollbar)&&b.draw(),b=a.length-1,(c=this.categoryAxis).parseDates&&!c.equalSpacing?(c=this.startTime,d=this.endTime,(isNaN(c)||isNaN(d))&&(c=this.firstTime,d=this.lastTime)):(c=this.start,d=this.end,(isNaN(c)||isNaN(d))&&(d=c=NaN),isNaN(c)&&(isNaN(this.startTime)||(c=this.getClosestIndex(a,"time",this.startTime,!0,0,a.length))),isNaN(d)&&(isNaN(this.endTime)||(d=this.getClosestIndex(a,"time",this.endTime,!1,0,a.length))),(isNaN(c)||isNaN(d))&&(c=0,d=b)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(c,d))):this.cleanChart()},cleanChart:function(){e.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(a,b,c){a.chart=this,a.id=c,a.rotate=b,a.setOrientation(!this.rotate),a.init(),this.setAxisRenderers(a),this.updateObjectSize(a)},updateValueAxes:function(){var a,b,c,d;for(e.AmSerialChart.base.updateValueAxes.call(this),a=this.valueAxes,b=0;b<a.length;b++)c=a[b],d=this.rotate,c.rotate=d,c.setOrientation(d),(d=this.categoryAxis).startOnAxis&&!d.parseDates||(c.expandMinMax=!0)},getStartTime:function(a){var b=this.categoryAxis;return e.resetDateToMin(new Date(a),b.minPeriod,1,b.firstDayOfWeek).getTime()},getEndTime:function(a){var b=e.extractPeriod(this.categoryAxis.minPeriod);return e.changeDate(new Date(a),b.period,b.count,!0).getTime()-1},updateMargins:function(){e.AmSerialChart.base.updateMargins.call(this);var a=this.chartScrollbar;a&&(this.getScrollbarPosition(a,this.rotate,this.categoryAxis.position),this.adjustMargins(a,this.rotate)),(a=this.valueScrollbar)&&(this.getScrollbarPosition(a,!this.rotate,this.valueAxes[0].position),this.adjustMargins(a,!this.rotate))},updateScrollbars:function(){e.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(a,b){var c=this.categoryAxis;c.parseDates&&!c.equalSpacing?(this.timeZoom(a,b),isNaN(a)&&this.zoomOutValueAxes()):this.indexZoom(a,b),(c=this.chartCursor)&&(c.pan||c.hideCursorReal()),this.updateLegendValues()},timeZoom:function(a,b){var d,g,h,f,k,c=this.maxSelectedTime;isNaN(c)||(b!=this.endTime&&b-a>c&&(a=b-c),a!=this.startTime&&b-a>c&&(b=a+c)),(d=this.minSelectedTime)>0&&d>b-a&&(a=(g=Math.round(a+(b-a)/2))-(d=Math.round(d/2)),b=g+d),d=this.chartData,g=this.categoryAxis,!e.ifArray(d)||a==this.startTime&&b==this.endTime||(h=g.minDuration(),f=this.firstTime,k=this.lastTime,a||(a=f,isNaN(c)||(a=k-c)),b||(b=k),a>k&&(a=k),f>b&&(b=f),f>a&&(a=f),b>k&&(b=k),a>b&&(b=a+h),h/5>b-a&&(k>b?b=a+h/5:a=b-h/5),this.startTime=a,this.endTime=b,c=d.length-1,h=this.getClosestIndex(d,"time",a,!0,0,c),d=this.getClosestIndex(d,"time",b,!1,h,c),g.timeZoom(a,b),g.zoom(h,d),this.start=e.fitToBounds(h,0,c),this.end=e.fitToBounds(d,0,c),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent())},showZB:function(){var a,b=this.categoryAxis;b&&b.parseDates&&!b.equalSpacing&&(this.startTime>this.firstTime&&(a=!0),this.endTime<this.lastTime&&(a=!0)),this.start>0&&(a=!0),this.end<this.chartData.length-1&&(a=!0),(b=this.valueAxes)&&(b=b[0],isNaN(b.relativeStart)||(0!==e.roundTo(b.relativeStart,3)&&(a=!0),1!=e.roundTo(b.relativeEnd,3)&&(a=!0))),e.AmSerialChart.base.showZB.call(this,a)},updateAfterValueZoom:function(){e.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(a,b){var g,c=this.maxSelectedSeries,d=!1;isNaN(c)||(b!=this.end&&b-a>c&&(a=b-c,d=!0),a!=this.start&&b-a>c&&(b=a+c,d=!0)),d&&(d=this.chartScrollbar)&&d.dragger&&(g=d.dragger.getBBox(),d.maxWidth=g.width,d.maxHeight=g.height),a==this.start&&b==this.end||(d=this.chartData.length-1,isNaN(a)&&(a=0,isNaN(c)||(a=d-c)),isNaN(b)&&(b=d),a>b&&(b=a),b>d&&(b=d),a>d&&(a=d-1),0>a&&(a=0),this.start=a,this.end=b,this.categoryAxis.zoom(a,b),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==a||b!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){var a,b,c;for(e.AmSerialChart.base.updateGraphs.call(this),a=this.graphs,b=0;b<a.length;b++)(c=a[b]).columnWidthReal=this.columnWidth,c.categoryAxis=this.categoryAxis,e.isString(c.fillToGraph)&&(c.fillToGraph=this.graphsById[c.fillToGraph])},zoomAxesAndGraphs:function(){e.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){var a,b,c,d,g;if(0!==this.depth3D||0!==this.angle){for(b=this.graphs,this.columnsArray=[],a=0;a<b.length;a++)if(c=b[a],d=c.columnsArray)for(g=0;g<d.length;g++)this.columnsArray.push(d[g]);if(this.columnsArray.sort(this.compareDepth),b=this.columnsSet,this.columnsArray.length>0){for(d=this.container.set(),this.columnSet.push(d),a=0;a<this.columnsArray.length;a++)d.push(this.columnsArray[a].column.set);c&&d.translate(c.x,c.y),this.columnsSet=d}e.remove(b)}},compareDepth:function(a,b){return a.depth>b.depth?1:-1},zoomScrollbar:function(){var c,a=this.chartScrollbar,b=this.categoryAxis;a&&(this.zoomedByScrollbar||(c=a.dragger)&&c.stop(),this.zoomedByScrollbar=!1,b.parseDates&&!b.equalSpacing?a.timeZoom(this.startTime,this.endTime):a.zoom(this.start,this.end)),this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){var b,c,a=this.trendLines;for(b=0;b<a.length;b++)c=a[b],c=e.processObject(c,e.TrendLine,this.theme),a[b]=c,c.chart=this,c.id||(c.id="trendLineAuto"+b+"_"+(new Date).getTime()),e.isString(c.valueAxis)&&(c.valueAxis=this.getValueAxisById(c.valueAxis)),c.valueAxis||(c.valueAxis=this.valueAxes[0]),c.categoryAxis=this.categoryAxis},validateNow:function(a,b){a&&this.zoomOutOnDataUpdate&&(this.endTime=this.end=this.startTime=this.start=NaN),e.AmSerialChart.base.validateNow.call(this,a,b)},countColumns:function(){var d,g,f,k,l,m,a=0,b=this.valueAxes.length,c=this.graphs.length,e=!1;for(k=0;b>k;k++){if(g=this.valueAxes[k],l=g.stackType,m=0,"100%"==l||"regular"==l)for(e=!1,f=0;c>f;f++)d=this.graphs[f],d.tcc=1,d.valueAxis==g&&"column"==d.type&&(!e&&d.stackable&&(a++,e=!0),(!d.stackable&&d.clustered||d.newStack&&0!==m)&&a++,d.columnIndex=a-1,d.clustered||(d.columnIndex=0),m++);if("none"==l||"3d"==l){for(m=!1,f=0;c>f;f++)(d=this.graphs[f]).valueAxis==g&&"column"==d.type&&(d.clustered?(d.tcc=1,d.newStack&&(a=0),d.hidden||(d.columnIndex=a,a++)):d.hidden||(m=!0,d.tcc=1,d.columnIndex=0));m&&0===a&&(a=1)}if("3d"==l){for(g=1,m=0;c>m;m++)(d=this.graphs[m]).newStack&&g++,d.depthCount=g,d.tcc=a;a=g}}return a},parseData:function(){e.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(a){var c,b=this.chartData;for(c=0;c<b.length;c++)if(b[c].category==a)return c},handleScrollbarZoom:function(a){this.zoomedByScrollbar=!0,this.zoom(a.start,a.end)},dispatchTimeZoomEvent:function(){var a,b,c;!this.drawGraphs||this.prevStartTime==this.startTime&&this.prevEndTime==this.endTime||((a={type:"zoomed"}).startDate=new Date(this.startTime),a.endDate=new Date(this.endTime),a.startIndex=this.start,a.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=a.startDate,this.endDate=a.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime,b=this.categoryAxis,c=e.extractPeriod(b.minPeriod).period,b=b.dateFormatsObject[c],a.startValue=e.formatDate(a.startDate,b,this),a.endValue=e.formatDate(a.endDate,b,this),a.chart=this,a.target=this,this.fire(a))},dispatchIndexZoomEvent:function(){var a,b;!this.drawGraphs||this.prevStartIndex==this.start&&this.prevEndIndex==this.end||(this.startIndex=this.start,this.endIndex=this.end,a=this.chartData,!e.ifArray(a)||isNaN(this.start)||isNaN(this.end)||((b={chart:this,target:this,type:"zoomed"}).startIndex=this.start,b.endIndex=this.end,b.startValue=a[this.start].category,b.endValue=a[this.end].category,this.categoryAxis.parseDates&&(this.startTime=a[this.start].time,this.endTime=a[this.end].time,b.startDate=new Date(this.startTime),b.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(b)))},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(a,b,c,d,g,e){0>g&&(g=0),e>a.length-1&&(e=a.length-1);var f=g+Math.round((e-g)/2),k=a[f][b];return c==k?f:e-g>1?c==k?f:k>c?this.getClosestIndex(a,b,c,d,g,f):this.getClosestIndex(a,b,c,d,f,e):d?g:Math.abs(a[g][b]-c)<Math.abs(a[e][b]-c)?g:e},zoomToIndexes:function(a,b){var d,c=this.chartData;c&&(d=c.length)>0&&(0>a&&(a=0),b>d-1&&(b=d-1),(d=this.categoryAxis).parseDates&&!d.equalSpacing?this.zoom(c[a].time,this.getEndTime(c[b].time)):this.zoom(a,b))},zoomToDates:function(a,b){var d,c=this.chartData;c&&(this.categoryAxis.equalSpacing?(d=this.getClosestIndex(c,"time",a.getTime(),!0,0,c.length),b=e.resetDateToMin(b,this.categoryAxis.minPeriod,1),c=this.getClosestIndex(c,"time",b.getTime(),!1,0,c.length),this.zoom(d,c)):this.zoom(a.getTime(),b.getTime()))},zoomToCategoryValues:function(a,b){this.chartData&&this.zoom(this.getCategoryIndexByValue(a),this.getCategoryIndexByValue(b))},formatPeriodString:function(a,b){var c,d,g,h,f,k,l,m,p,n,u,v,x,E,t,r,B,q,w,y,C,F,D,A,z;if(b)for(b.periodDataItem={},b.periodPercentDataItem={},c=["value","open","low","high","close"],d="value open low high close average sum count".split(" "),g=b.valueAxis,h=this.chartData,(f=b.numberFormatter)||(f=this.nf),k=0;k<c.length;k++){for(l=c[k],m=0,p=0,n=0,u=0,F=this.start;F<=this.end;F++)(D=h[F])&&(A=D.axes[g.id].graphs[b.id])&&(A.values&&(z=A.values[l],D=D.x.categoryAxis,this.rotate?(0>D||D>A.graph.height)&&(z=NaN):(0>D||D>A.graph.width)&&(z=NaN),isNaN(z)||(isNaN(v)&&(v=z),x=z,(isNaN(E)||E>z)&&(E=z),(isNaN(t)||z>t)&&(t=z),r=e.getDecimals(m),D=e.getDecimals(z),m+=z,r=(m=e.roundTo(m,Math.max(r,D)))/++p)),A.percents&&(A=A.percents[l],!isNaN(A))&&(isNaN(B)&&(B=A),q=A,(isNaN(w)||w>A)&&(w=A),(isNaN(y)||A>y)&&(y=A),C=e.getDecimals(n),z=e.getDecimals(A),n+=A,C=(n=e.roundTo(n,Math.max(C,z)))/++u));m={open:v,close:x,high:t,low:E,average:r,sum:m,count:p},n={open:B,close:q,high:y,low:w,average:C,sum:n,count:u},a=e.formatValue(a,m,d,f,l+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),a=e.formatValue(a,n,d,this.pf,"percents\\."+l+"\\."),b.periodDataItem[l]=m,b.periodPercentDataItem[l]=n}return a=e.cleanFromEmpty(a)},formatString:function(a,b,c){var d,g,h,f;if(b)return d=b.graph,void 0!==a&&(-1!=a.indexOf("[[category]]")&&(g=b.serialDataItem.category,this.categoryAxis.parseDates&&(h=this.balloonDateFormat,(f=this.chartCursor)&&f.categoryBalloonDateFormat&&(h=f.categoryBalloonDateFormat),-1!=(h=e.formatDate(g,h,this)).indexOf("fff")&&(h=e.formatMilliseconds(h,g)),g=h),a=a.replace(/\[\[category\]\]/g,g.replace("$","$$$")+"")),(g=d.numberFormatter)||(g=this.nf),(f=(h=b.graph.valueAxis).duration)&&!isNaN(b.values.value)&&(f=e.formatDuration(b.values.value,f,"",h.durationUnits,h.maxInterval,g),a=a.replace(RegExp("\\[\\[value\\]\\]","g"),f)),"date"==h.type&&(h=e.formatDate(new Date(b.values.value),d.dateFormat,this),f=RegExp("\\[\\[value\\]\\]","g"),a=a.replace(f,h),h=e.formatDate(new Date(b.values.open),d.dateFormat,this),f=RegExp("\\[\\[open\\]\\]","g"),a=a.replace(f,h)),d="value open low high close total".split(" "),h=this.pf,a=e.formatValue(a,b.percents,d,h,"percents\\."),a=e.formatValue(a,b.values,d,g,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(a=e.formatValue(a,b.values,["percents"],h)).indexOf("[[")&&(a=e.formatDataContextValue(a,b.dataContext)),-1!=a.indexOf("[[")&&b.graph.customData&&(a=e.formatDataContextValue(a,b.graph.customData)),a=e.AmSerialChart.base.formatString.call(this,a,b,c)),a},updateChartCursor:function(){var a,b,c,d,g,h,f,k;if(e.AmSerialChart.base.updateChartCursor.call(this),a=this.chartCursor,b=this.categoryAxis,a){if(c=a.categoryBalloonAlpha,d=a.categoryBalloonColor,g=a.color,void 0===d&&(d=a.cursorColor),h=a.valueZoomable,f=a.zoomable,k=a.valueLineEnabled,this.rotate?(a.vLineEnabled=k,a.hZoomEnabled=h,a.vZoomEnabled=f):(a.hLineEnabled=k,a.vZoomEnabled=h,a.hZoomEnabled=f),a.valueLineBalloonEnabled)for(k=0;k<this.valueAxes.length;k++)h=this.valueAxes[k],(f=h.balloon)||(f={}),f=e.extend(f,this.balloon,!0),f.fillColor=d,f.balloonColor=d,f.fillAlpha=c,f.borderColor=d,f.color=g,h.balloon=f;else for(f=0;f<this.valueAxes.length;f++)(h=this.valueAxes[f]).balloon&&(h.balloon=null);b&&(b.balloonTextFunction=a.categoryBalloonFunction,a.categoryLineAxis=b,b.balloonText=a.categoryBalloonText,a.categoryBalloonEnabled&&((f=b.balloon)||(f={}),f=e.extend(f,this.balloon,!0),f.fillColor=d,f.balloonColor=d,f.fillAlpha=c,f.borderColor=d,f.color=g,b.balloon=f),b.balloon&&(b.balloon.enabled=a.categoryBalloonEnabled))}},addChartScrollbar:function(a){e.callMethod("destroy",[this.chartScrollbar]),a&&(a.chart=this,this.listenTo(a,"zoomed",this.handleScrollbarZoom)),this.rotate?void 0===a.width&&(a.width=a.scrollbarHeight):void 0===a.height&&(a.height=a.scrollbarHeight),a.gridAxis=this.categoryAxis,this.chartScrollbar=a},addValueScrollbar:function(a){e.callMethod("destroy",[this.valueScrollbar]),a&&(a.chart=this,this.listenTo(a,"zoomed",this.handleScrollbarValueZoom),this.listenTo(a,"zoomStarted",this.handleCursorZoomStarted));var b=a.scrollbarHeight;this.rotate?void 0===a.height&&(a.height=b):void 0===a.width&&(a.width=b),a.gridAxis||(a.gridAxis=this.valueAxes[0]),a.valueAxes=this.valueAxes,this.valueScrollbar=a},removeChartScrollbar:function(){e.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){e.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(a){e.AmSerialChart.base.handleReleaseOutside.call(this,a),e.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){e.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){e.AmSerialChart.base.processScrollbars.call(this);var a=this.valueScrollbar;a&&(a=e.processObject(a,e.ChartScrollbar,this.theme),a.id="valueScrollbar",this.addValueScrollbar(a))},handleValueAxisZoom:function(a){this.handleValueAxisZoomReal(a,this.valueAxes)},zoomOut:function(){e.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(a){var b=a.index,c=this.chartData,d=a.graph;if(b+1<c.length)for(b+=1;b<c.length;b++)if((a=c[b])&&(a=a.axes[d.valueAxis.id].graphs[d.id],!isNaN(a.y)))return a},handleCursorZoomReal:function(a,b,c,d,e){var f,k,h=e.target;this.rotate?(isNaN(a)||isNaN(b)||this.relativeZoomValueAxes(this.valueAxes,a,b)&&this.updateAfterValueZoom(),h.vZoomEnabled&&(f=e.start,k=e.end)):(isNaN(c)||isNaN(d)||this.relativeZoomValueAxes(this.valueAxes,c,d)&&this.updateAfterValueZoom(),h.hZoomEnabled&&(f=e.start,k=e.end)),isNaN(f)||isNaN(k)||((a=this.categoryAxis).parseDates&&!a.equalSpacing?this.zoomToDates(new Date(f),new Date(k)):this.zoomToIndexes(f,k))},handleCursorZoomStarted:function(){var b,c;(a=this.valueAxes)&&(b=(a=a[0]).relativeStart,c=a.relativeEnd,a.reversed&&(b=1-a.relativeEnd,c=1-a.relativeStart),this.rotate?(this.startX0=b,this.endX0=c):(this.startY0=b,this.endY0=c)),this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(a){var b,c,d,g,h,f,k,l,m,p,n;if(e.AmSerialChart.base.handleCursorMove.call(this,a),b=a.target,c=this.categoryAxis,a.panning)this.handleCursorHide(a);else if(this.chartData&&!b.isHidden){if((d=this.graphs)&&(g=c.xToIndex(this.rotate?a.y:a.x),g=this.chartData[g])){if(b.oneBalloonOnly&&b.valueBalloonsEnabled){for(m=Infinity,h=d.length-1;h>=0;h--)if((f=d[h]).balloon.enabled&&f.showBalloon&&!f.hidden){if(k=f.valueAxis.id,k=g.axes[k].graphs[f.id],b.showNextAvailable&&isNaN(k.y)&&!(k=this.getNextItem(k)))continue;k=k.y,"top"==f.showBalloonAt&&(k=0),"bottom"==f.showBalloonAt&&(k=this.height),p=b.mouseX,n=b.mouseY,m>(k=this.rotate?Math.abs(p-k):Math.abs(n-k))&&(m=k,l=f)}b.mostCloseGraph=l}if(this.prevCursorItem!=g||l!=this.prevMostCloseGraph){for(m=[],h=0;h<d.length;h++)k=(f=d[h]).valueAxis.id,k=g.axes[k].graphs[f.id],b.showNextAvailable&&isNaN(k.y)&&!(k=this.getNextItem(k))&&f.balloon?f.balloon.hide():l&&f!=l?(f.showGraphBalloon(k,b.pointer,!1,b.graphBulletSize,b.graphBulletAlpha),f.balloon.hide(0)):b.valueBalloonsEnabled?(f.balloon.showBullet=b.bulletsEnabled,f.balloon.bulletSize=b.bulletSize/2,a.hideBalloons||(f.showGraphBalloon(k,b.pointer,!1,b.graphBulletSize,b.graphBulletAlpha),f.balloon.set&&m.push({balloon:f.balloon,y:f.balloon.pointToY}))):(f.currentDataItem=k,f.resizeBullet(k,b.graphBulletSize,b.graphBulletAlpha));b.avoidBalloonOverlapping&&this.arrangeBalloons(m),this.prevCursorItem=g}this.prevMostCloseGraph=l}d=e.fitToBounds(a.x,0,b.width),l=e.fitToBounds(a.y,0,b.height),c.showBalloon(d,l,b.categoryBalloonDateFormat,a.skip),this.updateLegendValues()}},handleCursorHide:function(a){e.AmSerialChart.base.handleCursorHide.call(this,a),a=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),a&&a.hideBalloon(),a=this.graphs;var b;for(b=0;b<a.length;b++)a[b].currentDataItem=null},handleCursorPanning:function(a){var c,k,l,m,p,n,b=a.target,d=a.deltaX,g=a.deltaY,h=a.delta2X,f=a.delta2Y;a=!1,this.rotate?(isNaN(h)&&(h=d,a=!0),k=this.endX0,k-=(l=k-(c=this.startX0))*h,m=l,a||(m=0),a=e.fitToBounds(c-l*d,0,1-m)):(isNaN(f)&&(f=g,a=!0),k=this.endY0,c=this.startY0,l=k-c,k+=l*g,m=l,a||(m=0),a=e.fitToBounds(c+l*f,0,1-m)),c=e.fitToBounds(k,m,1),b.valueZoomable&&(p=this.relativeZoomValueAxes(this.valueAxes,a,c)),c=this.categoryAxis,this.rotate&&(d=g,h=f),a=!1,isNaN(h)&&(h=d,a=!0),b.zoomable&&(Math.abs(d)>0||Math.abs(h)>0)&&(c.parseDates&&!c.equalSpacing?(f=this.startTime0,h*=c=(g=this.endTime0)-f,l=this.firstTime,k=this.lastTime,m=c,a||(m=0),a=Math.round(e.fitToBounds(f-c*d,l,k-m)),h=Math.round(e.fitToBounds(g-h,l+m,k)),(this.startTime!=a||this.endTime!=h)&&(n={chart:this,target:b,type:"zoomed",start:a,end:h},this.skipZoomed=!0,b.fire(n),this.zoom(a,h),n=!0)):(f=this.start0,g=this.end0,c=g-f,d=Math.round(c*d),h=Math.round(c*h),l=this.chartData.length-1,a||(c=0),a=e.fitToBounds(f-d,0,l-c),c=e.fitToBounds(g-h,c,l),(this.start!=a||this.end!=c)&&(this.skipZoomed=!0,b.fire({chart:this,target:b,type:"zoomed",start:a,end:c}),this.zoom(a,c),n=!0))),!n&&p&&this.updateAfterValueZoom()},arrangeBalloons:function(a){var c,d,e,h,f,k,b=this.plotAreaHeight;for(a.sort(this.compareY),h=this.plotAreaWidth,f=a.length,c=0;f>c;c++)(d=a[c].balloon).setBounds(0,0,h,b),d.restorePrevious(),d.draw(),b=d.yPos-3;for(a.reverse(),c=0;f>c;c++)b=(d=a[c].balloon).bottom,k=d.bottom-d.yPos,c>0&&e+3>b-k&&d.setBounds&&(d.setBounds(0,e+3,h,e+k+3),d.restorePrevious(),d.draw()),d.set&&d.set.show(),e=d.bottom},compareY:function(a,b){return a.y<b.y?1:-1}})}(),function(){var e=window.AmCharts;e.Cuboid=e.Class({construct:function(a,b,c,d,e,h,f,k,l,m,p,n,u,v,x,E,t){this.set=a.set(),this.container=a,this.h=Math.round(c),this.w=Math.round(b),this.dx=d,this.dy=e,this.colors=h,this.alpha=f,this.bwidth=k,this.bcolor=l,this.balpha=m,this.dashLength=v,this.topRadius=E,this.pattern=x,this.rotate=u,this.bcn=t,u?0>b&&0===p&&(p=180):0>c&&270==p&&(p=90),this.gradientRotation=p,0===d&&0===e&&(this.cornerRadius=n),this.draw()},draw:function(){var b,c,d,g,h,f,k,l,m,p,n,u,v,x,E,t,r,B,q,w,y,C,F,D,A,z,L,M,Q,G,H,I,J,K,N,O,P,a=this.set;for(a.clear(),c=(b=this.container).chart,d=this.w,g=this.h,h=this.dx,f=this.dy,k=this.colors,l=this.alpha,m=this.bwidth,p=this.bcolor,n=this.balpha,u=this.gradientRotation,v=this.cornerRadius,x=this.dashLength,E=this.pattern,t=this.topRadius,r=this.bcn,B=k,q=k,"object"==typeof k&&(B=k[0],q=k[k.length-1]),Q=l,E&&(l=0),K=this.rotate,(Math.abs(h)>0||Math.abs(f)>0)&&(isNaN(t)?(z=q,q=e.adjustLuminosity(B,-.2),q=e.adjustLuminosity(B,-.2),w=e.polygon(b,[0,h,d+h,d,0],[0,f,f,0,0],q,l,1,p,0,u),n>0&&(M=e.line(b,[0,h,d+h],[0,f,f],p,n,m,x)),(y=e.polygon(b,[0,0,d,d,0],[0,g,g,0,0],q,l,1,p,0,u)).translate(h,f),n>0&&(C=e.line(b,[h,h],[f,f+g],p,n,m,x)),F=e.polygon(b,[0,0,h,h,0],[0,g,g+f,f,0],q,l,1,p,0,u),D=e.polygon(b,[d,d,d+h,d+h,d],[0,g,g+f,f,0],q,l,1,p,0,u),n>0&&(A=e.line(b,[d,d+h,d+h,d],[0,f,g+f,g],p,n,m,x)),q=e.adjustLuminosity(z,.2),z=e.polygon(b,[0,h,d+h,d,0],[g,g+f,g+f,g,g],q,l,1,p,0,u),n>0&&(L=e.line(b,[0,h,d+h],[g,g+f,g+f],p,n,m,x))):(K?(N=g/2,q=h/2,P=g/2,O=d+h/2,H=Math.abs(g/2),G=Math.abs(h/2)):(q=d/2,N=f/2,O=d/2,P=g+f/2+1,G=Math.abs(d/2),H=Math.abs(f/2)),I=G*t,J=H*t,G>.1&&G>.1&&(w=e.circle(b,G,B,l,m,p,n,!1,H)).translate(q,N),I>.1&&I>.1&&(z=e.circle(b,I,e.adjustLuminosity(B,.5),l,m,p,n,!1,J)).translate(O,P))),l=Q,1>Math.abs(g)&&(g=0),1>Math.abs(d)&&(d=0),isNaN(t)||0>=Math.abs(h)&&0>=Math.abs(f)?b=0===g?e.line(b,[0,d],[0,0],p,n,m,x):0===d?e.line(b,[0,0],[0,g],p,n,m,x):v>0?e.rect(b,d,g,k,l,m,p,n,v,u,x):e.polygon(b,[0,0,d,d,0],[0,g,g,0,0],k,l,m,p,n,u,!1,x):(k=[B],k={fill:k,stroke:p,"stroke-width":m,"stroke-opacity":n,"fill-opacity":l},K?(l="M0,0 L"+d+","+(g/2-g/2*t),m=" B",d>0&&(m=" A"),e.VML?(l+=m+Math.round(d-I)+","+Math.round(g/2-J)+","+Math.round(d+I)+","+Math.round(g/2+J)+","+d+",0,"+d+","+g,l=l+" L0,"+g+(m+Math.round(-G))+","+Math.round(g/2-H)+","+Math.round(G)+","+Math.round(g/2+H)+",0,"+g+",0,0"):(l+="A"+I+","+J+",0,0,0,"+d+","+(g-g/2*(1-t))+"L0,"+g,l+="A"+G+","+H+",0,0,1,0,0"),G=90):(m=d/2-d/2*t,l="M0,0 L"+m+","+g,e.VML?(l="M0,0 L"+m+","+g,m=" B",0>g&&(m=" A"),l+=m+Math.round(d/2-I)+","+Math.round(g-J)+","+Math.round(d/2+I)+","+Math.round(g+J)+",0,"+g+","+d+","+g,l+=" L"+d+",0",l+=m+Math.round(d/2+G)+","+Math.round(H)+","+Math.round(d/2-G)+","+Math.round(-H)+","+d+",0,0,0"):(l+="A"+I+","+J+",0,0,0,"+(d-d/2*(1-t))+","+g+"L"+d+",0",l+="A"+G+","+H+",0,0,1,0,0"),G=180),(b=b.path(l).attr(k)).gradient("linearGradient",[B,e.adjustLuminosity(B,-.3),e.adjustLuminosity(B,-.3),B],G),K?b.translate(h/2,0):b.translate(0,f/2)),d=isNaN(t)?0>g?[w,M,y,C,F,D,A,z,L,b]:[z,L,y,C,F,D,w,M,A,b]:K?d>0?[w,b,z]:[z,b,w]:0>g?[w,b,z]:[z,b,w],e.setCN(c,b,r+"front"),e.setCN(c,y,r+"back"),e.setCN(c,z,r+"top"),e.setCN(c,w,r+"bottom"),e.setCN(c,F,r+"left"),e.setCN(c,D,r+"right"),w=0;w<d.length;w++)(y=d[w])&&(a.push(y),e.setCN(c,y,r+"element"));E&&b.pattern(E,NaN,c.path)},width:function(a){isNaN(a)&&(a=0),this.w=Math.round(a),this.draw()},height:function(a){isNaN(a)&&(a=0),this.h=Math.round(a),this.draw()},animateHeight:function(a,b){var c=this;c.animationFinished=!1,c.easing=b,c.totalFrames=a*e.updateRate,c.rh=c.h,c.frame=0,c.height(1),setTimeout(function(){c.updateHeight.call(c)},1e3/e.updateRate)},updateHeight:function(){var b,a=this;a.frame++,b=a.totalFrames,a.frame>b?(a.height(a.rh),a.animationFinished=!0):(b=a.easing(0,a.frame,1,a.rh-1,b),a.height(b),window.requestAnimationFrame?window.requestAnimationFrame(function(){a.updateHeight.call(a)}):setTimeout(function(){a.updateHeight.call(a)},1e3/e.updateRate))},animateWidth:function(a,b){var c=this;c.animationFinished=!1,c.easing=b,c.totalFrames=a*e.updateRate,c.rw=c.w,c.frame=0,c.width(1),setTimeout(function(){c.updateWidth.call(c)},1e3/e.updateRate)},updateWidth:function(){var b,a=this;a.frame++,b=a.totalFrames,a.frame>b?(a.width(a.rw),a.animationFinished=!0):(b=a.easing(0,a.frame,1,a.rw-1,b),a.width(b),window.requestAnimationFrame?window.requestAnimationFrame(function(){a.updateWidth.call(a)}):setTimeout(function(){a.updateWidth.call(a)},1e3/e.updateRate))}})}(),function(){var e=window.AmCharts;e.CategoryAxis=e.Class({inherits:e.AxisBase,construct:function(a){this.cname="CategoryAxis",e.CategoryAxis.base.construct.call(this,a),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,e.applyTheme(this,a,this.cname)},draw:function(){var a,b,c,d,g,h,f,k,l,m,p,n,u,v,x,E,t,r,B,q,w,y,C,F,D,A;if(e.CategoryAxis.base.draw.call(this),this.generateDFObject(),a=this.chart.chartData,this.data=a,this.labelRotationR=this.labelRotation,this.type=null,e.ifArray(a)){if(c=this.chart,"scrollbar"!=this.id?(e.setCN(c,this.set,"category-axis"),e.setCN(c,this.labelsSet,"category-axis"),e.setCN(c,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-",d=this.start,g=this.labelFrequency,h=0,f=this.end-d+1,k=this.gridCountR,l=this.showFirstLabel,m=this.showLastLabel,n="",n=e.extractPeriod(this.minPeriod),u=e.getPeriodDuration(n.period,n.count),B=this.rotate,q=this.firstDayOfWeek,w=this.boldPeriodBeginning,b=e.resetDateToMin(new Date(a[a.length-1].time+1.05*u),this.minPeriod,1,q).getTime(),this.firstTime=c.firstTime,this.endTime>b&&(this.endTime=b),r=this.minorGridEnabled,x=this.gridAlpha,y=0,C=0,this.widthField)for(b=this.start;b<=this.end;b++)(t=this.data[b])&&(F=+this.data[b].dataContext[this.widthField],isNaN(F)||(y+=F,t.widthValue=F));if(this.parseDates&&!this.equalSpacing)this.lastTime=a[a.length-1].time,this.maxTime=e.resetDateToMin(new Date(this.lastTime+1.05*u),this.minPeriod,1,q).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(h=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,b=this.choosePeriod(0),g=b.period,v=b.count,b=e.getPeriodDuration(g,v),u>b&&(g=n.period,v=n.count,b=u),"WW"==(x=g)&&(x="DD"),this.currentDateFormat=this.dateFormatsObject[x],this.stepWidth=this.getStepWidth(f),k=Math.ceil(this.timeDifference/b)+1,n=e.resetDateToMin(new Date(this.startTime-b),g,v,q).getTime(),this.cellWidth=this.getStepWidth(f),f=Math.round(n/b),d=-1,f/2==Math.round(f/2)&&(d=-2,n-=b),(f=this.start)/2==Math.round(f/2)&&f--,0>f&&(f=0),(C=this.end+2)>=this.data.length&&(C=this.data.length),a=!1,a=!l,this.previousPos=-1e3,this.labelRotationR>20&&(this.safeDistance=5),F=f,this.data[f].time!=e.resetDateToMin(new Date(this.data[f].time),g,v,q).getTime())for(u=0,D=n,b=f;C>b;b++)t=this.data[b].time,this.checkPeriodChange(g,v,t,D)&&(++u>=2&&(F=b,b=C),D=t);if(r&&v>1&&(t=this.chooseMinorFrequency(v),e.getPeriodDuration(g,t)),this.gridCountR>0)for(b=f;C>b;b++)t=this.data[b].time,this.checkPeriodChange(g,v,t,n)&&b>=F&&(f=this.getCoordinate(b-this.start),r=!1,this.nextPeriod[x]&&(r=this.checkPeriodChange(this.nextPeriod[x],1,t,n,x))&&e.resetDateToMin(new Date(t),this.nextPeriod[x],1,q).getTime()!=t&&(r=!1),u=!1,r&&this.markPeriodChange?(r=this.dateFormatsObject[this.nextPeriod[x]],u=!0):r=this.dateFormatsObject[x],n=e.formatDate(new Date(t),r,c),(b==d&&!l||b==k&&!m)&&(n=" "),a?a=!1:(w||(u=!1),f-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(n=this.labelFunction(n,new Date(t),this,g,v,E)),this.boldLabels&&(u=!0),p=new this.axisItemRenderer(this,f,n,void 0,void 0,void 0,void 0,u),r=p.graphics(),this.pushAxisItem(p),r=r.getBBox().width,e.isModern||(r-=f),this.previousPos=f+r)),E=n=t)}}else if(this.cellWidth=this.getStepWidth(f),k>f&&(k=f),h+=this.start,this.stepWidth=this.getStepWidth(f),k>0)for(q=Math.floor(f/k),t=this.chooseMinorFrequency(q),(f=h)/2==Math.round(f/2)&&f--,0>f&&(f=0),w=0,this.widthField&&(f=this.start,q=1),this.end-f+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),b=f;b<=this.end+2;b++){if(k=!1,b>=0&&b<this.data.length?(v=this.data[b],n=v.category,k=v.forceShow):n="",r&&!isNaN(t)){if(b/t!=Math.round(b/t)&&!k)continue;b/q==Math.round(b/q)||k||(this.gridAlpha=this.minorGridAlpha,n=void 0)}else if(b/q!=Math.round(b/q)&&!k)continue;f=this.getCoordinate(b-h),k=0,"start"==this.gridPosition&&(f-=this.cellWidth/2,k=this.cellWidth/2),p=!0,E=k,"start"==this.tickPosition&&(E=0,p=!1,k=0),(b==d&&!l||b==this.end&&!m)&&(n=void 0),Math.round(w/g)!=w/g&&(n=void 0),w++,a=this.cellWidth,B&&(a=NaN,this.ignoreAxisWidth||!c.autoMargins)&&(a="right"==this.position?c.marginRight-this.titleWidth:c.marginLeft-this.titleWidth,a-=this.tickLength+10),this.labelFunction&&v&&(n=this.labelFunction(n,v,this)),n=e.fixBrakes(n),u=!1,this.boldLabels&&(u=!0),b>this.end&&"start"==this.tickPosition&&(n=" "),this.rotate&&this.inside&&(k-=2),isNaN(v.widthValue)||(v.percentWidthValue=v.widthValue/y*100,a=this.rotate?this.height*v.widthValue/y:this.width*v.widthValue/y,f=C,C+=a,E=k=a/2),(p=new this.axisItemRenderer(this,f,n,p,a,k,void 0,u,E,!1,v.labelColor,v.className)).serialDataItem=v,this.pushAxisItem(p),this.gridAlpha=x}for(b=l=0;b<this.data.length;b++)(t=this.data[b])&&(this.parseDates&&!this.equalSpacing?(m=t.time,d=this.cellWidth,"MM"==this.minPeriod&&(d=864e5*e.daysInMonth(new Date(m))*this.stepWidth,t.cellWidth=d),m=Math.round((m-this.startTime)*this.stepWidth+d/2)):m=this.getCoordinate(b-h),t.x[this.id]=m);if(this.widthField)for(b=this.start;b<=this.end;b++)t=this.data[b],d=t.widthValue,t.percentWidthValue=d/y*100,this.rotate?(m=this.height*d/y/2+l,l=this.height*d/y+l):(m=this.width*d/y/2+l,l=this.width*d/y+l),t.x[this.id]=m;for(y=this.guides.length,b=0;y>b;b++)l=this.guides[b],q=q=q=r=d=NaN,m=l.above,l.toCategory&&(q=c.getCategoryIndexByValue(l.toCategory),isNaN(q)||(d=this.getCoordinate(q-h),l.expand&&(d+=this.cellWidth/2),p=new this.axisItemRenderer(this,d,"",!0,NaN,NaN,l),this.pushAxisItem(p,m))),l.category&&(q=c.getCategoryIndexByValue(l.category),isNaN(q)||(r=this.getCoordinate(q-h),l.expand&&(r-=this.cellWidth/2),q=(d-r)/2,p=new this.axisItemRenderer(this,r,l.label,!0,NaN,q,l),this.pushAxisItem(p,m))),w=c.dataDateFormat,l.toDate&&(!w||l.toDate instanceof Date||(l.toDate=l.toDate+" |"),l.toDate=e.getDate(l.toDate,w),this.equalSpacing?(q=c.getClosestIndex(this.data,"time",l.toDate.getTime(),!1,0,this.data.length-1),isNaN(q)||(d=this.getCoordinate(q-h))):d=(l.toDate.getTime()-this.startTime)*this.stepWidth,p=new this.axisItemRenderer(this,d,"",!0,NaN,NaN,l),this.pushAxisItem(p,m)),l.date&&(!w||l.date instanceof Date||(l.date=l.date+" |"),l.date=e.getDate(l.date,w),this.equalSpacing?(q=c.getClosestIndex(this.data,"time",l.date.getTime(),!1,0,this.data.length-1),isNaN(q)||(r=this.getCoordinate(q-h))):r=(l.date.getTime()-this.startTime)*this.stepWidth,q=(d-r)/2,p=!0,l.toDate&&(p=!1),p="H"==this.orientation?new this.axisItemRenderer(this,r,l.label,p,2*q,NaN,l):new this.axisItemRenderer(this,r,l.label,!1,NaN,q,l),this.pushAxisItem(p,m)),p&&(q=p.label)&&this.addEventListeners(q,l),(d>0||r>0)&&(q=!1,this.rotate?(d<this.height||r<this.height)&&(q=!0):(d<this.width||r<this.width)&&(q=!0),q&&(d=new this.guideFillRenderer(this,r,d,l),r=d.graphics(),this.pushAxisItem(d,m),l.graphics=r,r.index=b,this.addEventListeners(r,l)));(c=c.chartCursor)&&(B?c.fixHeight(this.cellWidth):(c.fixWidth(this.cellWidth),c.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=A}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(B=this.axisLine.set)&&B.toFront(),(A=this.getBBox().height)-this.previousHeight>2&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(a){var h,f,k,b=this.data,c=this.chart,d=c.rotate,g=this.stepWidth;if(this.parseDates&&!this.equalSpacing)a=this.startTime+Math.round(a/g)-this.minDuration()/2,h=c.getClosestIndex(b,"time",a,!1,this.start,this.end+1);else if(this.widthField)for(c=Infinity,g=this.start;g<=this.end;g++)(f=this.data[g])&&(f=Math.abs(f.x[this.id]-a),c>f&&(c=f,h=g));else this.startOnAxis||(a-=g/2),h=this.start+Math.round(a/g);return h=e.fitToBounds(h,0,b.length-1),b[h]&&(k=b[h].x[this.id]),d?k>this.height+1&&h--:k>this.width+1&&h--,0>k&&h++,h=e.fitToBounds(h,0,b.length-1)},dateToCoordinate:function(a){return this.parseDates&&!this.equalSpacing?(a.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(a=this.chart.getClosestIndex(this.data,"time",a.getTime(),!1,0,this.data.length-1),this.getCoordinate(a-this.start)):NaN},categoryToCoordinate:function(a){return this.chart?this.parseDates?this.dateToCoordinate(new Date(a)):(a=this.chart.getCategoryIndexByValue(a),isNaN(a)?void 0:this.getCoordinate(a-this.start)):NaN},coordinateToDate:function(a){return this.equalSpacing?(a=this.xToIndex(a),new Date(this.data[a].time)):new Date(this.startTime+a/this.stepWidth)},coordinateToValue:function(a){if(a=this.xToIndex(a),a=this.data[a])return this.parseDates?a.time:a.category},getCoordinate:function(a){return a*=this.stepWidth,this.startOnAxis||(a+=this.stepWidth/2),Math.round(a)},formatValue:function(a,b){return b||(b=this.currentDateFormat),this.parseDates&&(a=e.formatDate(new Date(a),b,this.chart)),a},showBalloonAt:function(a,b){return void 0===b&&(b=this.parseDates?this.dateToCoordinate(new Date(a)):this.categoryToCoordinate(a)),this.adjustBalloonCoordinate(b)},formatBalloonText:function(a,b,c){var k,d="",g="",h=this.chart,f=this.data[b];return f&&(this.parseDates?(d=e.formatDate(f.category,c,h),b=e.changeDate(new Date(f.category),this.minPeriod,1),g=e.formatDate(b,c,h),-1!=d.indexOf("fff")&&(d=e.formatMilliseconds(d,f.category),g=e.formatMilliseconds(g,b))):(this.data[b+1]&&(k=this.data[b+1]),d=e.fixNewLines(f.category),k&&(g=e.fixNewLines(k.category)))),a=a.replace(/\[\[category\]\]/g,d+""),a=a.replace(/\[\[toCategory\]\]/g,g+"")},adjustBalloonCoordinate:function(a,b){var e,h,f,k,c=this.xToIndex(a),d=this.chart.chartCursor;return this.stickBalloonToCategory&&((e=this.data[c])&&(a=e.x[this.id]),this.stickBalloonToStart&&(a-=this.cellWidth/2),h=0,d&&((f=d.limitToGraph)&&(k=f.valueAxis.id,f.hidden||(h=e.axes[k].graphs[f.id].y)),this.rotate?("left"==this.position?(f&&(h-=d.width),h>0&&(h=0)):0>h&&(h=0),d.fixHLine(a,h)):("top"==this.position?(f&&(h-=d.height),h>0&&(h=0)):0>h&&(h=0),d.fullWidth&&(a+=1),d.fixVLine(a,h)))),d&&!b&&(d.setIndex(c),this.parseDates&&d.setTimestamp(this.coordinateToDate(a).getTime())),a}})}(),AmCharts.themes.light={themeName:"light",AmChart:{color:"#000000",backgroundColor:"#FFFFFF"},AmCoordinateChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmStockChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"]},AmSlicedChart:{colors:["#67b7dc","#fdd400","#84b761","#cc4748","#cd82ad","#2f4074","#448e4d","#b7b83f","#b9783f","#b93e3d","#913167"],outlineAlpha:1,outlineThickness:2,labelTickColor:"#000000",labelTickAlpha:.3},AmRectangularChart:{zoomOutButtonColor:"#000000",zoomOutButtonRollOverAlpha:.15,zoomOutButtonImage:"lens"},AxisBase:{axisColor:"#000000",axisAlpha:.3,gridAlpha:.1,gridColor:"#000000"},ChartScrollbar:{backgroundColor:"#000000",backgroundAlpha:.12,graphFillAlpha:.5,graphLineAlpha:0,selectedBackgroundColor:"#FFFFFF",selectedBackgroundAlpha:.4,gridAlpha:.15},ChartCursor:{cursorColor:"#000000",color:"#FFFFFF",cursorAlpha:.5},AmLegend:{color:"#000000"},AmGraph:{lineAlpha:.9},GaugeArrow:{color:"#000000",alpha:.8,nailAlpha:0,innerRadius:"40%",nailRadius:15,startWidth:15,borderAlpha:.8,nailBorderAlpha:0},GaugeAxis:{tickColor:"#000000",tickAlpha:1,tickLength:15,minorTickLength:8,axisThickness:3,axisColor:"#000000",axisAlpha:1,bandAlpha:.8},TrendLine:{lineColor:"#c03246",lineAlpha:.8},AreasSettings:{alpha:.8,color:"#67b7dc",colorSolid:"#003767",unlistedAreasAlpha:.4,unlistedAreasColor:"#000000",outlineColor:"#FFFFFF",outlineAlpha:.5,outlineThickness:.5,rollOverColor:"#3c5bdc",rollOverOutlineColor:"#FFFFFF",selectedOutlineColor:"#FFFFFF",selectedColor:"#f15135",unlistedAreasOutlineColor:"#FFFFFF",unlistedAreasOutlineAlpha:.5},LinesSettings:{color:"#000000",alpha:.8},ImagesSettings:{alpha:.8,labelColor:"#000000",color:"#000000",labelRollOverColor:"#3c5bdc"},ZoomControl:{buttonFillAlpha:.7,buttonIconColor:"#a7a7a7"},SmallMap:{mapColor:"#000000",rectangleColor:"#f15135",backgroundColor:"#FFFFFF",backgroundAlpha:.7,borderThickness:1,borderAlpha:.8},PeriodSelector:{color:"#000000"},PeriodButton:{color:"#000000",background:"transparent",opacity:.7,border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",boxSizing:"border-box"},PeriodButtonSelected:{color:"#000000",backgroundColor:"#b9cdf5",border:"1px solid rgba(0, 0, 0, .3)",MozBorderRadius:"5px",borderRadius:"5px",margin:"1px",outline:"none",opacity:1,boxSizing:"border-box"},PeriodInputField:{color:"#000000",background:"transparent",border:"1px solid rgba(0, 0, 0, .3)",outline:"none"},DataSetSelector:{color:"#000000",selectedBackgroundColor:"#b9cdf5",rollOverBackgroundColor:"#a8b0e4"},DataSetCompareList:{color:"#000000",lineHeight:"100%",boxSizing:"initial",webkitBoxSizing:"initial",border:"1px solid rgba(0, 0, 0, .3)"},DataSetSelect:{border:"1px solid rgba(0, 0, 0, .3)",outline:"none"}},function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return input instanceof Array||"[object Array]"==={}.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"==={}.toString.call(input)}function isObjectEmpty(obj){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(obj).length;var k;for(k in obj)if(obj.hasOwnProperty(k))return!1;return!0}function isUndefined(input){return void 0===input}function isNumber(input){return"number"==typeof input||"[object Number]"==={}.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"==={}.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return{}.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function isValid(m){var flags,parsedParts,isNowValid;if(null==m._isValid){if(flags=getParsingFlags(m),parsedParts=some.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&0>flags.overflow&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.weekdayMismatch&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts),m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i=0;i<momentProperties.length;i++)isUndefined(val=from[prop=momentProperties[i]])||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return 0>number?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){!1===hooks.suppressDeprecationWarnings&&void 0!==console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){var args,arg,i,key;if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){for(args=[],i=0;i<arguments.length;i++){if(arg="","object"==typeof arguments[i]){arg+="\n["+i+"] ";for(key in arguments[0])arg+=key+": "+arguments[0][key]+", ";arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+[].slice.call(args).join("")+"\n"+Error().stack),firstTime=!1}return fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"==={}.toString.call(input)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var u,units=[];for(u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length;return(number>=0?forceSign?"+":"":"-")+(""+Math.pow(10,Math.max(0,zerosToFill))).substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=removeFormattingTokens(array[i]);return function(mom){var i,output="";for(i=0;length>i;i++)output+=isFunction(array[i])?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,function(input){return locale.longDateFormat(input)||input}),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&!isNaN(value)&&("FullYear"===unit&&isLeapYear(mom.year())&&1===mom.month()&&29===mom.date()?mom._d["set"+(mom._isUTC?"UTC":"")+unit](value,mom.month(),daysInMonth(value,mom.month())):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value))}function mod(n,x){return(n%x+x)%x}function daysInMonth(year,month){if(isNaN(year)||isNaN(month))return NaN;var modMonth=mod(month,12);return year+=(month-modMonth)/12,1===modMonth?isLeapYear(year)?29:28:31-modMonth%7%2}function handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:null:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:null:"MMM"===format?-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:null:-1!==(ii=indexOf.call(this._longMonthsParse,llc))?ii:-1!==(ii=indexOf.call(this._shortMonthsParse,llc))?ii:null}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(value=mom.localeData().monthsParse(value),!isNumber(value))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;12>i;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;12>i;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;24>i;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=RegExp("^("+shortPieces.join("|")+")","i")}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 100>y&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 100>y&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;return-((7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7)+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+firstWeekOffset(year,dow,doy);return dayOfYear>0?dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear):resDayOfYear=daysInYear(resYear=year-1)+dayOfYear,{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return 1>week?resWeek=week+weeksInYear(resYear=mom.year()-1,dow,doy):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?"number"==typeof(input=locale.weekdaysParse(input))?input:null:parseInt(input,10)}function parseIsoWeekday(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}function handleStrictParse$1(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:"dddd"===format?-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf.call(this._minWeekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf.call(this._shortWeekdaysParse,llc))?ii:null}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;7>i;i++)mom=createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;7>i;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(j=(split=normalizeLocale(names[i]).split("-")).length,next=(next=normalizeLocale(names[i+1]))?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?getLocale(key):defineLocale(key,values))&&(globalLocale=data),globalLocale._abbr}function defineLocale(name,config){if(null!==config){var parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale){if(null==locales[config.parentLocale])return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locales[config.parentLocale]._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}return delete locales[name],null}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=0>a[MONTH]||a[MONTH]>11?MONTH:1>a[DATE]||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:0>a[HOUR]||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:0>a[MINUTE]||a[MINUTE]>59?MINUTE:0>a[SECOND]||a[SECOND]>59?SECOND:0>a[MILLISECOND]||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),null!=config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),(config._dayOfYear>daysInYear(yearToUse)||0===config._dayOfYear)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24),config._w&&void 0!==config._w.d&&config._w.d!==config._d.getDay()&&(getParsingFlags(config).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(config){var weekYear,week,weekday,dow,doy,temp,weekdayOverflow,curWeek,w=config._w;null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),(1>(weekday=defaults(w.E,1))||weekday>7)&&(weekdayOverflow=!0)):(dow=config._locale._week.dow,doy=config._locale._week.doy,curWeek=weekOfYear(createLocal(),dow,doy),weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?(0>(weekday=w.d)||weekday>6)&&(weekdayOverflow=!0):null!=w.e?(weekday=w.e+dow,(0>w.e||w.e>6)&&(weekdayOverflow=!0)):weekday=dow),1>week||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function extractFromRFC2822Strings(yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){var result=[untruncateYear(yearStr),defaultLocaleMonthsShort.indexOf(monthStr),parseInt(dayStr,10),parseInt(hourStr,10),parseInt(minuteStr,10)];return secondStr&&result.push(parseInt(secondStr,10)),result}function untruncateYear(yearStr){var year=parseInt(yearStr,10);return year>49?year>999?year:1900+year:2e3+year}function preprocessRFC2822(s){return s.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function checkWeekday(weekdayStr,parsedInput,config){return!weekdayStr||defaultLocaleWeekdaysShort.indexOf(weekdayStr)===new Date(parsedInput[0],parsedInput[1],parsedInput[2]).getDay()||(getParsingFlags(config).weekdayMismatch=!0,config._isValid=!1,!1)}function calculateOffset(obsOffset,militaryOffset,numOffset){var hm,m;return obsOffset?obsOffsets[obsOffset]:militaryOffset?0:(hm=parseInt(numOffset,10),m=hm%100,60*((hm-m)/100)+m)}function configFromRFC2822(config){var parsedArray,match=rfc2822.exec(preprocessRFC2822(config._i));if(match){if(parsedArray=extractFromRFC2822Strings(match[4],match[3],match[2],match[5],match[6],match[7]),!checkWeekday(match[1],parsedArray,config))return;config._a=parsedArray,config._tzm=calculateOffset(match[8],match[9],match[10]),config._d=createUTCDate.apply(null,config._a),config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),getParsingFlags(config).rfc2822=!0}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);null===matched?(configFromISO(config),!1===config._isValid&&(delete config._isValid,configFromRFC2822(config),!1===config._isValid&&(delete config._isValid,hooks.createFromInputFallback(config)))):config._d=new Date(+matched[1])}function configFromStringAndFormat(config){if(config._f!==hooks.ISO_8601)if(config._f!==hooks.RFC_2822){config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],(parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0])&&((skipped=string.substr(0,string.indexOf(parsedInput))).length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),12>=config._a[HOUR]&&!0===getParsingFlags(config).bigHour&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}else configFromRFC2822(config);else configFromISO(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?((isPm=locale.isPM(meridiem))&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||void 0===format&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?configFromStringAndArray(config):format?configFromStringAndFormat(config):configFromInput(config),isValid(config)||(config._d=null),config))}function configFromInput(config){var input=config._i;isUndefined(input)?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):isObject(input)?configFromObject(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return!0!==locale&&!1!==locale||(strict=locale,locale=void 0),(isObject(input)&&isObjectEmpty(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}function isDurationValid(m){var key,unitHasDecimal,i;for(key in m)if(-1===indexOf.call(ordering,key)||null!=m[key]&&isNaN(m[key]))return!1;for(unitHasDecimal=!1,i=0;i<ordering.length;++i)if(m[ordering[i]]){if(unitHasDecimal)return!1;parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])&&(unitHasDecimal=!0)}return!0}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=isDurationValid(normalizedInput),this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return 0>number?-1*Math.round(-1*number):Math.round(number)}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return 0>offset&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var chunk,parts,minutes,matches=(string||"").match(matcher);return null===matches?null:(chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],0===(minutes=60*parts[1]+toInt(parts[2]))?0:"+"===parts[0]?minutes:-minutes)}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:(match[1],1),duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(createLocal(duration.from),createLocal(duration.to)),(duration={}).ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):((res=positiveMomentsDifference(other,base)).milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=createDuration(val,period),addSubtract(this,dur,direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,months&&setMonth(mom,get(mom,"Month")+months*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}function monthDiff(a,b){var adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return adjust=0>b-anchor?(b-anchor)/(anchor-a.clone().add(wholeMonthDiff-1,"months")):(b-anchor)/(a.clone().add(wholeMonthDiff+1,"months")-anchor),-(wholeMonthDiff+adjust)||0}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(null!=(newLocaleData=getLocale(key))&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function preParsePostFormat(string){return string}function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){var i,out;if(isNumber(format)&&(index=format,format=void 0),format=format||"",null!=index)return get$1(format,index,field,"month");for(out=[],i=0;12>i;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){var locale,shift,i,out;if("boolean"==typeof localeSorted?(isNumber(format)&&(index=format,format=void 0),format=format||""):(index=format=localeSorted,localeSorted=!1,isNumber(format)&&(index=format,format=void 0),format=format||""),locale=getLocale(),shift=localeSorted?locale._week.dow:0,null!=index)return get$1(format,(index+shift)%7,field,"day");for(out=[],i=0;7>i;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function absCeil(number){return 0>number?Math.floor(number):Math.ceil(number)}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function makeAs(alias){return function(){return this.as(alias)}}function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function relativeTime$1(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||1>=minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1>=hours&&["h"]||hours<thresholds.h&&["hh",hours]||1>=days&&["d"]||days<thresholds.d&&["dd",days]||1>=months&&["M"]||months<thresholds.M&&["MM",months]||1>=years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function sign(x){return(x>0)-(0>x)||+x}function toISOString$1(){var seconds,days,months,minutes,hours,years,Y,M,D,h,m,s,total,totalSign,ymSign,daysSign,hmsSign;return this.isValid()?(seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months),minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12,Y=years,M=months,D=days,h=hours,m=minutes,s=seconds?seconds.toFixed(3).replace(/\.?0+$/,""):"",(total=this.asSeconds())?(totalSign=0>total?"-":"",ymSign=sign(this._months)!==sign(total)?"-":"",daysSign=sign(this._days)!==sign(total)?"-":"",hmsSign=sign(this._milliseconds)!==sign(total)?"-":"",totalSign+"P"+(Y?ymSign+Y+"Y":"")+(M?ymSign+M+"M":"")+(D?daysSign+D+"D":"")+(h||m||s?"T":"")+(h?hmsSign+h+"H":"")+(m?hmsSign+m+"M":"")+(s?hmsSign+s+"S":"")):"P0D"):this.localeData().invalidDate()}var hookCallback,some,momentProperties,updateInProgress,deprecations,keys,defaultCalendar,defaultLongDateFormat,defaultInvalidDate,defaultOrdinal,defaultDayOfMonthOrdinalParse,defaultRelativeTime,aliases,priorities,formattingTokens,localFormattingTokens,formatFunctions,formatTokenFunctions,match1,match2,match3,match4,match6,match1to2,match3to4,match5to6,match1to3,match1to4,match1to6,matchUnsigned,matchSigned,matchOffset,matchShortOffset,matchTimestamp,matchWord,regexes,tokens,YEAR,MONTH,DATE,HOUR,MINUTE,SECOND,MILLISECOND,WEEK,WEEKDAY,getSetYear,indexOf,MONTHS_IN_FORMAT,defaultLocaleMonths,defaultLocaleMonthsShort,defaultMonthsShortRegex,defaultMonthsRegex,defaultLocaleWeek,defaultLocaleWeekdays,defaultLocaleWeekdaysShort,defaultLocaleWeekdaysMin,defaultWeekdaysRegex,defaultWeekdaysShortRegex,defaultWeekdaysMinRegex,defaultLocaleMeridiemParse,getSetHour,baseConfig,locales,localeFamilies,globalLocale,extendedIsoRegex,basicIsoRegex,tzRegex,isoDates,isoTimes,aspNetJsonRegex,rfc2822,obsOffsets,prototypeMin,prototypeMax,now,ordering,chunkOffset,aspNetRegex,isoRegex,add,subtract,lang,getSetDayOfMonth,getSetMinute,getSetSecond,token,getSetMillisecond,proto,proto$1,mathAbs,asMilliseconds,asSeconds,asMinutes,asHours,asDays,asWeeks,asMonths,asYears,milliseconds,seconds,minutes,hours,days,months,years,round,thresholds,abs$1,proto$2;for(some=[].some?[].some:function(fun){var i,t=Object(this),len=t.length>>>0;for(i=0;len>i;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1},momentProperties=hooks.momentProperties=[],updateInProgress=!1,deprecations={},hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res},defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},aliases={},priorities={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8,addFormatToken("Y",0,0,function(){var y=this.year();return y>9999?"+"+y:""+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},getSetYear=makeGetSet("FullYear",!0),indexOf=[].indexOf?[].indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input}),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord,addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)}),defaultLocaleWeek={dow:0,doy:6},addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)}),defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord,addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,function(){return this.hours()||24}),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=24===kInput?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))}),defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){},prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?this>other?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:createInvalid()}),now=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"],offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)}),chunkOffset=/([\+\-]|\d\d)/gi,hooks.updateOffset=function(){},aspNetRegex=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,createDuration.fn=Duration.prototype,createDuration.invalid=function(){return createDuration(NaN)},add=createAdder(1,"add"),subtract=createAdder(-1,"subtract"),hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)}),addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)}),getSetDayOfMonth=makeGetSet("Date",!0),addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE),getSetMinute=makeGetSet("Minutes",!1),addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND),getSetSecond=makeGetSet("Seconds",!1),addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";9>=token.length;token+="S")addRegexToken(token,matchUnsigned);for(token="S";9>=token.length;token+="S")addParseToken(token,function(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))});return getSetMillisecond=makeGetSet("Milliseconds",!1),addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName"),proto=Moment.prototype,proto.add=add,proto.calendar=function(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))},proto.clone=function(){return new Moment(this)},proto.diff=function(input,units,asFloat){var that,zoneDelta,output;if(!this.isValid())return NaN;if(!(that=cloneWithOffset(input,this)).isValid())return NaN;switch(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units)){case"year":output=monthDiff(this,that)/12;break;case"month":output=monthDiff(this,that);break;case"quarter":output=monthDiff(this,that)/3;break;case"second":output=(this-that)/1e3;break;case"minute":output=(this-that)/6e4;break;case"hour":output=(this-that)/36e5;break;case"day":output=(this-that-zoneDelta)/864e5;break;case"week":output=(this-that-zoneDelta)/6048e5;break;default:output=this-that}return asFloat?output:absFloor(output)},proto.endOf=function(units){return void 0===(units=normalizeUnits(units))||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))},proto.format=function(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)},proto.from=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.fromNow=function(withoutSuffix){return this.from(createLocal(),withoutSuffix)},proto.to=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.toNow=function(withoutSuffix){return this.to(createLocal(),withoutSuffix)},proto.get=function(units){return units=normalizeUnits(units),isFunction(this[units])?this[units]():this},proto.invalidAt=function(){return getParsingFlags(this).overflow},proto.isAfter=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())},proto.isBefore=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())},proto.isBetween=function(from,to,units,inclusivity){return("("===(inclusivity=inclusivity||"()")[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))},proto.isSame=function(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid()||("millisecond"===(units=normalizeUnits(units||"millisecond"))?this.valueOf()!==localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()>inputMs||inputMs>this.clone().endOf(units).valueOf())))},proto.isSameOrAfter=function(input,units){return this.isSame(input,units)||this.isAfter(input,units)},proto.isSameOrBefore=function(input,units){return this.isSame(input,units)||this.isBefore(input,units)},proto.isValid=function(){return isValid(this)},proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=function(){return extend({},getParsingFlags(this))},proto.set=function(units,value){var prioritized,i;if("object"==typeof units)for(prioritized=getPrioritizedUnits(units=normalizeObjectUnits(units)),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit]);else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this},proto.startOf=function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},proto.subtract=subtract,proto.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},proto.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},proto.toDate=function(){return new Date(this.valueOf())},proto.toISOString=function(){if(!this.isValid())return null;var m=this.clone().utc();return 0>m.year()||m.year()>9999?formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},proto.inspect=function(){var func,zone,prefix,year,datetime,suffix;return this.isValid()?(func="moment",zone="",this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z"),prefix="["+func+'("]',year=0>this.year()||this.year()>9999?"YYYYYY":"YYYY",datetime="-MM-DD[T]HH:mm:ss.SSS",suffix=zone+'[")]',this.format(prefix+year+datetime+suffix)):"moment.invalid(/* "+this._i+" */)"},proto.toJSON=function(){return this.isValid()?this.toISOString():null},proto.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},proto.unix=function(){return Math.floor(this.valueOf()/1e3)},proto.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},proto.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},proto.year=getSetYear,proto.isLeapYear=function(){return isLeapYear(this.year())},proto.weekYear=function(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},proto.isoWeekYear=function(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},proto.quarter=proto.quarters=function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},proto.month=getSetMonth,proto.daysInMonth=function(){return daysInMonth(this.year(),this.month())},proto.week=proto.weeks=function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},proto.isoWeek=proto.isoWeeks=function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},proto.weeksInYear=function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},proto.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},proto.date=getSetDayOfMonth,proto.day=proto.days=function(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day},proto.weekday=function(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},proto.isoWeekday=function(input){if(!this.isValid())return null!=input?this:NaN;if(null!=input){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}return this.day()||7},proto.dayOfYear=function(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=function(input,keepLocalTime,keepMinutes){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null!=input){if("string"==typeof input){if(null===(input=offsetFromString(matchShortOffset,input)))return this}else 16>Math.abs(input)&&!keepMinutes&&(input*=60);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?offset:getDateOffset(this)},proto.utc=function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},proto.local=function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this},proto.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this},proto.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60==0)},proto.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},proto.isLocal=function(){return!!this.isValid()&&!this._isUTC},proto.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=function(){return this._isUTC?"UTC":""},proto.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var c,other;return isUndefined(this._isDSTShifted)?(c={},copyConfig(c,this),(c=prepareConfig(c))._a?(other=c._isUTC?createUTC(c._a):createLocal(c._a),this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted):this._isDSTShifted}),proto$1=Locale.prototype,proto$1.calendar=function(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output},proto$1.longDateFormat=function(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])},proto$1.invalidDate=function(){return this._invalidDate},proto$1.ordinal=function(number){return this._ordinal.replace("%d",number)},proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},proto$1.pastFuture=function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)},proto$1.set=function(config){var prop,i;for(i in config)isFunction(prop=config[i])?this[i]=prop:this["_"+i]=prop;this._config=config,this._dayOfMonthOrdinalParseLenient=RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},proto$1.months=function(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:isArray(this._months)?this._months:this._months.standalone},proto$1.monthsShort=function(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},proto$1.monthsParse=function(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return handleStrictParse.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},proto$1.monthsRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)},proto$1.monthsShortRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)},proto$1.week=function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},proto$1.firstDayOfYear=function(){return this._week.doy},proto$1.firstDayOfWeek=function(){return this._week.dow},proto$1.weekdays=function(m,format){return m?isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone},proto$1.weekdaysMin=function(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin},proto$1.weekdaysShort=function(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort},proto$1.weekdaysParse=function(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}},proto$1.weekdaysRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)},proto$1.weekdaysShortRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},proto$1.weekdaysMinRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},proto$1.isPM=function(input){return"p"===(input+"").toLowerCase().charAt(0)},proto$1.meridiem=function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale),mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11},abs$1=Math.abs,proto$2=Duration.prototype,proto$2.isValid=function(){return this._isValid},proto$2.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},proto$2.add=function(input,value){return addSubtract$1(this,input,value,1)},proto$2.subtract=function(input,value){return addSubtract$1(this,input,value,-1)},proto$2.as=function(units){var days,months,milliseconds;if(!this.isValid())return NaN;if(milliseconds=this._milliseconds,"month"===(units=normalizeUnits(units))||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw Error("Unknown unit "+units)}},proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},proto$2._bubble=function(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return(0>milliseconds||0>days||0>months)&&(milliseconds>0||days>0||months>0)&&(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},proto$2.clone=function(){return createDuration(this)},proto$2.get=function(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN},proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=function(){return absFloor(this.days()/7)},proto$2.months=months,proto$2.years=years,proto$2.humanize=function(withSuffix){var locale,output;return this.isValid()?(locale=this.localeData(),output=relativeTime$1(this,!withSuffix,locale),withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)):this.localeData().invalidDate()},proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.19.2",function(callback){hookCallback=callback}(createLocal),hooks.fn=proto,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=now,hooks.utc=createUTC,hooks.unix=function(input){return createLocal(1e3*input)},hooks.months=function(format,index){return listMonthsImpl(format,index,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(format,index){return listMonthsImpl(format,index,"monthsShort")},hooks.weekdaysMin=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(name,config){if(null!=config){var locale,tmpLocale,parentConfig=baseConfig;null!=(tmpLocale=loadLocale(name))&&(parentConfig=tmpLocale._config),(locale=new Locale(config=mergeConfigs(parentConfig,config))).parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]},hooks.locales=function(){return keys(locales)},hooks.weekdaysShort=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)},hooks.relativeTimeThreshold=function(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1),!0))},hooks.calendarFormat=function(myMoment,now){var diff=myMoment.diff(now,"days",!0);return-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse"},hooks.prototype=proto,hooks}),function(root,factory){var jQuery,moment;"function"==typeof define&&define.amd?define(["moment","jquery"],function(moment,jquery){return jquery.fn||(jquery.fn={}),root.daterangepicker=factory(moment,jquery)}):"object"==typeof module&&module.exports?((jQuery="undefined"!=typeof window?window.jQuery:void 0)||(jQuery=require("jquery")).fn||(jQuery.fn={}),moment="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=factory(moment,jQuery)):root.daterangepicker=factory(root.moment,root.jQuery)}(this,function(moment,$){var DateRangePicker=function(element,options,cb){var elem,rangeHtml,iterator,start,end,range,val,split,maxDate,list;if(this.parentEl="body",this.element=$(element),this.startDate=moment().startOf("day"),this.endDate=moment().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn--sm",this.applyClass="btn--success",this.cancelClass="btn--danger",this.locale={direction:"ltr",format:moment.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:moment.weekdaysMin(),monthNames:moment.monthsShort(),firstDay:moment.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof options&&null!==options||(options={}),"string"==typeof(options=$.extend(this.element.data(),options)).template||options.template instanceof $||(options.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini form-control" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar glyphicon glyphicon-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o glyphicon glyphicon-time"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=$(options.parentEl&&$(options.parentEl).length?options.parentEl:this.parentEl),this.container=$(options.template).appendTo(this.parentEl),"object"==typeof options.locale&&("string"==typeof options.locale.direction&&(this.locale.direction=options.locale.direction),"string"==typeof options.locale.format&&(this.locale.format=options.locale.format),"string"==typeof options.locale.separator&&(this.locale.separator=options.locale.separator),"object"==typeof options.locale.daysOfWeek&&(this.locale.daysOfWeek=options.locale.daysOfWeek.slice()),"object"==typeof options.locale.monthNames&&(this.locale.monthNames=options.locale.monthNames.slice()),"number"==typeof options.locale.firstDay&&(this.locale.firstDay=options.locale.firstDay),"string"==typeof options.locale.applyLabel&&(this.locale.applyLabel=options.locale.applyLabel),"string"==typeof options.locale.cancelLabel&&(this.locale.cancelLabel=options.locale.cancelLabel),"string"==typeof options.locale.weekLabel&&(this.locale.weekLabel=options.locale.weekLabel),"string"==typeof options.locale.customRangeLabel&&((elem=document.createElement("textarea")).innerHTML=options.locale.customRangeLabel,rangeHtml=elem.value,this.locale.customRangeLabel=rangeHtml)),this.container.addClass(this.locale.direction),"string"==typeof options.startDate&&(this.startDate=moment(options.startDate,this.locale.format)),"string"==typeof options.endDate&&(this.endDate=moment(options.endDate,this.locale.format)),"string"==typeof options.minDate&&(this.minDate=moment(options.minDate,this.locale.format)),"string"==typeof options.maxDate&&(this.maxDate=moment(options.maxDate,this.locale.format)),"object"==typeof options.startDate&&(this.startDate=moment(options.startDate)),"object"==typeof options.endDate&&(this.endDate=moment(options.endDate)),"object"==typeof options.minDate&&(this.minDate=moment(options.minDate)),"object"==typeof options.maxDate&&(this.maxDate=moment(options.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof options.applyClass&&(this.applyClass=options.applyClass),"string"==typeof options.cancelClass&&(this.cancelClass=options.cancelClass),"object"==typeof options.dateLimit&&(this.dateLimit=options.dateLimit),"string"==typeof options.opens&&(this.opens=options.opens),"string"==typeof options.drops&&(this.drops=options.drops),"boolean"==typeof options.showWeekNumbers&&(this.showWeekNumbers=options.showWeekNumbers),"boolean"==typeof options.showISOWeekNumbers&&(this.showISOWeekNumbers=options.showISOWeekNumbers),"string"==typeof options.buttonClasses&&(this.buttonClasses=options.buttonClasses),"object"==typeof options.buttonClasses&&(this.buttonClasses=options.buttonClasses.join(" ")),"boolean"==typeof options.showDropdowns&&(this.showDropdowns=options.showDropdowns),"boolean"==typeof options.showCustomRangeLabel&&(this.showCustomRangeLabel=options.showCustomRangeLabel),"boolean"==typeof options.singleDatePicker&&(this.singleDatePicker=options.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof options.timePicker&&(this.timePicker=options.timePicker),"boolean"==typeof options.timePickerSeconds&&(this.timePickerSeconds=options.timePickerSeconds),"number"==typeof options.timePickerIncrement&&(this.timePickerIncrement=options.timePickerIncrement),"boolean"==typeof options.timePicker24Hour&&(this.timePicker24Hour=options.timePicker24Hour),"boolean"==typeof options.autoApply&&(this.autoApply=options.autoApply),"boolean"==typeof options.autoUpdateInput&&(this.autoUpdateInput=options.autoUpdateInput),"boolean"==typeof options.linkedCalendars&&(this.linkedCalendars=options.linkedCalendars),"function"==typeof options.isInvalidDate&&(this.isInvalidDate=options.isInvalidDate),"function"==typeof options.isCustomDate&&(this.isCustomDate=options.isCustomDate),"boolean"==typeof options.alwaysShowCalendars&&(this.alwaysShowCalendars=options.alwaysShowCalendars),0!=this.locale.firstDay)for(iterator=this.locale.firstDay;iterator>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),iterator--;if(void 0===options.startDate&&void 0===options.endDate&&$(this.element).is("input[type=text]")&&(start=end=null,2==(split=(val=$(this.element).val()).split(this.locale.separator)).length?(start=moment(split[0],this.locale.format),end=moment(split[1],this.locale.format)):this.singleDatePicker&&""!==val&&(start=moment(val,this.locale.format),end=moment(val,this.locale.format)),null!==start&&null!==end&&(this.setStartDate(start),this.setEndDate(end))),"object"==typeof options.ranges){for(range in options.ranges)start="string"==typeof options.ranges[range][0]?moment(options.ranges[range][0],this.locale.format):moment(options.ranges[range][0]),end="string"==typeof options.ranges[range][1]?moment(options.ranges[range][1],this.locale.format):moment(options.ranges[range][1]),this.minDate&&start.isBefore(this.minDate)&&(start=this.minDate.clone()),maxDate=this.maxDate,this.dateLimit&&maxDate&&start.clone().add(this.dateLimit).isAfter(maxDate)&&(maxDate=start.clone().add(this.dateLimit)),maxDate&&end.isAfter(maxDate)&&(end=maxDate.clone()),this.minDate&&end.isBefore(this.minDate,this.timepicker?"minute":"day")||maxDate&&start.isAfter(maxDate,this.timepicker?"minute":"day")||((elem=document.createElement("textarea")).innerHTML=range,rangeHtml=elem.value,this.ranges[rangeHtml]=[start,end]);list="<ul>";for(range in this.ranges)list+='<li data-range-key="'+range+'">'+range+"</li>";this.showCustomRangeLabel&&(list+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),list+="</ul>",this.container.find(".ranges").prepend(list)}"function"==typeof cb&&(this.callback=cb),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof options.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide(),this.timePicker?this.container.find(".ranges ul").hide():this.container.find(".ranges").hide()),(void 0===options.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),void 0!==options.ranges&&"right"==this.opens&&this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent()),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",$.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",$.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",$.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",$.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",$.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",$.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",$.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",$.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",$.proxy(this.showCalendars,this)).on("focus.daterangepicker",".daterangepicker_input input",$.proxy(this.formInputsFocused,this)).on("blur.daterangepicker",".daterangepicker_input input",$.proxy(this.formInputsBlurred,this)).on("change.daterangepicker",".daterangepicker_input input",$.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",$.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",$.proxy(this.clickCancel,this)).on("click.daterangepicker","li",$.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",$.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",$.proxy(this.updateFormInputs,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":$.proxy(this.show,this),"focus.daterangepicker":$.proxy(this.show,this),"keyup.daterangepicker":$.proxy(this.elementChanged,this),"keydown.daterangepicker":$.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",$.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return DateRangePicker.prototype={constructor:DateRangePicker,setStartDate:function(startDate){"string"==typeof startDate&&(this.startDate=moment(startDate,this.locale.format)),"object"==typeof startDate&&(this.startDate=moment(startDate)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(endDate){"string"==typeof endDate&&(this.endDate=moment(endDate,this.locale.format)),"object"==typeof endDate&&(this.endDate=moment(endDate)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var hour,minute,second,ampm;this.timePicker&&(this.endDate?(hour=parseInt(this.container.find(".left .hourselect").val(),10),minute=parseInt(this.container.find(".left .minuteselect").val(),10),second=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(ampm=this.container.find(".left .ampmselect").val())&&12>hour&&(hour+=12),"AM"===ampm&&12===hour&&(hour=0))):(hour=parseInt(this.container.find(".right .hourselect").val(),10),minute=parseInt(this.container.find(".right .minuteselect").val(),10),second=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||("PM"===(ampm=this.container.find(".right .ampmselect").val())&&12>hour&&(hour+=12),"AM"===ampm&&12===hour&&(hour=0))),this.leftCalendar.month.hour(hour).minute(minute).second(second),this.rightCalendar.month.hour(hour).minute(minute).second(second)),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(side){var i,startDay,curDate,col,row,minDate,maxDate,html,dateHtml,currentMonth,currentYear,maxYear,minYear,inMinYear,inMaxYear,monthHtml,m,yearHtml,y,maxLimit,classes,isCustom,cname,disabled,month=(calendar="left"==side?this.leftCalendar:this.rightCalendar).month.month(),year=calendar.month.year(),hour=calendar.month.hour(),minute=calendar.month.minute(),second=calendar.month.second(),daysInMonth=moment([year,month]).daysInMonth(),firstDay=moment([year,month,1]),lastDay=moment([year,month,daysInMonth]),lastMonth=moment(firstDay).subtract(1,"month").month(),lastYear=moment(firstDay).subtract(1,"month").year(),daysInLastMonth=moment([lastYear,lastMonth]).daysInMonth(),dayOfWeek=firstDay.day();for((calendar=[]).firstDay=firstDay,calendar.lastDay=lastDay,i=0;6>i;i++)calendar[i]=[];for((startDay=daysInLastMonth-dayOfWeek+this.locale.firstDay+1)>daysInLastMonth&&(startDay-=7),dayOfWeek==this.locale.firstDay&&(startDay=daysInLastMonth-6),curDate=moment([lastYear,lastMonth,startDay,12,minute,second]),i=0,col=0,row=0;42>i;i++,col++,curDate=moment(curDate).add(24,"hour"))i>0&&col%7==0&&(col=0,row++),calendar[row][col]=curDate.clone().hour(hour).minute(minute).second(second),curDate.hour(12),this.minDate&&calendar[row][col].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&calendar[row][col].isBefore(this.minDate)&&"left"==side&&(calendar[row][col]=this.minDate.clone()),this.maxDate&&calendar[row][col].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&calendar[row][col].isAfter(this.maxDate)&&"right"==side&&(calendar[row][col]=this.maxDate.clone());if("left"==side?this.leftCalendar.calendar=calendar:this.rightCalendar.calendar=calendar,minDate="left"==side?this.minDate:this.startDate,maxDate=this.maxDate,"left"==side?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"},html='<table class="table-condensed">',html+="<thead>",html+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(html+="<th></th>"),minDate&&!minDate.isBefore(calendar.firstDay)||this.linkedCalendars&&"left"!=side?html+="<th></th>":html+='<th class="prev available"><i class="material-icons">&#xE5CB;</i></th>',dateHtml=this.locale.monthNames[calendar[1][1].month()]+calendar[1][1].format(" YYYY"),this.showDropdowns){for(currentMonth=calendar[1][1].month(),currentYear=calendar[1][1].year(),maxYear=maxDate&&maxDate.year()||currentYear+5,inMinYear=currentYear==(minYear=minDate&&minDate.year()||currentYear-50),inMaxYear=currentYear==maxYear,monthHtml='<select class="monthselect">',m=0;12>m;m++)inMinYear&&m<minDate.month()||inMaxYear&&m>maxDate.month()?monthHtml+="<option value='"+m+"'"+(m===currentMonth?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[m]+"</option>":monthHtml+="<option value='"+m+"'"+(m===currentMonth?" selected='selected'":"")+">"+this.locale.monthNames[m]+"</option>";for(monthHtml+="</select>",yearHtml='<select class="yearselect">',y=minYear;maxYear>=y;y++)yearHtml+='<option value="'+y+'"'+(y===currentYear?' selected="selected"':"")+">"+y+"</option>";dateHtml=monthHtml+(yearHtml+="</select>")}for(html+='<th colspan="5" class="month">'+dateHtml+"</th>",maxDate&&!maxDate.isAfter(calendar.lastDay)||this.linkedCalendars&&"right"!=side&&!this.singleDatePicker?html+="<th></th>":html+='<th class="next available"><i class="material-icons">&#xE5CC;</i></th>',html+="</tr>",html+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(html+='<th class="week">'+this.locale.weekLabel+"</th>"),$.each(this.locale.daysOfWeek,function(index,dayOfWeek){html+="<th>"+dayOfWeek+"</th>"}),html+="</tr>",html+="</thead>",html+="<tbody>",null==this.endDate&&this.dateLimit&&(maxLimit=this.startDate.clone().add(this.dateLimit).endOf("day"),maxDate&&!maxLimit.isBefore(maxDate)||(maxDate=maxLimit)),row=0;6>row;row++){for(html+="<tr>",this.showWeekNumbers?html+='<td class="week">'+calendar[row][0].week()+"</td>":this.showISOWeekNumbers&&(html+='<td class="week">'+calendar[row][0].isoWeek()+"</td>"),col=0;7>col;col++){for(classes=[],calendar[row][col].isSame(new Date,"day")&&classes.push("today"),calendar[row][col].isoWeekday()>5&&classes.push("weekend"),calendar[row][col].month()!=calendar[1][1].month()&&classes.push("off"),this.minDate&&calendar[row][col].isBefore(this.minDate,"day")&&classes.push("off","disabled"),maxDate&&calendar[row][col].isAfter(maxDate,"day")&&classes.push("off","disabled"),this.isInvalidDate(calendar[row][col])&&classes.push("off","disabled"),calendar[row][col].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&classes.push("active","start-date"),null!=this.endDate&&calendar[row][col].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&classes.push("active","end-date"),null!=this.endDate&&calendar[row][col]>this.startDate&&calendar[row][col]<this.endDate&&classes.push("in-range"),!1!==(isCustom=this.isCustomDate(calendar[row][col]))&&("string"==typeof isCustom?classes.push(isCustom):[].push.apply(classes,isCustom)),cname="",disabled=!1,i=0;i<classes.length;i++)cname+=classes[i]+" ","disabled"==classes[i]&&(disabled=!0);disabled||(cname+="available"),html+='<td class="'+cname.replace(/^\s+|\s+$/g,"")+'" data-title="r'+row+"c"+col+'">'+calendar[row][col].date()+"</td>"}html+="</tr>"}html+="</tbody>",html+="</table>",this.container.find(".calendar."+side+" .calendar-table").html(html)},renderTimePicker:function(side){var html,selected,minDate,maxDate,timeSelector,ampm,start,end,i,i_in_24,time,disabled,padded,am_html,pm_html;if("right"!=side||this.endDate){for(maxDate=this.maxDate,!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(maxDate=this.startDate.clone().add(this.dateLimit)),"left"==side?(selected=this.startDate.clone(),minDate=this.minDate):"right"==side&&(selected=this.endDate.clone(),minDate=this.startDate,""!=(timeSelector=this.container.find(".calendar.right .calendar-time div")).html()&&(selected.hour(timeSelector.find(".hourselect option:selected").val()||selected.hour()),selected.minute(timeSelector.find(".minuteselect option:selected").val()||selected.minute()),selected.second(timeSelector.find(".secondselect option:selected").val()||selected.second()),this.timePicker24Hour||("PM"===(ampm=timeSelector.find(".ampmselect option:selected").val())&&12>selected.hour()&&selected.hour(selected.hour()+12),"AM"===ampm&&12===selected.hour()&&selected.hour(0))),selected.isBefore(this.startDate)&&(selected=this.startDate.clone()),maxDate&&selected.isAfter(maxDate)&&(selected=maxDate.clone())),html='<select class="hourselect">',start=this.timePicker24Hour?0:1,end=this.timePicker24Hour?23:12,i=start;end>=i;i++)i_in_24=i,this.timePicker24Hour||(i_in_24=12>selected.hour()?12==i?0:i:12==i?12:i+12),time=selected.clone().hour(i_in_24),disabled=!1,minDate&&time.minute(59).isBefore(minDate)&&(disabled=!0),maxDate&&time.minute(0).isAfter(maxDate)&&(disabled=!0),i_in_24!=selected.hour()||disabled?html+=disabled?'<option value="'+i+'" disabled="disabled" class="disabled">'+i+"</option>":'<option value="'+i+'">'+i+"</option>":html+='<option value="'+i+'" selected="selected">'+i+"</option>";for(html+="</select> ",html+=': <select class="minuteselect">',i=0;60>i;i+=this.timePickerIncrement)padded=10>i?"0"+i:i,time=selected.clone().minute(i),disabled=!1,minDate&&time.second(59).isBefore(minDate)&&(disabled=!0),maxDate&&time.second(0).isAfter(maxDate)&&(disabled=!0),selected.minute()!=i||disabled?html+=disabled?'<option value="'+i+'" disabled="disabled" class="disabled">'+padded+"</option>":'<option value="'+i+'">'+padded+"</option>":html+='<option value="'+i+'" selected="selected">'+padded+"</option>";if(html+="</select> ",this.timePickerSeconds){for(html+=': <select class="secondselect">',i=0;60>i;i++)padded=10>i?"0"+i:i,time=selected.clone().second(i),disabled=!1,minDate&&time.isBefore(minDate)&&(disabled=!0),maxDate&&time.isAfter(maxDate)&&(disabled=!0),selected.second()!=i||disabled?html+=disabled?'<option value="'+i+'" disabled="disabled" class="disabled">'+padded+"</option>":'<option value="'+i+'">'+padded+"</option>":html+='<option value="'+i+'" selected="selected">'+padded+"</option>";html+="</select> "}this.timePicker24Hour||(html+='<select class="ampmselect">',am_html="",pm_html="",minDate&&selected.clone().hour(12).minute(0).second(0).isBefore(minDate)&&(am_html=' disabled="disabled" class="disabled"'),maxDate&&selected.clone().hour(0).minute(0).second(0).isAfter(maxDate)&&(pm_html=' disabled="disabled" class="disabled"'),12>selected.hour()?html+='<option value="AM" selected="selected"'+am_html+'>AM</option><option value="PM"'+pm_html+">PM</option>":html+='<option value="AM"'+am_html+'>AM</option><option value="PM" selected="selected"'+pm_html+">PM</option>",html+="</select>"),this.container.find(".calendar."+side+" .calendar-time div").html(html)}},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var containerTop,parentOffset={top:0,left:0},parentRightEdge=$(window).width();this.parentEl.is("body")||(parentOffset={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},parentRightEdge=this.parentEl[0].clientWidth+this.parentEl.offset().left),containerTop="up"==this.drops?this.element.offset().top-this.container.outerHeight()-parentOffset.top:this.element.offset().top+this.element.outerHeight()-parentOffset.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:containerTop,right:parentRightEdge-this.element.offset().left-this.element.outerWidth(),left:"auto"}),0>this.container.offset().left&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:containerTop,left:this.element.offset().left-parentOffset.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),0>this.container.offset().left&&this.container.css({right:"auto",left:9})):(this.container.css({top:containerTop,left:this.element.offset().left-parentOffset.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>$(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){this.isShowing||(this._outsideClickProxy=$.proxy(function(e){this.outsideClick(e)},this),$(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),$(window).on("resize.daterangepicker",$.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),$(document).off(".daterangepicker"),$(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var target=$(e.target);"focusin"==e.type||target.closest(this.element).length||target.closest(this.container).length||target.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){var label,dates;this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||((label=e.target.getAttribute("data-range-key"))==this.locale.customRangeLabel?this.updateView():(dates=this.ranges[label],this.container.find("input[name=daterangepicker_start]").val(dates[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(dates[1].format(this.locale.format))))},clickRange:function(e){var dates,label=e.target.getAttribute("data-range-key");this.chosenLabel=label,label==this.locale.customRangeLabel?this.showCalendars():(dates=this.ranges[label],this.startDate=dates[0],this.endDate=dates[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(e){$(e.target).parents(".calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){$(e.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){var title,row,col,cal,date,leftCalendar,rightCalendar,startDate;$(e.target).hasClass("available")&&(row=(title=$(e.target).attr("data-title")).substr(1,1),col=title.substr(3,1),cal=$(e.target).parents(".calendar"),date=cal.hasClass("left")?this.leftCalendar.calendar[row][col]:this.rightCalendar.calendar[row][col],this.endDate&&!this.container.find("input[name=daterangepicker_start]").is(":focus")?this.container.find("input[name=daterangepicker_start]").val(date.format(this.locale.format)):this.endDate||this.container.find("input[name=daterangepicker_end]").is(":focus")||this.container.find("input[name=daterangepicker_end]").val(date.format(this.locale.format)),leftCalendar=this.leftCalendar,rightCalendar=this.rightCalendar,startDate=this.startDate,this.endDate||this.container.find(".calendar tbody td").each(function(index,el){var title,row,col,dt;$(el).hasClass("week")||(row=(title=$(el).attr("data-title")).substr(1,1),col=title.substr(3,1),(dt=$(el).parents(".calendar").hasClass("left")?leftCalendar.calendar[row][col]:rightCalendar.calendar[row][col]).isAfter(startDate)&&dt.isBefore(date)||dt.isSame(date,"day")?$(el).addClass("in-range"):$(el).removeClass("in-range"))}))},clickDate:function(e){var title,row,col,date,hour,ampm,minute,second;$(e.target).hasClass("available")&&(row=(title=$(e.target).attr("data-title")).substr(1,1),col=title.substr(3,1),date=$(e.target).parents(".calendar").hasClass("left")?this.leftCalendar.calendar[row][col]:this.rightCalendar.calendar[row][col],this.endDate||date.isBefore(this.startDate,"day")?(this.timePicker&&(hour=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(ampm=this.container.find(".left .ampmselect").val())&&12>hour&&(hour+=12),"AM"===ampm&&12===hour&&(hour=0)),minute=parseInt(this.container.find(".left .minuteselect").val(),10),second=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,date=date.clone().hour(hour).minute(minute).second(second)),this.endDate=null,this.setStartDate(date.clone())):!this.endDate&&date.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(hour=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(ampm=this.container.find(".right .ampmselect").val())&&12>hour&&(hour+=12),"AM"===ampm&&12===hour&&(hour=0)),minute=parseInt(this.container.find(".right .minuteselect").val(),10),second=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,date=date.clone().hour(hour).minute(minute).second(second)),this.setEndDate(date.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),e.stopPropagation())},calculateChosenLabel:function(){var range,customRange=!0,i=0;for(range in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[range][0])&&this.endDate.isSame(this.ranges[range][1])){customRange=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[range][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[range][1].format("YYYY-MM-DD")){customRange=!1,this.chosenLabel=this.container.find(".ranges li:eq("+i+")").addClass("active").html();break}i++}customRange&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html():this.chosenLabel=null,this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var isLeft=$(e.target).closest(".calendar").hasClass("left"),leftOrRight=isLeft?"left":"right",cal=this.container.find(".calendar."+leftOrRight),month=parseInt(cal.find(".monthselect").val(),10),year=cal.find(".yearselect").val();isLeft||(year<this.startDate.year()||year==this.startDate.year()&&month<this.startDate.month())&&(month=this.startDate.month(),year=this.startDate.year()),this.minDate&&(year<this.minDate.year()||year==this.minDate.year()&&month<this.minDate.month())&&(month=this.minDate.month(),year=this.minDate.year()),this.maxDate&&(year>this.maxDate.year()||year==this.maxDate.year()&&month>this.maxDate.month())&&(month=this.maxDate.month(),year=this.maxDate.year()),isLeft?(this.leftCalendar.month.month(month).year(year),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(month).year(year),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var ampm,start,end,cal=$(e.target).closest(".calendar"),isLeft=cal.hasClass("left"),hour=parseInt(cal.find(".hourselect").val(),10),minute=parseInt(cal.find(".minuteselect").val(),10),second=this.timePickerSeconds?parseInt(cal.find(".secondselect").val(),10):0;this.timePicker24Hour||("PM"===(ampm=cal.find(".ampmselect").val())&&12>hour&&(hour+=12),"AM"===ampm&&12===hour&&(hour=0)),isLeft?((start=this.startDate.clone()).hour(hour),start.minute(minute),start.second(second),this.setStartDate(start),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==start.format("YYYY-MM-DD")&&this.endDate.isBefore(start)&&this.setEndDate(start.clone())):this.endDate&&((end=this.endDate.clone()).hour(hour),end.minute(minute),end.second(second),this.setEndDate(end)),this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(e){var isRight=$(e.target).closest(".calendar").hasClass("right"),start=moment(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),end=moment(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);start.isValid()&&end.isValid()&&(isRight&&end.isBefore(start)&&(start=end.clone()),this.setStartDate(start),this.setEndDate(end),isRight?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateView()},formInputsFocused:function(e){this.container.find('input[name="daterangepicker_start"], input[name="daterangepicker_end"]').removeClass("active"),$(e.target).addClass("active"),$(e.target).closest(".calendar").hasClass("right")&&(this.endDate=null,this.setStartDate(this.startDate.clone()),this.updateView())},formInputsBlurred:function(e){var val,end;this.endDate||(val=this.container.find('input[name="daterangepicker_end"]').val(),(end=moment(val,this.locale.format)).isValid()&&(this.setEndDate(end),this.updateView()))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&this.element.val().length>=this.locale.format.length){var dateString=this.element.val().split(this.locale.separator),start=null,end=null;2===dateString.length&&(start=moment(dateString[0],this.locale.format),end=moment(dateString[1],this.locale.format)),(this.singleDatePicker||null===start||null===end)&&(end=start=moment(this.element.val(),this.locale.format)),start.isValid()&&end.isValid()&&(this.setStartDate(start),this.setEndDate(end),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},$.fn.daterangepicker=function(options,callback){return this.each(function(){var el=$(this);el.data("daterangepicker")&&el.data("daterangepicker").remove(),el.data("daterangepicker",new DateRangePicker(el,options,callback))}),this},DateRangePicker});